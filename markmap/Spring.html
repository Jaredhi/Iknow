<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>

</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@6.6.0"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.2.3"></script><script>((e,t,r)=>{const{Markmap:n}=e();window.mm=n.create("svg#mindmap",null==t?void 0:t(),r)})(()=>window.markmap,t=>{return t=t||window.d3,{color:(n=t.scaleOrdinal(t.schemeCategory10),t=>n(t.p.i))};var n},{"t":"heading","d":1,"p":{"lines":[0,1]},"v":"spring","c":[{"t":"heading","d":2,"p":{"lines":[2,3]},"v":"spring概述","c":[{"t":"heading","d":3,"p":{"lines":[4,5]},"v":"什么是spring","c":[{"t":"list_item","d":5,"p":{"lines":[6,7]},"v":"是一个框架，核心技术是ioc，aop，实现解耦合。"},{"t":"list_item","d":5,"p":{"lines":[7,8]},"v":"spring是一个容器，容器中存放的是java对象，需要做的是把对象放入到容器中"}]},{"t":"heading","d":3,"p":{"lines":[11,12]},"v":"怎么使用spring","c":[{"t":"list_item","d":5,"p":{"lines":[13,14]},"v":"spring是一个容器，把项目中用的对象放入到容器中"},{"t":"list_item","d":5,"p":{"lines":[14,15]},"v":"让容器完成对象的创建，对象之间关系的管理（属性赋值）"},{"t":"list_item","d":5,"p":{"lines":[15,16]},"v":"我们在程序中从容器中获取 要使用的对象"}]},{"t":"heading","d":3,"p":{"lines":[17,18]},"v":"不放入到spring容器中的对象","c":[{"t":"list_item","d":5,"p":{"lines":[19,20]},"v":"1.实体类对象，实体类数据来自数据库的"},{"t":"list_item","d":5,"p":{"lines":[20,21]},"v":"2.servlet， listener， filter等"}]},{"t":"heading","d":3,"p":{"lines":[22,23]},"v":"什么样的对象放入容器中","c":[{"t":"list_item","d":5,"p":{"lines":[24,25]},"v":"dao类，service类，controller类，工具类","c":[{"t":"list_item","d":7,"p":{"lines":[26,27]},"v":"1.使用xml配置文件，使用<bean>"},{"t":"list_item","d":7,"p":{"lines":[27,28]},"v":"2.注解"}]},{"t":"list_item","d":5,"p":{"lines":[29,30]},"v":"spring中的对象默认都是单例的，在容器中叫这个名称的对象只有一个"}]}]},{"t":"heading","d":2,"p":{"lines":[31,32]},"v":"使用spring框架的步骤","c":[{"t":"heading","d":3,"p":{"lines":[33,34]},"v":"1.加入依赖","c":[{"t":"list_item","d":5,"p":{"lines":[35,40]},"v":"<dependency><br>\n<groupId>org.springframework</groupId><br>\n<artifactId>spring-context</artifactId><br>\n<version>5.2.5.RELEASE</version><br>\n</dependency>"}]},{"t":"heading","d":3,"p":{"lines":[41,42]},"v":"2.创建类：接口，实现类，没有接口的类"},{"t":"heading","d":3,"p":{"lines":[43,44]},"v":"3.创建spring的配置文件，使用<bean>声明对象"},{"t":"heading","d":3,"p":{"lines":[45,46]},"v":"4.我们使用容器中的对象， 通过ApplicationContext接口和他的实现类ClassPathXmlApplcactionContext的方法getBean()"}]},{"t":"heading","d":2,"p":{"lines":[47,48]},"v":"核心技术","c":[{"t":"heading","d":3,"p":{"lines":[49,50]},"v":"ioc：控制反转","c":[{"t":"list_item","d":5,"p":{"lines":[51,52]},"v":"1.理论，思想，概念：指导开发人员在容器中，代码之外管理对象，给属性赋值，管理依赖"},{"t":"list_item","d":5,"p":{"lines":[52,53]},"v":"2.ioc技术实现使用的di（依赖注入）： 开发人员在项目中只需要提供对象的名称， 对象的创建，查找，赋值都由容器内部自己实现"},{"t":"list_item","d":5,"p":{"lines":[53,54]},"v":"3.spring使用di的技术， 底层使用的是反射机制"},{"t":"list_item","d":5,"p":{"lines":[54,55]},"v":"di给属性赋值","c":[{"t":"list_item","d":7,"p":{"lines":[56,57]},"v":"1.set注入：spring调用类的set方法实现属性赋值","c":[{"t":"list_item","d":9,"p":{"lines":[58,59]},"v":"1.简单类型的set注入<property name=\"属性名\" value=\"属性的值\" />"},{"t":"list_item","d":9,"p":{"lines":[59,60]},"v":"2.引用类型的set注入<proper name=\"属性名\" ref=\"bean的id\" />"}]},{"t":"list_item","d":7,"p":{"lines":[61,62]},"v":"2.构造注入：spring调用有参数构造方法","c":[{"t":"list_item","d":9,"p":{"lines":[63,64]},"v":"1.&lt;constructor-arg&gt;的name属性，name表示构造方法的形参名"},{"t":"list_item","d":9,"p":{"lines":[64,65]},"v":"2.&lt;constructor-arg&gt;的index属性，表示构造方法形参的位置，从0开始"}]},{"t":"list_item","d":7,"p":{"lines":[66,67]},"v":"3.自动注入","c":[{"t":"list_item","d":9,"p":{"lines":[68,69]},"v":"由spring根据某些规则，给引用类型完成赋值，常用的有byName,byType"},{"t":"list_item","d":9,"p":{"lines":[69,70]},"v":"1.byName:按名称注入， java类中引用类型的属性名和spring容器中bean的【id】一样，数据类型一样。这样的bean赋值给引用类型"},{"t":"list_item","d":9,"p":{"lines":[70,71]},"v":"2.byType：按类型注入，java类中引用类型的是【数据类型】和spring容器中bean的【class】是同源关系的，这样的bean能够赋值给引用类型"}]}]},{"t":"list_item","d":5,"p":{"lines":[72,73]},"v":"常用注解","c":[{"t":"list_item","d":7,"p":{"lines":[74,75]},"v":"1.@Component,创建对象"},{"t":"list_item","d":7,"p":{"lines":[75,76]},"v":"2.@Repository, 创建dao对象，用来访问数据库的"},{"t":"list_item","d":7,"p":{"lines":[76,77]},"v":"3.@Service，创建Service对象， 处理业务逻辑的，可以有事务功能"},{"t":"list_item","d":7,"p":{"lines":[77,78]},"v":"4.@Controller,创建控制器对象的， 接收请求，显示处理结果的"},{"t":"list_item","d":7,"p":{"lines":[78,79]},"v":"5.@Value简单类型的属性赋值"},{"t":"list_item","d":7,"p":{"lines":[79,80]},"v":"6.@Autowired: spring框架中引用类型的赋值注解， 支持byName,byType,默认是byType"},{"t":"list_item","d":7,"p":{"lines":[80,81]},"v":"7.@Resource:jdk中的注解， 使用自动注入给引用类型赋值，支持byName，byType，默认是byName"},{"t":"list_item","d":7,"p":{"lines":[81,82]},"v":"8.注解的使用步骤：","c":[{"t":"list_item","d":9,"p":{"lines":[83,84]},"v":"1.加入依赖 ：spring-context, 间接加入spring-aop"},{"t":"list_item","d":9,"p":{"lines":[84,85]},"v":"2.在类中加入注解"},{"t":"list_item","d":9,"p":{"lines":[85,86]},"v":"3.在spring的配置文件中，加入组件扫描器的标签 &lt;context:component-scan base-package=&quot;包名&quot;&gt;"}]}]},{"t":"list_item","d":5,"p":{"lines":[87,88]},"v":"ioc能实现解耦合","c":[{"t":"list_item","d":7,"p":{"lines":[89,90]},"v":"ioc能够实现业务对象之间的解耦合， 例如service和dao对象之间的解耦合。"}]}]},{"t":"heading","d":3,"p":{"lines":[91,92]},"v":"aop:面向切面编程","c":[{"t":"list_item","d":5,"p":{"lines":[93,94]},"v":"底层是动态代理","c":[{"t":"list_item","d":7,"p":{"lines":[95,96]},"v":"1.jdk动态代理","c":[{"t":"list_item","d":9,"p":{"lines":[97,98]},"v":"使用jdk反射包中的类实现创建代理对象的功能"},{"t":"list_item","d":9,"p":{"lines":[98,99]},"v":"要求：目标类必须实现接口"}]},{"t":"list_item","d":7,"p":{"lines":[100,101]},"v":"2.cglib动态代理","c":[{"t":"list_item","d":9,"p":{"lines":[102,103]},"v":"使用第三方的工具库，实现代理对象的创建"},{"t":"list_item","d":9,"p":{"lines":[103,104]},"v":"要求：目标类必须能够继承，不能是final"},{"t":"list_item","d":9,"p":{"lines":[104,105]},"v":"原理：就是继承，子类就是代理"}]}]},{"t":"list_item","d":5,"p":{"lines":[106,107]},"v":"aop：看做是动态代理的规范化，把实现动态代理的步骤进行了一个规范，定义"},{"t":"list_item","d":5,"p":{"lines":[107,108]},"v":"aop作用：","c":[{"t":"list_item","d":7,"p":{"lines":[109,110]},"v":"1.在目标类不修改源代码的情况下，增加功能"},{"t":"list_item","d":7,"p":{"lines":[110,111]},"v":"2.减少重复的代码"},{"t":"list_item","d":7,"p":{"lines":[111,112]},"v":"3.专注业务功能的实现"},{"t":"list_item","d":7,"p":{"lines":[112,113]},"v":"4.解耦合： 业务功能和日志，事务这些非业务功能的耦合"}]},{"t":"list_item","d":5,"p":{"lines":[114,115]},"v":"什么时候考虑使用aop技术","c":[{"t":"list_item","d":7,"p":{"lines":[116,117]},"v":"1.当你要给一个系统中存在的类修改功能，但是原有类的功能不完善，但是你还有源代码，使用aop就增加功能"},{"t":"list_item","d":7,"p":{"lines":[117,118]},"v":"2.你要给项目中的多个类，增加一个相同的功能，使用aop"},{"t":"list_item","d":7,"p":{"lines":[118,119]},"v":"3.给业务方法增加事务， 日志输出"}]},{"t":"list_item","d":5,"p":{"lines":[120,121]},"v":"aop的实现框架","c":[{"t":"list_item","d":7,"p":{"lines":[122,123]},"v":"1.spring实现了aop， 实现方式是接口"},{"t":"list_item","d":7,"p":{"lines":[123,124]},"v":"2.aspectj框架","c":[{"t":"list_item","d":9,"p":{"lines":[125,126]},"v":"1.使用注解可以实现aop的功能"},{"t":"list_item","d":9,"p":{"lines":[126,127]},"v":"2.使用xml配置文件中的标签实现aop功能"}]}]},{"t":"list_item","d":5,"p":{"lines":[128,129]},"v":"aop中概念","c":[{"t":"list_item","d":7,"p":{"lines":[130,131]},"v":"1.aspect：切面，表示给业务方法增加的功能，一般日志输出，事务，权限检查等是切面"},{"t":"list_item","d":7,"p":{"lines":[131,132]},"v":"2.pointcut:切入点，是一个或多个JoinPoint的集合，表示切面功能执行的位置"},{"t":"list_item","d":7,"p":{"lines":[132,133]},"v":"3.advice：通知，也叫增强，表示切面执行的时间，在方法前，方法后等等"}]},{"t":"list_item","d":5,"p":{"lines":[134,135]},"v":"aspectj框架的使用","c":[{"t":"list_item","d":7,"p":{"lines":[136,137]},"v":"1.表示切面的执行时间，使用的通知注解","c":[{"t":"list_item","d":9,"p":{"lines":[138,139]},"v":"1.@Before:前置通知，在目标方法之前先执行切面的功能"},{"t":"list_item","d":9,"p":{"lines":[139,140]},"v":"2.@AfterReturning后置通知，在目标方法之后执行的，能够获取到目标方法的返回值"},{"t":"list_item","d":9,"p":{"lines":[140,141]},"v":"3.@Around 环绕通知，在目标方法前和后都能增强功能，控制目标方法的的访问，修改返回值"},{"t":"list_item","d":9,"p":{"lines":[141,142]},"v":"4.@AfterThrowing 异常通知，在目标方法抛出异常后执行的通知"},{"t":"list_item","d":9,"p":{"lines":[142,143]},"v":"5.@After 最终通知 ，总是会被执行的代码"},{"t":"list_item","d":9,"p":{"lines":[143,144]},"v":"6.@Pointcut 定义和管理切入点的辅助注解"},{"t":"list_item","d":9,"p":{"lines":[144,145]},"v":"7.代理的使用方式","c":[{"t":"list_item","d":11,"p":{"lines":[146,147]},"v":"1.如果目标类有接口，框架使用jdk动态代理"},{"t":"list_item","d":11,"p":{"lines":[147,148]},"v":"2.如果目标类没有接口，默认使用的cglib动态代理"},{"t":"list_item","d":11,"p":{"lines":[148,149]},"v":"3.有接口也可以强制使用cglib动态代理"}]}]},{"t":"list_item","d":7,"p":{"lines":[150,151]},"v":"2.表示切面位置的切入点表达式：execution(访问修饰符 返回值  包名.类名.方法名称(方法的参数) 异常)"}]}]},{"t":"heading","d":3,"p":{"lines":[152,153]},"v":"spring整合mybatis","c":[{"t":"list_item","d":5,"p":{"lines":[154,155]},"v":"整合的想法：使用spring的ioc核心技术，把mybatis框架中使用的对象交给spring统一创建和管理。spring是容器，存放你项目中要使用的各种对象， 例如Service对象， Dao对象，工具类对象等等。"},{"t":"list_item","d":5,"p":{"lines":[155,156]},"v":"交给spring的mybatis对象","c":[{"t":"list_item","d":7,"p":{"lines":[157,158]},"v":"1.数据源DataSource,使用阿里公司的Druid连接池"},{"t":"list_item","d":7,"p":{"lines":[158,159]},"v":"2.SqlSessionFactory对象， 使用的SqlSessionFactoryBean在内部创建的SqlSessionFactory"},{"t":"list_item","d":7,"p":{"lines":[159,160]},"v":"3.Dao代理对象，使用的MapperScannConfigure，在这个类的内部，调用getMapper()，创建接口的Dao对象"}]}]},{"t":"heading","d":3,"p":{"lines":[161,162]},"v":"spring事务","c":[{"t":"list_item","d":5,"p":{"lines":[163,164]},"v":"1.事务管理器：提交和回滚事务","c":[{"t":"list_item","d":7,"p":{"lines":[165,166]},"v":"PlatformTransactionManager接口和他的实现类"}]},{"t":"list_item","d":5,"p":{"lines":[167,168]},"v":"2.事务定义接口：TransactionDefinition","c":[{"t":"list_item","d":7,"p":{"lines":[169,170]},"v":"定义了传播行为，隔离级别，超时常量值"}]},{"t":"list_item","d":5,"p":{"lines":[171,172]},"v":"3.方法的事务属性","c":[{"t":"list_item","d":7,"p":{"lines":[173,174]},"v":"4个隔离级别"},{"t":"list_item","d":7,"p":{"lines":[174,175]},"v":"7个传播行为：默认是required"},{"t":"list_item","d":7,"p":{"lines":[175,176]},"v":"1个超时时间"}]},{"t":"list_item","d":5,"p":{"lines":[177,178]},"v":"事务的实现","c":[{"t":"list_item","d":7,"p":{"lines":[179,180]},"v":"1.spring框架自己实现，使用注解@Transactional"},{"t":"list_item","d":7,"p":{"lines":[180,181]},"v":"2.使用aspectj框架的aop，在xml配置文件中配置的"}]},{"t":"list_item","d":5,"p":{"lines":[182,183]},"v":"事务的实现是aop的环绕通知"}]},{"t":"heading","d":3,"p":{"lines":[184,185]},"v":"web项目中使用spring","c":[{"t":"list_item","d":5,"p":{"lines":[186,187]},"v":"需要创建容器一次，使用监听器"},{"t":"list_item","d":5,"p":{"lines":[187,194]},"v":"&lt;context-param&gt;<br>\n&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;<br>\n&lt;param-value&gt;classpath:spring.xml&lt;/param-value&gt;<br>\n&lt;/context-param&gt;<br>\n<listener><br>\n&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;<br>\n</listener>"}]}]}]})</script>
</body>
</html>
