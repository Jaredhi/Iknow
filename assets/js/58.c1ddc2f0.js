(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{479:function(s,n,t){"use strict";t.r(n);var a=t(15),e=Object(a.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"å‰è¨€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[s._v("#")]),s._v(" å‰è¨€")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("æ­£å‘ä»£ç†ï¼šç±»ä¼¼ä¸€ä¸ªè·³æ¿æœºï¼Œç”±ä»£ç†å®¢æˆ·ç«¯å»è¯·æ±‚æœåŠ¡å™¨ã€‚æ¯”å¦‚ï¼šæˆ‘æ˜¯ä¸€ä¸ªç”¨æˆ·ï¼Œæˆ‘è®¿é—®ä¸äº†æŸç½‘ç«™ï¼Œä½†æ˜¯æˆ‘èƒ½è®¿é—®ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ï¼Œè¿™ä¸ªä»£ç†æœåŠ¡å™¨ï¼Œå®ƒèƒ½è®¿é—®é‚£ä¸ªæˆ‘ä¸èƒ½è®¿é—®çš„ç½‘ç«™ï¼Œäºæ˜¯æˆ‘å…ˆè¿ä¸Šä»£ç†æœåŠ¡å™¨ï¼Œå‘Šè¯‰å®ƒæˆ‘éœ€è¦é‚£ä¸ªæ— æ³•è®¿é—®ç½‘ç«™çš„å†…å®¹ï¼Œä»£ç†æœåŠ¡å™¨å»å–å›æ¥,ç„¶åè¿”å›ç»™æˆ‘ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("åå‘ä»£ç†ï¼ˆReverse Proxyï¼‰ï¼šä»¥ä»£ç†æœåŠ¡å™¨æ¥æ¥å— internet ä¸Šçš„è¿æ¥è¯·æ±‚ï¼Œç„¶åè½¬å‘å„å†…éƒ¨ç½‘ç»œä¸Šçš„æœåŠ¡å™¨å¹¶å°†ä»æœåŠ¡å™¨ä¸Šå¾—åˆ°çš„ç»“æœè¿”å›ç»™ internet ä¸Šè¯·æ±‚è¿æ¥çš„å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶ä»£ç†æœåŠ¡å™¨å¯¹å¤–å°±è¡¨ç°ä¸ºä¸€ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("ä¸¤è€…çš„åŒºåˆ«ï¼š"),t("strong",[s._v("æ­£å‘ä»£ç†")]),s._v("ä»£ç†çš„å¯¹è±¡æ˜¯å®¢æˆ·ç«¯ï¼Œ"),t("strong",[s._v("åå‘ä»£ç†")]),s._v("ä»£ç†çš„å¯¹è±¡æ˜¯æœåŠ¡ç«¯")])])]),s._v(" "),t("p",[s._v("ğŸ”œğŸ’¡"),t("a",{attrs:{href:"https://www.zhihu.com/question/24723688/answer/128105528",target:"_blank",rel:"noopener noreferrer"}},[s._v("æ­£å‘ä»£ç†ä¸åå‘ä»£ç†é€šä¿—è§£é‡Š"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"nginx-çš„ä¼˜ç‚¹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-çš„ä¼˜ç‚¹"}},[s._v("#")]),s._v(" nginx çš„ä¼˜ç‚¹")]),s._v(" "),t("ol",[t("li",[s._v("é«˜å¹¶å‘ã€‚é™æ€å°æ–‡ä»¶")]),s._v(" "),t("li",[s._v("å ç”¨èµ„æºå°‘ã€‚2ä¸‡å¹¶å‘ã€10ä¸ªçº¿ç¨‹ï¼Œå†…å­˜æ¶ˆè€—å‡ ç™¾Mã€‚")]),s._v(" "),t("li",[s._v("åŠŸèƒ½ç§ç±»æ¯”è¾ƒå¤šã€‚web,cache,proxyã€‚æ¯ä¸€ä¸ªåŠŸèƒ½éƒ½ä¸æ˜¯ç‰¹åˆ«å¼ºã€‚")]),s._v(" "),t("li",[s._v("æ”¯æŒepollæ¨¡å‹ï¼Œä½¿å¾—nginxå¯ä»¥æ”¯æŒé«˜å¹¶å‘ã€‚")]),s._v(" "),t("li",[s._v("nginx é…åˆåŠ¨æ€æœåŠ¡å’ŒApacheæœ‰åŒºåˆ«ã€‚ï¼ˆFASTCGI æ¥å£ï¼‰")]),s._v(" "),t("li",[s._v("åˆ©ç”¨nginxå¯ä»¥å¯¹IPé™é€Ÿï¼Œå¯ä»¥é™åˆ¶è¿æ¥æ•°ã€‚")]),s._v(" "),t("li",[s._v("é…ç½®ç®€å•ï¼Œæ›´çµæ´»ã€‚")])]),s._v(" "),t("h2",{attrs:{id:"nginx-åº”ç”¨åœºåˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-åº”ç”¨åœºåˆ"}},[s._v("#")]),s._v(" nginx åº”ç”¨åœºåˆ")]),s._v(" "),t("ol",[t("li",[s._v("é™æ€æœåŠ¡å™¨ã€‚ï¼ˆå›¾ç‰‡ï¼Œè§†é¢‘æœåŠ¡ï¼‰å¦ä¸€ä¸ªlighttpdã€‚å¹¶å‘å‡ ä¸‡ï¼Œhtmlï¼Œjsï¼Œcssï¼Œflvï¼Œjpgï¼Œgifç­‰ã€‚")]),s._v(" "),t("li",[s._v("åŠ¨æ€æœåŠ¡ã€‚")]),s._v(" "),t("li",[s._v("åå‘ä»£ç†ï¼Œè´Ÿè½½å‡è¡¡ã€‚æ—¥pv2000Wä»¥ä¸‹ï¼Œéƒ½å¯ä»¥ç›´æ¥ç”¨nginxåšä»£ç†ã€‚")]),s._v(" "),t("li",[s._v("ç¼“å­˜æœåŠ¡ã€‚ç±»ä¼¼ SQUID,VARNISHã€‚")])]),s._v(" "),t("h2",{attrs:{id:"nginx-å®‰è£…"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-å®‰è£…"}},[s._v("#")]),s._v(" nginx å®‰è£…")]),s._v(" "),t("p",[s._v("è¿™é‡Œä½¿ç”¨â›³ï¸ "),t("a",{attrs:{href:"https://jaredh.cn/pages/91630a/",target:"_blank",rel:"noopener noreferrer"}},[s._v("docker"),t("OutboundLink")],1),s._v(" å®¹å™¨å¿«é€Ÿå®‰è£…ï¼Œçœå»äº†è®¸å¤šç¹ççš„é…ç½®ï¼Œä¾¿äºæˆ‘ä»¬æ›´å¿«çš„æŒæ¡ nginx çš„ä½¿ç”¨ã€‚")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("docker run nginx:1.18\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("å…·ä½“"),t("a",{attrs:{href:"https://jaredh.cn/pages/0e922d/#nginx",target:"_blank",rel:"noopener noreferrer"}},[s._v("æŒ‚è½½é…ç½®"),t("OutboundLink")],1)])]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("ç‚¹å‡»æŸ¥çœ‹")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker run --name nginx -d -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(":80 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /opt/nginx/conf/nginx.conf:/etc/nginx/nginx.conf "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /opt/nginx/logs:/var/log/nginx "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /opt/nginx/conf.d/:/etc/nginx/conf.d "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /opt/nginx/html:/usr/share/nginx/html "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-d nginx:1.18\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])])]),s._v(" "),t("ul",[t("li",[s._v("docker è¿›å…¥ nginx å®¹å™¨å†…éƒ¨ "),t("code",[s._v("docker exec -it å®¹å™¨id /bin/bash")])])]),s._v(" "),t("h2",{attrs:{id:"nginx-å¸¸ç”¨å‘½ä»¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-å¸¸ç”¨å‘½ä»¤"}},[s._v("#")]),s._v(" nginx å¸¸ç”¨å‘½ä»¤")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("nginx  -t\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# éªŒè¯é…ç½®æ˜¯å¦æ­£ç¡®: ")]),s._v("\nnginx  -V\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹è¯¦ç»†çš„ç‰ˆæœ¬å·")]),s._v("\nnginx  -v\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹ç®€æ´ç‰ˆæœ¬å·")]),s._v("\nstart  nginx \t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯åŠ¨")]),s._v("\nnginx   -s   stop\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¿«é€Ÿåœæ­¢æˆ–å…³é—­")]),s._v("\nnginx   -s   quit\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ­£å¸¸åœæ­¢æˆ–å…³é—­")]),s._v("\nnginx   -s  reload\t\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é…ç½®æ–‡ä»¶ä¿®æ”¹é‡è£…è½½å‘½ä»¤")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"nginx-ç›‘æ§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-ç›‘æ§"}},[s._v("#")]),s._v(" nginx ç›‘æ§")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("å¼€å¯çŠ¶æ€é¡µ")]),s._v(" "),t("div",{staticClass:"language-nginx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-nginx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åœ¨httpå—å†…æ·»åŠ ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("listen")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server_name")]),s._v(" localost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#è®¾å®šæŸ¥çœ‹NginxçŠ¶æ€çš„åœ°å€   ")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("NginxStatus "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  \n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("stub_status")]),s._v(" on"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   \n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("access_log")]),s._v(" off"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   \n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# auth_basic "Please input password";   ')]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# auth_basic_user_file conf.d/pwd;   ")]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("stub_status")]),s._v("  : (on/off) è¡¨ç¤ºå¼€å¯ stubStatus çš„å·¥ä½œçŠ¶æ€ç»Ÿè®¡åŠŸèƒ½ã€‚")]),s._v(" "),t("li",[t("code",[s._v("access_log")]),s._v(" : (on/off)  å…³é—­ access_log æ—¥å¿—è®°å½•åŠŸèƒ½ã€‚")]),s._v(" "),t("li",[t("code",[s._v("auth_basic")]),s._v(" : nginx çš„ä¸€ç§è®¤è¯æœºåˆ¶ï¼Œåé¢æ˜¯éªŒè¯æ—¶çš„æç¤ºä¿¡æ¯ã€‚")]),s._v(" "),t("li",[t("code",[s._v("auth_basic_user_file")]),s._v(" : ç”¨æ¥æŒ‡å®šå¯†ç æ–‡ä»¶çš„ä½ç½®ã€‚")])])]),s._v(" "),t("li",[t("p",[s._v("è®¿é—®ï¼š"),t("code",[s._v("curl http://127.0.0.1/NginxStatus")])]),s._v(" "),t("div",{staticClass:"language-txt line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Active connections: 2 \nserver accepts handled requests\n 2 2 5 \nReading: 0 Writing: 1 Waiting: 1 \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("Active connections")]),s._v(" : æ´»è·ƒçš„è¿æ¥æ•°é‡")]),s._v(" "),t("li",[t("code",[s._v("server accepts handled requests")]),s._v(" : æ€»å…±å¤„ç†äº†2ä¸ªè¿æ¥ , æˆåŠŸåˆ›å»º2æ¬¡æ¡æ‰‹, æ€»å…±å¤„ç†äº†5ä¸ªè¯·æ±‚")]),s._v(" "),t("li",[t("code",[s._v("Reading")]),s._v(" :  è¯»å–å®¢æˆ·ç«¯çš„è¿æ¥æ•°.")]),s._v(" "),t("li",[t("code",[s._v("Writing")]),s._v(" :  å“åº”æ•°æ®åˆ°å®¢æˆ·ç«¯çš„æ•°é‡")]),s._v(" "),t("li",[t("code",[s._v("Waiting")]),s._v(" :  å¼€å¯ keep-alive çš„æƒ…å†µä¸‹,è¿™ä¸ªå€¼ç­‰äº active â€“ (reading+writing), æ„æ€å°±æ˜¯ Nginx å·²ç»å¤„ç†å®Œæ­£åœ¨ç­‰å€™ä¸‹ä¸€æ¬¡è¯·æ±‚æŒ‡ä»¤çš„é©»ç•™è¿æ¥.")])])]),s._v(" "),t("li",[t("p",[s._v("é…ç½®ç™»å½•å¯†ç ")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®‰è£… htpasswd")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y httpd-tools\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è®¾ç½®ç”¨æˆ·åå’Œå¯†ç ï¼Œå¹¶æŠŠç”¨æˆ·åã€å¯†ç ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ä¸­")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" htpasswd -c "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v(" mynginx "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¿å­˜æ–‡ä»¶å  ç”¨æˆ·å")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŒ‰æç¤ºè¾“å…¥ä¸¤æ¬¡å¯†ç ")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹å¯†ç ï¼ˆåŠ å¯†åï¼‰/opt/nginx/")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@iZwz pwd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v("\nmynginx:"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$apr1")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$RH3sT")]),s._v(".3F"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$DKYdWYHZGWEajsj")]),s._v(".fjHbU.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("æœ€åå°†ä¸Šé¢æ³¨é‡Šæ‰“å¼€"),t("code",[s._v("auth_basic")]),s._v("ï¼Œ"),t("code",[s._v("auth_basic_user_file")]),s._v("ï¼Œé‡å¯ nginx")])])]),s._v(" "),t("h2",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")])]),s._v(" "),t("p",[s._v("ğŸ–  "),t("strong",[s._v("å‚è€ƒ")])]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://www.cnblogs.com/biglittleant/p/8979966.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("æ­»ç£• nginx ç³»åˆ—"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.cnblogs.com/sanduzxcvbnm/p/11274080.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("nginx é…ç½®è®¿é—®å¯†ç "),t("OutboundLink")],1)])])])}),[],!1,null,null,null);n.default=e.exports}}]);