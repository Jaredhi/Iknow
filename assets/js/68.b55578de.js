(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{489:function(s,t,a){"use strict";a.r(t);var n=a(15),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[s._v("#")]),s._v(" å‰è¨€")]),s._v(" "),a("h3",{attrs:{id:"å…³äºå®¹å™¨æŒ‚è½½è·¯å¾„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…³äºå®¹å™¨æŒ‚è½½è·¯å¾„"}},[s._v("#")]),s._v(" å…³äºå®¹å™¨æŒ‚è½½è·¯å¾„")]),s._v(" "),a("p",[s._v("æˆ‘ä¸€èˆ¬å­˜æ”¾åˆ° /opt/docker/ ä¸‹é¢ã€‚ï¼ˆæœ‰ root ç”¨æˆ·æƒ…å†µä¸‹ï¼‰")]),s._v(" "),a("p",[s._v("å¯¹åº”æŒ‚è½½çš„æ–‡ä»¶ç›®å½•åº”è¯¥æå‰åˆ›å»ºå¥½ã€‚ä¾‹å¦‚ï¼š")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /opt/nginx/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("conf,conf.d,html,logs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"å…³äºå®¹å™¨å†…éƒ¨æ—¶é—´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…³äºå®¹å™¨å†…éƒ¨æ—¶é—´"}},[s._v("#")]),s._v(" å…³äºå®¹å™¨å†…éƒ¨æ—¶é—´")]),s._v(" "),a("blockquote",[a("p",[s._v("dockerå®¹å™¨å†…æ—¶é—´ä¸æœåŠ¡å™¨æ—¶é—´å·®è·8å°æ—¶ï¼Œå› ä¸ºåŸç”Ÿdockeræ˜¯0æ—¶åŒºï¼Œä½†æˆ‘ä»¬æœåŠ¡å™¨é‡‡ç”¨äºšæ´²ä¸Šæµ·ä¸œå…«åŒºã€‚")])]),s._v(" "),a("h4",{attrs:{id:"æœªå¯åŠ¨å®¹å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœªå¯åŠ¨å®¹å™¨"}},[s._v("#")]),s._v(" æœªå¯åŠ¨å®¹å™¨")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("å°†æœ¬åœ°çš„ "),a("code",[s._v("localtime")]),s._v("å’Œ"),a("code",[s._v("timezone")]),s._v(" ,æŒ‚è½½åˆ°å®¹å™¨ä¸­ã€‚")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("-v /etc/localtime:/etc/localtime")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("-v /etc/timezone:/etc/timezone")]),s._v(" ï¼ˆä¸ä¸€å®šéœ€è¦ï¼‰")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä»¥ä¸‹æ˜¯ timezone æ–‡ä»¶å†…å®¹")]),s._v("\nAsia/Shanghai\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"å·²ç»å¯åŠ¨å®¹å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å·²ç»å¯åŠ¨å®¹å™¨"}},[s._v("#")]),s._v(" å·²ç»å¯åŠ¨å®¹å™¨")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("é¦–å…ˆè¿›å…¥å®¹å™¨ "),a("code",[s._v("docker exec -it /bin/sh")]),s._v(" æŸ¥è¯¢æ—¶é—´ "),a("code",[s._v("date -R")])])]),s._v(" "),a("li",[a("p",[s._v("åˆ›å»ºæ–‡ä»¶å¤¹"),a("code",[s._v("mkdir -p /usr/share/zoneinfo/Asia")])])]),s._v(" "),a("li",[a("p",[s._v("å›åˆ°å®¿ä¸»æœºï¼Œå¤åˆ¶å®¿ä¸»æœºé‡Œçš„æ–‡ä»¶åˆ°å®¹å™¨ä¸­")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("docker "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/share/zoneinfo/Asia/Shanghai å®¹å™¨IDæˆ–å®¹å™¨å:/usr/share/zoneinfo/Asia\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("è¿›å…¥å®¹å™¨")]),s._v(" "),a("div",{staticClass:"language-shel line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker exec -it å®¹å™¨Idæˆ–å®¹å™¨å\ncp -i /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("æ­¤æ—¶å¯ä»¥ä¼šæŠ¥é”™"),a("code",[s._v("cp: not writing through dangling symlink '/etc/localtime'")])]),s._v(" "),a("p",[a("strong",[s._v("è§£å†³æ–¹æ³•ï¼š")])]),s._v(" "),a("p",[s._v("åˆ é™¤å®¹å™¨å†…çš„"),a("code",[s._v("/etc/localtime")]),s._v(",é‡æ–°å¤åˆ¶")]),s._v(" "),a("div",{staticClass:"language-rm -rf localtimeshell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("rm -rf /etc/localtime\ncp -i /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("date æŸ¥çœ‹æ—¶é—´")]),s._v(" "),a("p",[s._v("åœ¨åˆ›å»ºçš„æ—¶å€™æœ€å¥½å¡«æŠŠ localtime å’Œ timezone ä¸¤ä¸ªæ–‡ä»¶æ˜ å°„åˆ°å®¹å™¨å†… "),a("code",[s._v("/etc/localtime")]),s._v(" å’Œ "),a("code",[s._v("/etc/timezone")])])])]),s._v(" "),a("h2",{attrs:{id:"nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[s._v("#")]),s._v(" Nginx")]),s._v(" "),a("h3",{attrs:{id:"æŒ‚è½½ç›®å½•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æŒ‚è½½ç›®å½•"}},[s._v("#")]),s._v(" æŒ‚è½½ç›®å½•")]),s._v(" "),a("p",[a("code",[s._v("mkdir -p /opt/nginx/{conf,conf.d,html,logs}")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("è¯´æ˜")]),s._v(" "),a("th",[s._v("æœ¬æœº")]),s._v(" "),a("th",[s._v("å®¹å™¨")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("é»˜è®¤é…ç½®æ–‡ä»¶")]),s._v(" "),a("td",[s._v("/opt/nginx/conf/nginx.conf")]),s._v(" "),a("td",[s._v("/etc/nginx/nginx.conf")])]),s._v(" "),a("tr",[a("td",[s._v("å…¶ä»–é…ç½®")]),s._v(" "),a("td",[s._v("/opt/nginx/conf.d/")]),s._v(" "),a("td",[s._v("/etc/nginx/conf.d")])]),s._v(" "),a("tr",[a("td",[s._v("æ—¥å¿—è¾“å‡º")]),s._v(" "),a("td",[s._v("/opt/nginx/logs")]),s._v(" "),a("td",[s._v("/var/log/nginx")])]),s._v(" "),a("tr",[a("td",[s._v("é™æ€èµ„æº")]),s._v(" "),a("td",[s._v("/opt/nginx/html")]),s._v(" "),a("td",[s._v("/usr/share/nginx/html")])])])]),s._v(" "),a("h3",{attrs:{id:"åˆ›å»ºå®¹å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºå®¹å™¨"}},[s._v("#")]),s._v(" åˆ›å»ºå®¹å™¨")]),s._v(" "),a("p",[a("strong",[s._v("æ³¨æ„ï¼šå…ˆå°†é…ç½®å¥½çš„ nginx.conf æ”¾åˆ°å¤–éƒ¨æŒ‚è½½çš„confç›®å½•ä¸‹")]),s._v("ã€‚ğŸŒ"),a("a",{attrs:{href:"http://jaredh.cn/pages/4f3ab6/#%E9%BB%98%E8%AE%A4",target:"_blank",rel:"noopener noreferrer"}},[s._v("nginx é…ç½®è¯¦è§£"),a("OutboundLink")],1)]),s._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("é»˜è®¤ nginx.conf")]),s._v(" "),a("div",{staticClass:"language-nginx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v("  nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("worker_processes")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("error_log")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("log warn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pid")]),s._v("        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("run"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pid")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("events")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("worker_connections")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("http")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("include")]),s._v("       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("mime"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("types")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default_type")]),s._v("  application"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("octet"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("stream"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("log_format")]),s._v("  main  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'$remote_addr - $remote_user [$time_local] \"$request\" '")]),s._v("\n                      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'$status $body_bytes_sent \"$http_referer\" '")]),s._v("\n                      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'"$http_user_agent" "$http_x_forwarded_for"\'')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("access_log")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("var"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("log"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("access"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("log  main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sendfile")]),s._v("        on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#tcp_nopush     on;")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("keepalive_timeout")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("65")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#gzip  on;")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("include")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nginx"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("d"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker run --name nginx -d -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(":80 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /opt/nginx/conf/nginx.conf:/etc/nginx/nginx.conf "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /opt/nginx/logs:/var/log/nginx "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /opt/nginx/conf.d/:/etc/nginx/conf.d "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /opt/nginx/html:/usr/share/nginx/html "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-d nginx:1.18\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h2",{attrs:{id:"jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins"}},[s._v("#")]),s._v(" Jenkins")]),s._v(" "),a("h3",{attrs:{id:"æŒ‚è½½ç›®å½•-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æŒ‚è½½ç›®å½•-2"}},[s._v("#")]),s._v(" æŒ‚è½½ç›®å½•")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("è¯´æ˜")]),s._v(" "),a("th",[s._v("æœ¬æœº")]),s._v(" "),a("th",[s._v("å®¹å™¨")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("å·¥ä½œç›®å½•")]),s._v(" "),a("td",[s._v("/opt/jenkins_home")]),s._v(" "),a("td",[s._v("/var/jenkins_home")])]),s._v(" "),a("tr",[a("td",[s._v("æ—¶åŒº")]),s._v(" "),a("td",[s._v("/etc/timezone")]),s._v(" "),a("td",[s._v("/etc/timezone")])]),s._v(" "),a("tr",[a("td",[s._v("æ—¶é—´")]),s._v(" "),a("td",[s._v("/etc/localtime")]),s._v(" "),a("td",[s._v("/etc/localtime")])])])]),s._v(" "),a("h3",{attrs:{id:"åˆ›å»ºå®¹å™¨-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºå®¹å™¨-2"}},[s._v("#")]),s._v(" åˆ›å»ºå®¹å™¨")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker run --name jenkins_wiki "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10240")]),s._v(":8080 -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10241")]),s._v(":50000 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /opt/jenkins_home:/var/jenkins_home "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /opt/timezone:/etc/timezone "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /opt/localtime:/etc/localtime  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-d jenkins/jenkins:lts\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"æ³¨æ„äº‹é¡¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨æ„äº‹é¡¹"}},[s._v("#")]),s._v(" æ³¨æ„äº‹é¡¹")]),s._v(" "),a("p",[a("strong",[s._v("æŠ¥é”™ : æƒé™é—®é¢˜")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("Can not "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),s._v(" to /var/jenkins_home/copy_reference_file.log. Wrong volume permissions?\ntouch: cannot "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" â€˜/var/jenkins_home/copy_reference_file.logâ€™: Permission denied\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("strong",[s._v("åŸå› æ˜¯Jenkinsé•œåƒå†…éƒ¨ä½¿ç”¨çš„ç”¨æˆ·æ˜¯jenkonsï¼Œä½†æ˜¯æˆ‘ä»¬å¯åŠ¨å®¹å™¨æ—¶çš„è´¦å·æ˜¯rootï¼Œå¯¼è‡´æ²¡æœ‰æƒé™æ“ä½œå†…éƒ¨ç›®å½•ï¼Œæˆ‘ä»¬å¯ä»¥ç¨å¾®æ”¹ä¸€ä¸‹ä¸Šé¢çš„å‘½ä»¤ï¼š")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker run --name jenkins_wiki  -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10240")]),s._v(":8080 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10241")]),s._v(":50000 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /opt/jenkins_home:/var/jenkins_home "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /etc/timezone:/etc/timezone "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /etc/localtime:/etc/localtime "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-u "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1001")]),s._v(" -d jenkins/jenkins:lts\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[a("strong",[s._v("è¿™é‡Œ -u 1001 çš„æ„æ€æ˜¯è¦†ç›–å®¹å™¨å†…éƒ¨çš„è´¦å·ï¼Œå¼•ç”¨ idä¸º1001çš„è´¦å·")])]),s._v(" "),a("h2",{attrs:{id:"redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[s._v("#")]),s._v(" Redis")]),s._v(" "),a("h3",{attrs:{id:"æŒ‚è½½ç›®å½•-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æŒ‚è½½ç›®å½•-3"}},[s._v("#")]),s._v(" æŒ‚è½½ç›®å½•")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("è¯´æ˜")]),s._v(" "),a("th",[s._v("æœ¬æœº")]),s._v(" "),a("th",[s._v("å®¹å™¨")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("é…ç½®æ–‡ä»¶ç›®å½•")]),s._v(" "),a("td",[s._v("/opt/redis/conf")]),s._v(" "),a("td",[s._v("/var/jenkins_home")])]),s._v(" "),a("tr",[a("td",[s._v("æ•°æ®ç›®å½•")]),s._v(" "),a("td",[s._v("/opt/redis/data")]),s._v(" "),a("td",[s._v("/etc/timezone")])])])]),s._v(" "),a("h3",{attrs:{id:"åˆ›å»ºå®¹å™¨-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ›å»ºå®¹å™¨-3"}},[s._v("#")]),s._v(" åˆ›å»ºå®¹å™¨")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker run --name myredis "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v(":6379 --restart always -d --privileged"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /opt/redis/conf/redis.conf:/etc/redis/redis.conf "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n-v /opt/redis/data:/data  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nredis redis-server /etc/redis/redis.conf "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--appendonly "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"è¯´æ˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¯´æ˜"}},[s._v("#")]),s._v(" è¯´æ˜")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("-d                                                  -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼å¯åŠ¨å®¹å™¨\n-p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v(":6379                                        -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" ç»‘å®šå®¿ä¸»æœºç«¯å£\n--name myredis                                      -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" æŒ‡å®šå®¹å™¨åç§°\n--restart always                                    -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" å¼€æœºå¯åŠ¨\n--privileged"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true                                   -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" æå‡å®¹å™¨å†…æƒé™\n-v /opt/redis/conf:/etc/redis/redis.conf    \t\t\t\t-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" æ˜ å°„é…ç½®æ–‡ä»¶\n-v /opt/redis/data:/data                    \t\t\t\t-"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" æ˜ å°„æ•°æ®ç›®å½•\n--appendonly "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("                                    -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" å¼€å¯æ•°æ®æŒä¹…åŒ–\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);