<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Redis | Jared&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="https://www.jaredh.cn/.vuepress/public/img/%E7%BA%B8%E9%A3%9E%E6%9C%BA.png">
    <meta name="description" content="çŸ¥è¯†ç§¯ç´¯åº“">
    <meta name="keywords" content="ä¸ªäººæŠ€æœ¯åšå®¢,å…¨æ ˆ,å…¨æ ˆå¼€å‘,DevOps,æ¡†æ¶,æŠ€æœ¯æ–‡æ¡£,å­¦ä¹ ,Java,Spring,TypeScript,vue,git,markdown">
    <meta name="theme-color" content="#1166cd">
    <link rel="preload" href="/assets/css/0.styles.44d0f432.css" as="style"><link rel="preload" href="/assets/js/app.dce23f32.js" as="script"><link rel="preload" href="/assets/js/2.0a476569.js" as="script"><link rel="preload" href="/assets/js/3.03310ead.js" as="script"><link rel="preload" href="/assets/js/51.a2eae4fb.js" as="script"><link rel="prefetch" href="/assets/js/10.be7f436c.js"><link rel="prefetch" href="/assets/js/100.c5faf45f.js"><link rel="prefetch" href="/assets/js/101.42e0ac50.js"><link rel="prefetch" href="/assets/js/102.bb14e64b.js"><link rel="prefetch" href="/assets/js/103.81bf3c7c.js"><link rel="prefetch" href="/assets/js/104.d1c8d8f0.js"><link rel="prefetch" href="/assets/js/105.d7aa788f.js"><link rel="prefetch" href="/assets/js/106.39cb6fdd.js"><link rel="prefetch" href="/assets/js/107.b26b0841.js"><link rel="prefetch" href="/assets/js/108.41d302aa.js"><link rel="prefetch" href="/assets/js/109.f4382788.js"><link rel="prefetch" href="/assets/js/11.32bd7745.js"><link rel="prefetch" href="/assets/js/110.3d84f092.js"><link rel="prefetch" href="/assets/js/111.2c7a7ff1.js"><link rel="prefetch" href="/assets/js/112.23adafb9.js"><link rel="prefetch" href="/assets/js/113.f6aeaecd.js"><link rel="prefetch" href="/assets/js/114.2012c13a.js"><link rel="prefetch" href="/assets/js/115.bf3e2dbe.js"><link rel="prefetch" href="/assets/js/116.3bd9a150.js"><link rel="prefetch" href="/assets/js/117.ab19fd54.js"><link rel="prefetch" href="/assets/js/118.9ad186b9.js"><link rel="prefetch" href="/assets/js/119.a193d528.js"><link rel="prefetch" href="/assets/js/12.ef6ddb2c.js"><link rel="prefetch" href="/assets/js/120.c614caf0.js"><link rel="prefetch" href="/assets/js/121.5b0e0013.js"><link rel="prefetch" href="/assets/js/13.35718513.js"><link rel="prefetch" href="/assets/js/14.278daae5.js"><link rel="prefetch" href="/assets/js/15.075b8007.js"><link rel="prefetch" href="/assets/js/16.e764165f.js"><link rel="prefetch" href="/assets/js/17.0dde71b9.js"><link rel="prefetch" href="/assets/js/18.952ee688.js"><link rel="prefetch" href="/assets/js/19.d3d3a5e3.js"><link rel="prefetch" href="/assets/js/20.0cce088c.js"><link rel="prefetch" href="/assets/js/21.7f609d23.js"><link rel="prefetch" href="/assets/js/22.ff109b73.js"><link rel="prefetch" href="/assets/js/23.22e55119.js"><link rel="prefetch" href="/assets/js/24.478b668f.js"><link rel="prefetch" href="/assets/js/25.40934b51.js"><link rel="prefetch" href="/assets/js/26.a8915e14.js"><link rel="prefetch" href="/assets/js/27.9511311d.js"><link rel="prefetch" href="/assets/js/28.6fb9c9bb.js"><link rel="prefetch" href="/assets/js/29.6596af6d.js"><link rel="prefetch" href="/assets/js/30.e47e8fc2.js"><link rel="prefetch" href="/assets/js/31.5054b3ba.js"><link rel="prefetch" href="/assets/js/32.ef73b689.js"><link rel="prefetch" href="/assets/js/33.02c0883b.js"><link rel="prefetch" href="/assets/js/34.d46d5592.js"><link rel="prefetch" href="/assets/js/35.575c59a9.js"><link rel="prefetch" href="/assets/js/36.763c2ec0.js"><link rel="prefetch" href="/assets/js/37.ff0010d5.js"><link rel="prefetch" href="/assets/js/38.f68cf0f1.js"><link rel="prefetch" href="/assets/js/39.52ce0e61.js"><link rel="prefetch" href="/assets/js/4.12ba5ea4.js"><link rel="prefetch" href="/assets/js/40.f682666a.js"><link rel="prefetch" href="/assets/js/41.a89c7af8.js"><link rel="prefetch" href="/assets/js/42.e6b5082b.js"><link rel="prefetch" href="/assets/js/43.5c70f9c4.js"><link rel="prefetch" href="/assets/js/44.d423d97b.js"><link rel="prefetch" href="/assets/js/45.3accf45c.js"><link rel="prefetch" href="/assets/js/46.adead9ed.js"><link rel="prefetch" href="/assets/js/47.45febb5f.js"><link rel="prefetch" href="/assets/js/48.91e54ab7.js"><link rel="prefetch" href="/assets/js/49.b6bdbd76.js"><link rel="prefetch" href="/assets/js/5.b2da7372.js"><link rel="prefetch" href="/assets/js/50.3a045da3.js"><link rel="prefetch" href="/assets/js/52.a0f21da8.js"><link rel="prefetch" href="/assets/js/53.62b2f532.js"><link rel="prefetch" href="/assets/js/54.f893c428.js"><link rel="prefetch" href="/assets/js/55.50e21f24.js"><link rel="prefetch" href="/assets/js/56.98d91913.js"><link rel="prefetch" href="/assets/js/57.98167654.js"><link rel="prefetch" href="/assets/js/58.c1ddc2f0.js"><link rel="prefetch" href="/assets/js/59.681ea709.js"><link rel="prefetch" href="/assets/js/6.1995ebab.js"><link rel="prefetch" href="/assets/js/60.df1b91b1.js"><link rel="prefetch" href="/assets/js/61.fabace57.js"><link rel="prefetch" href="/assets/js/62.29da048d.js"><link rel="prefetch" href="/assets/js/63.918fe3f6.js"><link rel="prefetch" href="/assets/js/64.12856044.js"><link rel="prefetch" href="/assets/js/65.6ebfb4a2.js"><link rel="prefetch" href="/assets/js/66.770ad29e.js"><link rel="prefetch" href="/assets/js/67.80bd9ed5.js"><link rel="prefetch" href="/assets/js/68.b55578de.js"><link rel="prefetch" href="/assets/js/69.fa66951c.js"><link rel="prefetch" href="/assets/js/7.9c6de7b0.js"><link rel="prefetch" href="/assets/js/70.bf0ffdac.js"><link rel="prefetch" href="/assets/js/71.40ba910e.js"><link rel="prefetch" href="/assets/js/72.8a811346.js"><link rel="prefetch" href="/assets/js/73.63d2cd5a.js"><link rel="prefetch" href="/assets/js/74.44ca88ab.js"><link rel="prefetch" href="/assets/js/75.d5548bc0.js"><link rel="prefetch" href="/assets/js/76.ecd79f6f.js"><link rel="prefetch" href="/assets/js/77.8fbe5c6a.js"><link rel="prefetch" href="/assets/js/78.005604f5.js"><link rel="prefetch" href="/assets/js/79.59585fa6.js"><link rel="prefetch" href="/assets/js/8.46697342.js"><link rel="prefetch" href="/assets/js/80.2088fa05.js"><link rel="prefetch" href="/assets/js/81.17d30c5d.js"><link rel="prefetch" href="/assets/js/82.a080e5a7.js"><link rel="prefetch" href="/assets/js/83.96495564.js"><link rel="prefetch" href="/assets/js/84.28381bdd.js"><link rel="prefetch" href="/assets/js/85.655161e7.js"><link rel="prefetch" href="/assets/js/86.34a8880c.js"><link rel="prefetch" href="/assets/js/87.a407b8ed.js"><link rel="prefetch" href="/assets/js/88.da255f54.js"><link rel="prefetch" href="/assets/js/89.1f937db1.js"><link rel="prefetch" href="/assets/js/9.2980261e.js"><link rel="prefetch" href="/assets/js/90.44ed90c7.js"><link rel="prefetch" href="/assets/js/91.d0ebb249.js"><link rel="prefetch" href="/assets/js/92.fb7501ee.js"><link rel="prefetch" href="/assets/js/93.bf965309.js"><link rel="prefetch" href="/assets/js/94.08340d37.js"><link rel="prefetch" href="/assets/js/95.9a1cc6b8.js"><link rel="prefetch" href="/assets/js/96.aae0ce80.js"><link rel="prefetch" href="/assets/js/97.d7531130.js"><link rel="prefetch" href="/assets/js/98.f247833a.js"><link rel="prefetch" href="/assets/js/99.09ceb6de.js">
    <link rel="stylesheet" href="/assets/css/0.styles.44d0f432.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://www.jaredh.cn/public/gif/go.gif" alt="Jared's blog" class="logo"> <span class="site-name can-hide">Jared's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¼–ç¨‹åŸºç¡€" class="dropdown-title"><a href="/codeBasics/" class="link-title">ç¼–ç¨‹åŸºç¡€</a> <span class="title" style="display:none;">ç¼–ç¨‹åŸºç¡€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/cad62e/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/pages/c47e12/" class="nav-link">æ•°æ®ç»“æ„ä¸ç®—æ³•</a></li><li class="dropdown-item"><!----> <a href="/pages/41a364/" class="nav-link">è®¡ç®—æœºç½‘ç»œ</a></li><li class="dropdown-item"><!----> <a href="/pages/15ab06/" class="nav-link">æ“ä½œç³»ç»Ÿ</a></li><li class="dropdown-item"><!----> <a href="/pages/1e979a/" class="nav-link">æ•°æ®åº“SQL</a></li><li class="dropdown-item"><!----> <a href="/pages/b5c9b5/" class="nav-link">è®¾è®¡æ¨¡å¼</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç ”å‘å·¥å…·" class="dropdown-title"><a href="/R&amp;D-Tools/" class="link-title">ç ”å‘å·¥å…·</a> <span class="title" style="display:none;">ç ”å‘å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4d971e/" class="nav-link">é›†æˆå¼€å‘ç¯å¢ƒ</a></li><li class="dropdown-item"><!----> <a href="/pages/8a8aed/" class="nav-link">Linuxç³»ç»Ÿ</a></li><li class="dropdown-item"><!----> <a href="/pages/3a1708/" class="nav-link">ä»£ç ç®¡ç†</a></li><li class="dropdown-item"><!----> <a href="/pages/40b1d2/" class="nav-link">é¡¹ç›®ç®¡ç†</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åº”ç”¨æ¡†æ¶" class="dropdown-title"><a href="/framework/" class="link-title">åº”ç”¨æ¡†æ¶</a> <span class="title" style="display:none;">åº”ç”¨æ¡†æ¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>åç«¯</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/734f2c/" aria-current="page" class="nav-link router-link-exact-active router-link-active">ä¸­é—´ä»¶</a></li><li class="dropdown-subitem"><a href="/pages/42ed09/" class="nav-link">Springå®¶æ—</a></li><li class="dropdown-subitem"><a href="/pages/31cc55/" class="nav-link">æœåŠ¡å™¨è½¯ä»¶</a></li><li class="dropdown-subitem"><a href="/pages/8ec421/" class="nav-link">æ•°æ®åº“</a></li><li class="dropdown-subitem"><a href="/pages/4b933d/" class="nav-link">æœç´¢å¼•æ“</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">åˆ†å¸ƒå¼&amp;å¾®æœåŠ¡</a></li><li class="dropdown-subitem"><a href="/pages/91630a/" class="nav-link">å®¹å™¨åŒ–</a></li></ul></li><li class="dropdown-item"><h4>å‰ç«¯</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5038fc/" class="nav-link">åŸºç¡€</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">æ¨¡æ¿æ¡†æ¶</a></li><li class="dropdown-subitem"><a href="/pages/99eb21/" class="nav-link">ç»„ä»¶åŒ–æ¡†æ¶</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è¿ç»´ç›¸å…³" class="dropdown-title"><a href="/ops/" class="link-title">è¿ç»´ç›¸å…³</a> <span class="title" style="display:none;">è¿ç»´ç›¸å…³</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/51470f/" class="nav-link">è¿ç»´çŸ¥è¯†</a></li><li class="dropdown-item"><!----> <a href="/pages/f1406d/" class="nav-link">éƒ¨ç½²å·¥å…·</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¡¹ç›®" class="dropdown-title"><!----> <span class="title" style="display:;">é¡¹ç›®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/079753/" class="nav-link">åœ¨çº¿æ•™è‚²</a></li><li class="dropdown-item"><!----> <a href="/pages/dd9f23/" class="nav-link">ç”µå•†</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶ä»–" class="dropdown-title"><!----> <span class="title" style="display:;">å…¶ä»–</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/3a5f05/" class="nav-link">ç–‘æƒ‘æ—¥å¿—</a></li><li class="dropdown-item"><!----> <a href="/pages/7176e3/" class="nav-link">éšç¬”</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><!----> <span class="title" style="display:;">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/link/" class="nav-link">å‹é“¾</a></li><li class="dropdown-item"><!----> <a href="/books/index.html" class="nav-link">ä¹¦ç±</a></li><li class="dropdown-item"><!----> <a href="/relaxation/index.html" class="nav-link">å¨±ä¹</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Jaredhi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/Jared-h" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/HIHE_i" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://jaredh.oss-cn-shenzhen.aliyuncs.com/public/img/me1.png"> <div class="blogger-info"><h3>    Jared H   </h3> <span>  ğŸ’»ğŸ¤£ğŸ˜œ  </span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç¼–ç¨‹åŸºç¡€" class="dropdown-title"><a href="/codeBasics/" class="link-title">ç¼–ç¨‹åŸºç¡€</a> <span class="title" style="display:none;">ç¼–ç¨‹åŸºç¡€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/cad62e/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/pages/c47e12/" class="nav-link">æ•°æ®ç»“æ„ä¸ç®—æ³•</a></li><li class="dropdown-item"><!----> <a href="/pages/41a364/" class="nav-link">è®¡ç®—æœºç½‘ç»œ</a></li><li class="dropdown-item"><!----> <a href="/pages/15ab06/" class="nav-link">æ“ä½œç³»ç»Ÿ</a></li><li class="dropdown-item"><!----> <a href="/pages/1e979a/" class="nav-link">æ•°æ®åº“SQL</a></li><li class="dropdown-item"><!----> <a href="/pages/b5c9b5/" class="nav-link">è®¾è®¡æ¨¡å¼</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç ”å‘å·¥å…·" class="dropdown-title"><a href="/R&amp;D-Tools/" class="link-title">ç ”å‘å·¥å…·</a> <span class="title" style="display:none;">ç ”å‘å·¥å…·</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4d971e/" class="nav-link">é›†æˆå¼€å‘ç¯å¢ƒ</a></li><li class="dropdown-item"><!----> <a href="/pages/8a8aed/" class="nav-link">Linuxç³»ç»Ÿ</a></li><li class="dropdown-item"><!----> <a href="/pages/3a1708/" class="nav-link">ä»£ç ç®¡ç†</a></li><li class="dropdown-item"><!----> <a href="/pages/40b1d2/" class="nav-link">é¡¹ç›®ç®¡ç†</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åº”ç”¨æ¡†æ¶" class="dropdown-title"><a href="/framework/" class="link-title">åº”ç”¨æ¡†æ¶</a> <span class="title" style="display:none;">åº”ç”¨æ¡†æ¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>åç«¯</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/734f2c/" aria-current="page" class="nav-link router-link-exact-active router-link-active">ä¸­é—´ä»¶</a></li><li class="dropdown-subitem"><a href="/pages/42ed09/" class="nav-link">Springå®¶æ—</a></li><li class="dropdown-subitem"><a href="/pages/31cc55/" class="nav-link">æœåŠ¡å™¨è½¯ä»¶</a></li><li class="dropdown-subitem"><a href="/pages/8ec421/" class="nav-link">æ•°æ®åº“</a></li><li class="dropdown-subitem"><a href="/pages/4b933d/" class="nav-link">æœç´¢å¼•æ“</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">åˆ†å¸ƒå¼&amp;å¾®æœåŠ¡</a></li><li class="dropdown-subitem"><a href="/pages/91630a/" class="nav-link">å®¹å™¨åŒ–</a></li></ul></li><li class="dropdown-item"><h4>å‰ç«¯</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5038fc/" class="nav-link">åŸºç¡€</a></li><li class="dropdown-subitem"><a href="/" class="nav-link">æ¨¡æ¿æ¡†æ¶</a></li><li class="dropdown-subitem"><a href="/pages/99eb21/" class="nav-link">ç»„ä»¶åŒ–æ¡†æ¶</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è¿ç»´ç›¸å…³" class="dropdown-title"><a href="/ops/" class="link-title">è¿ç»´ç›¸å…³</a> <span class="title" style="display:none;">è¿ç»´ç›¸å…³</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/51470f/" class="nav-link">è¿ç»´çŸ¥è¯†</a></li><li class="dropdown-item"><!----> <a href="/pages/f1406d/" class="nav-link">éƒ¨ç½²å·¥å…·</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¡¹ç›®" class="dropdown-title"><!----> <span class="title" style="display:;">é¡¹ç›®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/079753/" class="nav-link">åœ¨çº¿æ•™è‚²</a></li><li class="dropdown-item"><!----> <a href="/pages/dd9f23/" class="nav-link">ç”µå•†</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…¶ä»–" class="dropdown-title"><!----> <span class="title" style="display:;">å…¶ä»–</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/3a5f05/" class="nav-link">ç–‘æƒ‘æ—¥å¿—</a></li><li class="dropdown-item"><!----> <a href="/pages/7176e3/" class="nav-link">éšç¬”</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ›´å¤š" class="dropdown-title"><!----> <span class="title" style="display:;">æ›´å¤š</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/link/" class="nav-link">å‹é“¾</a></li><li class="dropdown-item"><!----> <a href="/books/index.html" class="nav-link">ä¹¦ç±</a></li><li class="dropdown-item"><!----> <a href="/relaxation/index.html" class="nav-link">å¨±ä¹</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Jaredhi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/Jared-h" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/HIHE_i" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>åç«¯</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>ä¸­é—´ä»¶</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/734f2c/" aria-current="page" class="active sidebar-link">Redis</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/734f2c/#å‰è¨€" class="sidebar-link">å‰è¨€</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/734f2c/#redisç®€ä»‹" class="sidebar-link">Redisç®€ä»‹</a></li><li class="sidebar-sub-header"><a href="/pages/734f2c/#redisçš„ç‰¹ç‚¹" class="sidebar-link">Redisçš„ç‰¹ç‚¹</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/734f2c/#å®‰è£…" class="sidebar-link">å®‰è£…</a></li><li class="sidebar-sub-header"><a href="/pages/734f2c/#åŸºæœ¬å‘½ä»¤" class="sidebar-link">åŸºæœ¬å‘½ä»¤</a></li><li class="sidebar-sub-header"><a href="/pages/734f2c/#äº”ç§æ•°æ®ç»“æ„" class="sidebar-link">äº”ç§æ•°æ®ç»“æ„</a></li><li class="sidebar-sub-header"><a href="/pages/734f2c/#é…ç½®æ–‡ä»¶" class="sidebar-link">é…ç½®æ–‡ä»¶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/734f2c/#é»˜è®¤-è‹±æ–‡" class="sidebar-link">é»˜è®¤ï¼ˆè‹±æ–‡ï¼‰</a></li><li class="sidebar-sub-header"><a href="/pages/734f2c/#ç¿»è¯‘" class="sidebar-link">ç¿»è¯‘</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/734f2c/#æŒä¹…åŒ–" class="sidebar-link">æŒä¹…åŒ–</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/734f2c/#rdb-é»˜è®¤" class="sidebar-link">RDBï¼ˆé»˜è®¤ï¼‰</a></li><li class="sidebar-sub-header"><a href="/pages/734f2c/#aof" class="sidebar-link">AOF</a></li></ul></li></ul></li><li><a href="/pages/f9fe0b/" class="sidebar-link">memcache</a></li><li><a href="/pages/0bbf90/" class="sidebar-link">RabbitMQ</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Springå®¶æ—</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>æœåŠ¡å™¨è½¯ä»¶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>æ•°æ®åº“</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>æœç´¢å¼•æ“</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>åˆ†å¸ƒå¼-å¾®æœåŠ¡</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>å®¹å™¨åŒ–</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å‰ç«¯</span> <span class="arrow right"></span></p> <!----></section></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- æ­£æ–¹å½¢ -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-283013c6><div class="articleInfo" data-v-283013c6><ul class="breadcrumbs" data-v-283013c6><li data-v-283013c6><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-283013c6></a></li> <li data-v-283013c6><a href="/framework" title="åº”ç”¨æ¡†æ¶-ç›®å½•é¡µ" data-v-283013c6>åº”ç”¨æ¡†æ¶</a></li> <li data-v-283013c6><a href="/framework/#åç«¯" title="åº”ç”¨æ¡†æ¶#åç«¯" data-v-283013c6>åç«¯</a></li> <li data-v-283013c6><a href="/framework/#ä¸­é—´ä»¶" title="åº”ç”¨æ¡†æ¶#ä¸­é—´ä»¶" data-v-283013c6>ä¸­é—´ä»¶</a></li></ul> <div class="info" data-v-283013c6><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-283013c6><a href="https://github.com/Jaredhi" target="_blank" title="ä½œè€…" class="beLink" data-v-283013c6>Jared H</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-283013c6><a href="javascript:;" data-v-283013c6>2021-03-20</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">
          Redis
        </h1> <div class="page-slot page-slot-top"><!-- å›ºå®š100% * 90pxå¯æ˜¾ç¤ºï¼Œmax-height:90pxæœªè§æ˜¾ç¤º-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><h2 id="å‰è¨€"><a href="#å‰è¨€" class="header-anchor">#</a> å‰è¨€</h2> <h3 id="redisç®€ä»‹"><a href="#redisç®€ä»‹" class="header-anchor">#</a> Redisç®€ä»‹</h3> <p><strong>Remote Dictionary Server(è¿œç¨‹å­—å…¸æœåŠ¡å™¨)</strong>ï¼šæ˜¯ä¸€ä¸ªç”¨ C è¯­è¨€ç¼–å†™çš„ã€å¼€æºçš„ã€åŸºäºå†…å­˜è¿è¡Œå¹¶æ”¯æŒæŒä¹…åŒ–çš„ã€ é«˜æ€§èƒ½çš„ NoSQL æ•°æ®åº“.ä¹Ÿæ˜¯å½“å‰çƒ­é—¨çš„ NoSQL æ•°æ®åº“ä¹‹ä¸€ã€‚</p> <h3 id="redisçš„ç‰¹ç‚¹"><a href="#redisçš„ç‰¹ç‚¹" class="header-anchor">#</a> Redisçš„ç‰¹ç‚¹</h3> <ol><li><p>æ”¯æŒæ•°æ®æŒä¹…åŒ–</p> <p>Redis æ”¯æŒæ•°æ®çš„æŒä¹…åŒ–ï¼Œå¯ä»¥å°†å†…å­˜ä¸­çš„æ•°æ®ä¿æŒåœ¨ç£ç›˜ä¸­ï¼Œé‡å¯çš„æ—¶å€™å¯ä»¥å†æ¬¡åŠ è½½è¿›è¡Œä½¿ç”¨ã€‚</p></li> <li><p>æ”¯æŒå¤šç§æ•°æ®ç»“æ„</p> <p>Redis ä¸ä»…ä»…æ”¯æŒç®€å•çš„ key-value ç±»å‹çš„æ•°æ®ï¼ŒåŒæ—¶è¿˜æä¾› listï¼Œsetï¼Œzsetï¼Œhash ç­‰æ•°æ®ç»“æ„çš„å­˜å‚¨ã€‚</p></li> <li><p>æ”¯æŒæ•°æ®å¤‡ä»½</p> <p>Redis æ”¯æŒæ•°æ®çš„å¤‡ä»½ï¼Œå³ master-slave æ¨¡å¼çš„æ•°æ®å¤‡ä»½ã€‚</p></li></ol> <h2 id="å®‰è£…"><a href="#å®‰è£…" class="header-anchor">#</a> å®‰è£…</h2> <p>æœ¬åœ°å®‰è£…å‚è€ƒ<a href="https://www.runoob.com/redis/redis-install.html" target="_blank" rel="noopener noreferrer">ğŸŒµèœé¸Ÿæ•™ç¨‹--&gt;Redis å®‰è£…<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>dockerå®‰è£…å‚è€ƒğŸƒ<a href="https://jaredh.cn/pages/0e922d/#redis" target="_blank" rel="noopener noreferrer">Jared's blog--&gt;docker å®æˆ˜<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><p>è¿›å…¥Rediså®¢æˆ·ç«¯</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>redis-cli -h <span class="token number">127.0</span>.0.1 -p <span class="token number">6379</span>
<span class="token comment"># -h redisä¸»æœºIPï¼ˆé»˜è®¤127.0.0.1ï¼‰</span>
<span class="token comment"># -p ç«¯å£å·</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>é€€å‡º <code>exit</code>æˆ–<code>quit</code></p></li></ul> <h2 id="åŸºæœ¬å‘½ä»¤"><a href="#åŸºæœ¬å‘½ä»¤" class="header-anchor">#</a> åŸºæœ¬å‘½ä»¤</h2> <ol><li><p>æŸ¥çœ‹çŠ¶æ€: <code>ping</code></p> <p>è¿”å›<code>PONG</code>è¡¨ç¤ºredisæœåŠ¡è¿è¡Œæ­£å¸¸</p></li> <li><p>æŸ¥çœ‹ redis æœåŠ¡å™¨çš„ç»Ÿè®¡ä¿¡æ¯ï¼š<code>info [section]</code></p></li> <li><p>ç®€å•æµ‹è¯•ä¸‹æ€§èƒ½: <code>redis-benchmark</code></p></li></ol> <p><img src="https://www.jaredh.cn/10.%E4%B8%AD%E9%97%B4%E4%BB%B6/img/01.%E7%BC%93%E5%AD%98-Redis/image-20210504200028389.png" alt="image-20210504200028389"></p> <p>â€‹	å¯ä»¥çœ‹å‡º10w <code>SETã€GET</code>åˆ†åˆ«ç”¨äº†<code>0.90ã€0.78</code>é€Ÿåº¦è¿˜æ˜¯å¾ˆå¿«çš„ã€‚</p> <ol start="4"><li><p>redis é»˜è®¤ä½¿ç”¨ 16 ä¸ªåº“</p> <p>Redis é»˜è®¤ä½¿ç”¨ 16 ä¸ªåº“ï¼Œä» 0 åˆ° 15ã€‚ å¯¹æ•°æ®åº“ä¸ªæ•°çš„ä¿®æ”¹ï¼Œåœ¨ redis.conf æ–‡ä»¶ä¸­ databases 16ï¼Œç†è®ºä¸Šå¯ä»¥é…ç½®æ— é™å¤šä¸ªã€‚</p></li> <li><p>åˆ‡æ¢åº“å‘½ä»¤ï¼š<code>select db</code></p></li> <li><p>æŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸­ key çš„æ•°ç›®ï¼š<code>dbsize</code></p></li> <li><p>æŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸­æœ‰å“ªäº› keyï¼š<code>keys *</code></p></li> <li><p>æ¸…ç©ºå½“å‰åº“ï¼š<code>flushdb</code></p></li> <li><p>æ¸…ç©ºæ‰€æœ‰æ•°æ®åº“ï¼š<code>flushall</code></p></li> <li><p>è·å¾— redis çš„æ‰€æœ‰é…ç½®å€¼: <code>config get *</code></p></li></ol> <p><a href="http://redisdoc.com/index.html" target="_blank" rel="noopener noreferrer">ğŸ—Rediså‘½ä»¤å‚è€ƒ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="äº”ç§æ•°æ®ç»“æ„"><a href="#äº”ç§æ•°æ®ç»“æ„" class="header-anchor">#</a> äº”ç§æ•°æ®ç»“æ„</h2> <ol><li><p><strong>å­—ç¬¦ä¸²ç±»å‹ string</strong></p> <p>å­—ç¬¦ä¸²ç±»å‹æ˜¯ Redis ä¸­æœ€åŸºæœ¬çš„æ•°æ®ç»“æ„ï¼Œå®ƒèƒ½å­˜å‚¨ä»»ä½•ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬äºŒè¿›åˆ¶æ•° æ®ï¼Œåºåˆ—åŒ–åçš„æ•°æ®ï¼ŒJSON åŒ–çš„å¯¹è±¡ç”šè‡³æ˜¯ä¸€å¼ å›¾ç‰‡ã€‚æœ€å¤§ 512Mã€‚</p> <table><thead><tr><th>key</th> <th>value</th></tr></thead> <tbody><tr><td>username</td> <td>å¼ ä¸‰å’Œæå››</td></tr></tbody></table></li> <li><p><strong>åˆ—è¡¨ç±»å‹ list</strong></p> <p>Redis åˆ—è¡¨æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæ’åºï¼Œå…ƒç´ å¯ä»¥é‡å¤ã€‚ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰,åº•å±‚æ˜¯ä¸ªé“¾è¡¨ç»“æ„ã€‚</p> <table><thead><tr><th>key</th> <th>value</th></tr></thead> <tbody><tr><td>region</td> <td>åŒ—äº¬ ä¸Šæµ· å¹¿å·</td></tr></tbody></table></li> <li><p><strong>é›†åˆç±»å‹ set</strong></p> <p>Redis çš„ Set æ˜¯ string ç±»å‹çš„æ— åºæ— é‡å¤é›†åˆ</p> <table><thead><tr><th>key</th> <th>value</th></tr></thead> <tbody><tr><td>framework</td> <td>spring<br><br>mybatis</td></tr></tbody></table></li> <li><p><strong>å“ˆå¸Œç±»å‹ hash</strong></p> <p>Redis hash æ˜¯ä¸€ä¸ª string ç±»å‹çš„ field å’Œ value çš„æ˜ å°„è¡¨ï¼Œhash ç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚</p> <table><thead><tr><th>key</th> <th>value</th></tr></thead> <tbody><tr><td>field</td> <td>value</td></tr> <tr><td>uname</td> <td>å¼ ä¸‰</td></tr> <tr><td>times</td> <td>5</td></tr> <tr><td>region</td> <td>åŒ—äº¬</td></tr></tbody></table></li> <li><p><strong>æœ‰åºé›†åˆç±»å‹ zsetï¼ˆsorted setï¼‰</strong></p> <p>Redis æœ‰åºé›†åˆ zset å’Œé›†åˆ set ä¸€æ ·ä¹Ÿæ˜¯ string ç±»å‹å…ƒç´ çš„é›†åˆï¼Œä¸”ä¸å…è®¸é‡å¤çš„æˆå‘˜ã€‚ ä¸åŒçš„æ˜¯ zset çš„æ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªåˆ†æ•°ï¼ˆåˆ†æ•°å¯ä»¥é‡å¤ï¼‰ï¼Œredis é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚</p> <table><thead><tr><th>key</th> <th>value score</th></tr></thead> <tbody><tr><td>salary</td> <td>å¼ ä¸‰ 3500<br>æå›› 5000<br>å‘¨ä¸½ 8000</td></tr></tbody></table></li></ol> <h2 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="header-anchor">#</a> é…ç½®æ–‡ä»¶</h2> <h3 id="é»˜è®¤-è‹±æ–‡"><a href="#é»˜è®¤-è‹±æ–‡" class="header-anchor">#</a> é»˜è®¤ï¼ˆè‹±æ–‡ï¼‰</h3> <details class="custom-block details"><summary>redis.conf</summary> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># Redis configuration file example.</span>
<span class="token comment">#</span>
<span class="token comment"># Note that in order to read the configuration file, Redis must be</span>
<span class="token comment"># started with the file path as first argument:</span>
<span class="token comment">#</span>
<span class="token comment"># ./redis-server /path/to/redis.conf</span>

<span class="token comment"># Note on units: when memory size is needed, it is possible to specify</span>
<span class="token comment"># it in the usual form of 1k 5GB 4M and so forth:</span>
<span class="token comment">#</span>
<span class="token comment"># 1k =&gt; 1000 bytes</span>
<span class="token comment"># 1kb =&gt; 1024 bytes</span>
<span class="token comment"># 1m =&gt; 1000000 bytes</span>
<span class="token comment"># 1mb =&gt; 1024*1024 bytes</span>
<span class="token comment"># 1g =&gt; 1000000000 bytes</span>
<span class="token comment"># 1gb =&gt; 1024*1024*1024 bytes</span>
<span class="token comment">#</span>
<span class="token comment"># units are case insensitive so 1GB 1Gb 1gB are all the same.</span>

<span class="token comment">################################## INCLUDES ###################################</span>

<span class="token comment"># Include one or more other config files here.  This is useful if you</span>
<span class="token comment"># have a standard template that goes to all Redis servers but also need</span>
<span class="token comment"># to customize a few per-server settings.  Include files can include</span>
<span class="token comment"># other files, so use this wisely.</span>
<span class="token comment">#</span>
<span class="token comment"># Notice option &quot;include&quot; won't be rewritten by command &quot;CONFIG REWRITE&quot;</span>
<span class="token comment"># from admin or Redis Sentinel. Since Redis always uses the last processed</span>
<span class="token comment"># line as value of a configuration directive, you'd better put includes</span>
<span class="token comment"># at the beginning of this file to avoid overwriting config change at runtime.</span>
<span class="token comment">#</span>
<span class="token comment"># If instead you are interested in using includes to override configuration</span>
<span class="token comment"># options, it is better to use include as the last line.</span>
<span class="token comment">#</span>
<span class="token comment"># include /path/to/local.conf</span>
<span class="token comment"># include /path/to/other.conf</span>

<span class="token comment">################################## MODULES #####################################</span>

<span class="token comment"># Load modules at startup. If the server is not able to load modules</span>
<span class="token comment"># it will abort. It is possible to use multiple loadmodule directives.</span>
<span class="token comment">#</span>
<span class="token comment"># loadmodule /path/to/my_module.so</span>
<span class="token comment"># loadmodule /path/to/other_module.so</span>

<span class="token comment">################################## NETWORK #####################################</span>

<span class="token comment"># By default, if no &quot;bind&quot; configuration directive is specified, Redis listens</span>
<span class="token comment"># for connections from all the network interfaces available on the server.</span>
<span class="token comment"># It is possible to listen to just one or multiple selected interfaces using</span>
<span class="token comment"># the &quot;bind&quot; configuration directive, followed by one or more IP addresses.</span>
<span class="token comment">#</span>
<span class="token comment"># Examples:</span>
<span class="token comment">#</span>
<span class="token comment"># bind 192.168.1.100 10.0.0.1</span>
<span class="token comment"># bind 127.0.0.1 ::1</span>
<span class="token comment">#</span>
<span class="token comment"># ~~~ WARNING ~~~ If the computer running Redis is directly exposed to the</span>
<span class="token comment"># internet, binding to all the interfaces is dangerous and will expose the</span>
<span class="token comment"># instance to everybody on the internet. So by default we uncomment the</span>
<span class="token comment"># following bind directive, that will force Redis to listen only into</span>
<span class="token comment"># the IPv4 loopback interface address (this means Redis will be able to</span>
<span class="token comment"># accept connections only from clients running into the same computer it</span>
<span class="token comment"># is running).</span>
<span class="token comment">#</span>
<span class="token comment"># IF YOU ARE SURE YOU WANT YOUR INSTANCE TO LISTEN TO ALL THE INTERFACES</span>
<span class="token comment"># JUST COMMENT THE FOLLOWING LINE.</span>
<span class="token comment"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="token builtin class-name">bind</span> <span class="token number">127.0</span>.0.1

<span class="token comment"># Protected mode is a layer of security protection, in order to avoid that</span>
<span class="token comment"># Redis instances left open on the internet are accessed and exploited.</span>
<span class="token comment">#</span>
<span class="token comment"># When protected mode is on and if:</span>
<span class="token comment">#</span>
<span class="token comment"># 1) The server is not binding explicitly to a set of addresses using the</span>
<span class="token comment">#    &quot;bind&quot; directive.</span>
<span class="token comment"># 2) No password is configured.</span>
<span class="token comment">#</span>
<span class="token comment"># The server only accepts connections from clients connecting from the</span>
<span class="token comment"># IPv4 and IPv6 loopback addresses 127.0.0.1 and ::1, and from Unix domain</span>
<span class="token comment"># sockets.</span>
<span class="token comment">#</span>
<span class="token comment"># By default protected mode is enabled. You should disable it only if</span>
<span class="token comment"># you are sure you want clients from other hosts to connect to Redis</span>
<span class="token comment"># even if no authentication is configured, nor a specific set of interfaces</span>
<span class="token comment"># are explicitly listed using the &quot;bind&quot; directive.</span>
protected-mode <span class="token function">yes</span>

<span class="token comment"># Accept connections on the specified port, default is 6379 (IANA #815344).</span>
<span class="token comment"># If port 0 is specified Redis will not listen on a TCP socket.</span>
port <span class="token number">6379</span>

<span class="token comment"># TCP listen() backlog.</span>
<span class="token comment">#</span>
<span class="token comment"># In high requests-per-second environments you need an high backlog in order</span>
<span class="token comment"># to avoid slow clients connections issues. Note that the Linux kernel</span>
<span class="token comment"># will silently truncate it to the value of /proc/sys/net/core/somaxconn so</span>
<span class="token comment"># make sure to raise both the value of somaxconn and tcp_max_syn_backlog</span>
<span class="token comment"># in order to get the desired effect.</span>
tcp-backlog <span class="token number">511</span>

<span class="token comment"># Unix socket.</span>
<span class="token comment">#</span>
<span class="token comment"># Specify the path for the Unix socket that will be used to listen for</span>
<span class="token comment"># incoming connections. There is no default, so Redis will not listen</span>
<span class="token comment"># on a unix socket when not specified.</span>
<span class="token comment">#</span>
<span class="token comment"># unixsocket /tmp/redis.sock</span>
<span class="token comment"># unixsocketperm 700</span>

<span class="token comment"># Close the connection after a client is idle for N seconds (0 to disable)</span>
<span class="token function">timeout</span> <span class="token number">0</span>

<span class="token comment"># TCP keepalive.</span>
<span class="token comment">#</span>
<span class="token comment"># If non-zero, use SO_KEEPALIVE to send TCP ACKs to clients in absence</span>
<span class="token comment"># of communication. This is useful for two reasons:</span>
<span class="token comment">#</span>
<span class="token comment"># 1) Detect dead peers.</span>
<span class="token comment"># 2) Take the connection alive from the point of view of network</span>
<span class="token comment">#    equipment in the middle.</span>
<span class="token comment">#</span>
<span class="token comment"># On Linux, the specified value (in seconds) is the period used to send ACKs.</span>
<span class="token comment"># Note that to close the connection the double of the time is needed.</span>
<span class="token comment"># On other kernels the period depends on the kernel configuration.</span>
<span class="token comment">#</span>
<span class="token comment"># A reasonable value for this option is 300 seconds, which is the new</span>
<span class="token comment"># Redis default starting with Redis 3.2.1.</span>
tcp-keepalive <span class="token number">300</span>

<span class="token comment">################################# GENERAL #####################################</span>

<span class="token comment"># By default Redis does not run as a daemon. Use 'yes' if you need it.</span>
<span class="token comment"># Note that Redis will write a pid file in /var/run/redis.pid when daemonized.</span>
daemonize no

<span class="token comment"># If you run Redis from upstart or systemd, Redis can interact with your</span>
<span class="token comment"># supervision tree. Options:</span>
<span class="token comment">#   supervised no      - no supervision interaction</span>
<span class="token comment">#   supervised upstart - signal upstart by putting Redis into SIGSTOP mode</span>
<span class="token comment">#   supervised systemd - signal systemd by writing READY=1 to $NOTIFY_SOCKET</span>
<span class="token comment">#   supervised auto    - detect upstart or systemd method based on</span>
<span class="token comment">#                        UPSTART_JOB or NOTIFY_SOCKET environment variables</span>
<span class="token comment"># Note: these supervision methods only signal &quot;process is ready.&quot;</span>
<span class="token comment">#       They do not enable continuous liveness pings back to your supervisor.</span>
supervised no

<span class="token comment"># If a pid file is specified, Redis writes it where specified at startup</span>
<span class="token comment"># and removes it at exit.</span>
<span class="token comment">#</span>
<span class="token comment"># When the server runs non daemonized, no pid file is created if none is</span>
<span class="token comment"># specified in the configuration. When the server is daemonized, the pid file</span>
<span class="token comment"># is used even if not specified, defaulting to &quot;/var/run/redis.pid&quot;.</span>
<span class="token comment">#</span>
<span class="token comment"># Creating a pid file is best effort: if Redis is not able to create it</span>
<span class="token comment"># nothing bad happens, the server will start and run normally.</span>
pidfile /var/run/redis_6379.pid

<span class="token comment"># Specify the server verbosity level.</span>
<span class="token comment"># This can be one of:</span>
<span class="token comment"># debug (a lot of information, useful for development/testing)</span>
<span class="token comment"># verbose (many rarely useful info, but not a mess like the debug level)</span>
<span class="token comment"># notice (moderately verbose, what you want in production probably)</span>
<span class="token comment"># warning (only very important / critical messages are logged)</span>
loglevel notice

<span class="token comment"># Specify the log file name. Also the empty string can be used to force</span>
<span class="token comment"># Redis to log on the standard output. Note that if you use standard</span>
<span class="token comment"># output for logging but daemonize, logs will be sent to /dev/null</span>
logfile <span class="token string">&quot;&quot;</span>

<span class="token comment"># To enable logging to the system logger, just set 'syslog-enabled' to yes,</span>
<span class="token comment"># and optionally update the other syslog parameters to suit your needs.</span>
<span class="token comment"># syslog-enabled no</span>

<span class="token comment"># Specify the syslog identity.</span>
<span class="token comment"># syslog-ident redis</span>

<span class="token comment"># Specify the syslog facility. Must be USER or between LOCAL0-LOCAL7.</span>
<span class="token comment"># syslog-facility local0</span>

<span class="token comment"># Set the number of databases. The default database is DB 0, you can select</span>
<span class="token comment"># a different one on a per-connection basis using SELECT &lt;dbid&gt; where</span>
<span class="token comment"># dbid is a number between 0 and 'databases'-1</span>
databases <span class="token number">16</span>

<span class="token comment"># By default Redis shows an ASCII art logo only when started to log to the</span>
<span class="token comment"># standard output and if the standard output is a TTY. Basically this means</span>
<span class="token comment"># that normally a logo is displayed only in interactive sessions.</span>
<span class="token comment">#</span>
<span class="token comment"># However it is possible to force the pre-4.0 behavior and always show a</span>
<span class="token comment"># ASCII art logo in startup logs by setting the following option to yes.</span>
always-show-logo <span class="token function">yes</span>

<span class="token comment">################################ SNAPSHOTTING  ################################</span>
<span class="token comment">#</span>
<span class="token comment"># Save the DB on disk:</span>
<span class="token comment">#</span>
<span class="token comment">#   save &lt;seconds&gt; &lt;changes&gt;</span>
<span class="token comment">#</span>
<span class="token comment">#   Will save the DB if both the given number of seconds and the given</span>
<span class="token comment">#   number of write operations against the DB occurred.</span>
<span class="token comment">#</span>
<span class="token comment">#   In the example below the behaviour will be to save:</span>
<span class="token comment">#   after 900 sec (15 min) if at least 1 key changed</span>
<span class="token comment">#   after 300 sec (5 min) if at least 10 keys changed</span>
<span class="token comment">#   after 60 sec if at least 10000 keys changed</span>
<span class="token comment">#</span>
<span class="token comment">#   Note: you can disable saving completely by commenting out all &quot;save&quot; lines.</span>
<span class="token comment">#</span>
<span class="token comment">#   It is also possible to remove all the previously configured save</span>
<span class="token comment">#   points by adding a save directive with a single empty string argument</span>
<span class="token comment">#   like in the following example:</span>
<span class="token comment">#</span>
<span class="token comment">#   save &quot;&quot;</span>

save <span class="token number">900</span> <span class="token number">1</span>
save <span class="token number">300</span> <span class="token number">10</span>
save <span class="token number">60</span> <span class="token number">10000</span>

<span class="token comment"># By default Redis will stop accepting writes if RDB snapshots are enabled</span>
<span class="token comment"># (at least one save point) and the latest background save failed.</span>
<span class="token comment"># This will make the user aware (in a hard way) that data is not persisting</span>
<span class="token comment"># on disk properly, otherwise chances are that no one will notice and some</span>
<span class="token comment"># disaster will happen.</span>
<span class="token comment">#</span>
<span class="token comment"># If the background saving process will start working again Redis will</span>
<span class="token comment"># automatically allow writes again.</span>
<span class="token comment">#</span>
<span class="token comment"># However if you have setup your proper monitoring of the Redis server</span>
<span class="token comment"># and persistence, you may want to disable this feature so that Redis will</span>
<span class="token comment"># continue to work as usual even if there are problems with disk,</span>
<span class="token comment"># permissions, and so forth.</span>
stop-writes-on-bgsave-error <span class="token function">yes</span>

<span class="token comment"># Compress string objects using LZF when dump .rdb databases?</span>
<span class="token comment"># For default that's set to 'yes' as it's almost always a win.</span>
<span class="token comment"># If you want to save some CPU in the saving child set it to 'no' but</span>
<span class="token comment"># the dataset will likely be bigger if you have compressible values or keys.</span>
rdbcompression <span class="token function">yes</span>

<span class="token comment"># Since version 5 of RDB a CRC64 checksum is placed at the end of the file.</span>
<span class="token comment"># This makes the format more resistant to corruption but there is a performance</span>
<span class="token comment"># hit to pay (around 10%) when saving and loading RDB files, so you can disable it</span>
<span class="token comment"># for maximum performances.</span>
<span class="token comment">#</span>
<span class="token comment"># RDB files created with checksum disabled have a checksum of zero that will</span>
<span class="token comment"># tell the loading code to skip the check.</span>
rdbchecksum <span class="token function">yes</span>

<span class="token comment"># The filename where to dump the DB</span>
dbfilename dump.rdb

<span class="token comment"># The working directory.</span>
<span class="token comment">#</span>
<span class="token comment"># The DB will be written inside this directory, with the filename specified</span>
<span class="token comment"># above using the 'dbfilename' configuration directive.</span>
<span class="token comment">#</span>
<span class="token comment"># The Append Only File will also be created inside this directory.</span>
<span class="token comment">#</span>
<span class="token comment"># Note that you must specify a directory here, not a file name.</span>
<span class="token function">dir</span> ./

<span class="token comment">################################# REPLICATION #################################</span>

<span class="token comment"># Master-Replica replication. Use replicaof to make a Redis instance a copy of</span>
<span class="token comment"># another Redis server. A few things to understand ASAP about Redis replication.</span>
<span class="token comment">#</span>
<span class="token comment">#   +------------------+      +---------------+</span>
<span class="token comment">#   |      Master      | ---&gt; |    Replica    |</span>
<span class="token comment">#   | (receive writes) |      |  (exact copy) |</span>
<span class="token comment">#   +------------------+      +---------------+</span>
<span class="token comment">#</span>
<span class="token comment"># 1) Redis replication is asynchronous, but you can configure a master to</span>
<span class="token comment">#    stop accepting writes if it appears to be not connected with at least</span>
<span class="token comment">#    a given number of replicas.</span>
<span class="token comment"># 2) Redis replicas are able to perform a partial resynchronization with the</span>
<span class="token comment">#    master if the replication link is lost for a relatively small amount of</span>
<span class="token comment">#    time. You may want to configure the replication backlog size (see the next</span>
<span class="token comment">#    sections of this file) with a sensible value depending on your needs.</span>
<span class="token comment"># 3) Replication is automatic and does not need user intervention. After a</span>
<span class="token comment">#    network partition replicas automatically try to reconnect to masters</span>
<span class="token comment">#    and resynchronize with them.</span>
<span class="token comment">#</span>
<span class="token comment"># replicaof &lt;masterip&gt; &lt;masterport&gt;</span>

<span class="token comment"># If the master is password protected (using the &quot;requirepass&quot; configuration</span>
<span class="token comment"># directive below) it is possible to tell the replica to authenticate before</span>
<span class="token comment"># starting the replication synchronization process, otherwise the master will</span>
<span class="token comment"># refuse the replica request.</span>
<span class="token comment">#</span>
<span class="token comment"># masterauth &lt;master-password&gt;</span>

<span class="token comment"># When a replica loses its connection with the master, or when the replication</span>
<span class="token comment"># is still in progress, the replica can act in two different ways:</span>
<span class="token comment">#</span>
<span class="token comment"># 1) if replica-serve-stale-data is set to 'yes' (the default) the replica will</span>
<span class="token comment">#    still reply to client requests, possibly with out of date data, or the</span>
<span class="token comment">#    data set may just be empty if this is the first synchronization.</span>
<span class="token comment">#</span>
<span class="token comment"># 2) if replica-serve-stale-data is set to 'no' the replica will reply with</span>
<span class="token comment">#    an error &quot;SYNC with master in progress&quot; to all the kind of commands</span>
<span class="token comment">#    but to INFO, replicaOF, AUTH, PING, SHUTDOWN, REPLCONF, ROLE, CONFIG,</span>
<span class="token comment">#    SUBSCRIBE, UNSUBSCRIBE, PSUBSCRIBE, PUNSUBSCRIBE, PUBLISH, PUBSUB,</span>
<span class="token comment">#    COMMAND, POST, HOST: and LATENCY.</span>
<span class="token comment">#</span>
replica-serve-stale-data <span class="token function">yes</span>

<span class="token comment"># You can configure a replica instance to accept writes or not. Writing against</span>
<span class="token comment"># a replica instance may be useful to store some ephemeral data (because data</span>
<span class="token comment"># written on a replica will be easily deleted after resync with the master) but</span>
<span class="token comment"># may also cause problems if clients are writing to it because of a</span>
<span class="token comment"># misconfiguration.</span>
<span class="token comment">#</span>
<span class="token comment"># Since Redis 2.6 by default replicas are read-only.</span>
<span class="token comment">#</span>
<span class="token comment"># Note: read only replicas are not designed to be exposed to untrusted clients</span>
<span class="token comment"># on the internet. It's just a protection layer against misuse of the instance.</span>
<span class="token comment"># Still a read only replica exports by default all the administrative commands</span>
<span class="token comment"># such as CONFIG, DEBUG, and so forth. To a limited extent you can improve</span>
<span class="token comment"># security of read only replicas using 'rename-command' to shadow all the</span>
<span class="token comment"># administrative / dangerous commands.</span>
replica-read-only <span class="token function">yes</span>

<span class="token comment"># Replication SYNC strategy: disk or socket.</span>
<span class="token comment">#</span>
<span class="token comment"># -------------------------------------------------------</span>
<span class="token comment"># WARNING: DISKLESS REPLICATION IS EXPERIMENTAL CURRENTLY</span>
<span class="token comment"># -------------------------------------------------------</span>
<span class="token comment">#</span>
<span class="token comment"># New replicas and reconnecting replicas that are not able to continue the replication</span>
<span class="token comment"># process just receiving differences, need to do what is called a &quot;full</span>
<span class="token comment"># synchronization&quot;. An RDB file is transmitted from the master to the replicas.</span>
<span class="token comment"># The transmission can happen in two different ways:</span>
<span class="token comment">#</span>
<span class="token comment"># 1) Disk-backed: The Redis master creates a new process that writes the RDB</span>
<span class="token comment">#                 file on disk. Later the file is transferred by the parent</span>
<span class="token comment">#                 process to the replicas incrementally.</span>
<span class="token comment"># 2) Diskless: The Redis master creates a new process that directly writes the</span>
<span class="token comment">#              RDB file to replica sockets, without touching the disk at all.</span>
<span class="token comment">#</span>
<span class="token comment"># With disk-backed replication, while the RDB file is generated, more replicas</span>
<span class="token comment"># can be queued and served with the RDB file as soon as the current child producing</span>
<span class="token comment"># the RDB file finishes its work. With diskless replication instead once</span>
<span class="token comment"># the transfer starts, new replicas arriving will be queued and a new transfer</span>
<span class="token comment"># will start when the current one terminates.</span>
<span class="token comment">#</span>
<span class="token comment"># When diskless replication is used, the master waits a configurable amount of</span>
<span class="token comment"># time (in seconds) before starting the transfer in the hope that multiple replicas</span>
<span class="token comment"># will arrive and the transfer can be parallelized.</span>
<span class="token comment">#</span>
<span class="token comment"># With slow disks and fast (large bandwidth) networks, diskless replication</span>
<span class="token comment"># works better.</span>
repl-diskless-sync no

<span class="token comment"># When diskless replication is enabled, it is possible to configure the delay</span>
<span class="token comment"># the server waits in order to spawn the child that transfers the RDB via socket</span>
<span class="token comment"># to the replicas.</span>
<span class="token comment">#</span>
<span class="token comment"># This is important since once the transfer starts, it is not possible to serve</span>
<span class="token comment"># new replicas arriving, that will be queued for the next RDB transfer, so the server</span>
<span class="token comment"># waits a delay in order to let more replicas arrive.</span>
<span class="token comment">#</span>
<span class="token comment"># The delay is specified in seconds, and by default is 5 seconds. To disable</span>
<span class="token comment"># it entirely just set it to 0 seconds and the transfer will start ASAP.</span>
repl-diskless-sync-delay <span class="token number">5</span>

<span class="token comment"># Replicas send PINGs to server in a predefined interval. It's possible to change</span>
<span class="token comment"># this interval with the repl_ping_replica_period option. The default value is 10</span>
<span class="token comment"># seconds.</span>
<span class="token comment">#</span>
<span class="token comment"># repl-ping-replica-period 10</span>

<span class="token comment"># The following option sets the replication timeout for:</span>
<span class="token comment">#</span>
<span class="token comment"># 1) Bulk transfer I/O during SYNC, from the point of view of replica.</span>
<span class="token comment"># 2) Master timeout from the point of view of replicas (data, pings).</span>
<span class="token comment"># 3) Replica timeout from the point of view of masters (REPLCONF ACK pings).</span>
<span class="token comment">#</span>
<span class="token comment"># It is important to make sure that this value is greater than the value</span>
<span class="token comment"># specified for repl-ping-replica-period otherwise a timeout will be detected</span>
<span class="token comment"># every time there is low traffic between the master and the replica.</span>
<span class="token comment">#</span>
<span class="token comment"># repl-timeout 60</span>

<span class="token comment"># Disable TCP_NODELAY on the replica socket after SYNC?</span>
<span class="token comment">#</span>
<span class="token comment"># If you select &quot;yes&quot; Redis will use a smaller number of TCP packets and</span>
<span class="token comment"># less bandwidth to send data to replicas. But this can add a delay for</span>
<span class="token comment"># the data to appear on the replica side, up to 40 milliseconds with</span>
<span class="token comment"># Linux kernels using a default configuration.</span>
<span class="token comment">#</span>
<span class="token comment"># If you select &quot;no&quot; the delay for data to appear on the replica side will</span>
<span class="token comment"># be reduced but more bandwidth will be used for replication.</span>
<span class="token comment">#</span>
<span class="token comment"># By default we optimize for low latency, but in very high traffic conditions</span>
<span class="token comment"># or when the master and replicas are many hops away, turning this to &quot;yes&quot; may</span>
<span class="token comment"># be a good idea.</span>
repl-disable-tcp-nodelay no

<span class="token comment"># Set the replication backlog size. The backlog is a buffer that accumulates</span>
<span class="token comment"># replica data when replicas are disconnected for some time, so that when a replica</span>
<span class="token comment"># wants to reconnect again, often a full resync is not needed, but a partial</span>
<span class="token comment"># resync is enough, just passing the portion of data the replica missed while</span>
<span class="token comment"># disconnected.</span>
<span class="token comment">#</span>
<span class="token comment"># The bigger the replication backlog, the longer the time the replica can be</span>
<span class="token comment"># disconnected and later be able to perform a partial resynchronization.</span>
<span class="token comment">#</span>
<span class="token comment"># The backlog is only allocated once there is at least a replica connected.</span>
<span class="token comment">#</span>
<span class="token comment"># repl-backlog-size 1mb</span>

<span class="token comment"># After a master has no longer connected replicas for some time, the backlog</span>
<span class="token comment"># will be freed. The following option configures the amount of seconds that</span>
<span class="token comment"># need to elapse, starting from the time the last replica disconnected, for</span>
<span class="token comment"># the backlog buffer to be freed.</span>
<span class="token comment">#</span>
<span class="token comment"># Note that replicas never free the backlog for timeout, since they may be</span>
<span class="token comment"># promoted to masters later, and should be able to correctly &quot;partially</span>
<span class="token comment"># resynchronize&quot; with the replicas: hence they should always accumulate backlog.</span>
<span class="token comment">#</span>
<span class="token comment"># A value of 0 means to never release the backlog.</span>
<span class="token comment">#</span>
<span class="token comment"># repl-backlog-ttl 3600</span>

<span class="token comment"># The replica priority is an integer number published by Redis in the INFO output.</span>
<span class="token comment"># It is used by Redis Sentinel in order to select a replica to promote into a</span>
<span class="token comment"># master if the master is no longer working correctly.</span>
<span class="token comment">#</span>
<span class="token comment"># A replica with a low priority number is considered better for promotion, so</span>
<span class="token comment"># for instance if there are three replicas with priority 10, 100, 25 Sentinel will</span>
<span class="token comment"># pick the one with priority 10, that is the lowest.</span>
<span class="token comment">#</span>
<span class="token comment"># However a special priority of 0 marks the replica as not able to perform the</span>
<span class="token comment"># role of master, so a replica with priority of 0 will never be selected by</span>
<span class="token comment"># Redis Sentinel for promotion.</span>
<span class="token comment">#</span>
<span class="token comment"># By default the priority is 100.</span>
replica-priority <span class="token number">100</span>

<span class="token comment"># It is possible for a master to stop accepting writes if there are less than</span>
<span class="token comment"># N replicas connected, having a lag less or equal than M seconds.</span>
<span class="token comment">#</span>
<span class="token comment"># The N replicas need to be in &quot;online&quot; state.</span>
<span class="token comment">#</span>
<span class="token comment"># The lag in seconds, that must be &lt;= the specified value, is calculated from</span>
<span class="token comment"># the last ping received from the replica, that is usually sent every second.</span>
<span class="token comment">#</span>
<span class="token comment"># This option does not GUARANTEE that N replicas will accept the write, but</span>
<span class="token comment"># will limit the window of exposure for lost writes in case not enough replicas</span>
<span class="token comment"># are available, to the specified number of seconds.</span>
<span class="token comment">#</span>
<span class="token comment"># For example to require at least 3 replicas with a lag &lt;= 10 seconds use:</span>
<span class="token comment">#</span>
<span class="token comment"># min-replicas-to-write 3</span>
<span class="token comment"># min-replicas-max-lag 10</span>
<span class="token comment">#</span>
<span class="token comment"># Setting one or the other to 0 disables the feature.</span>
<span class="token comment">#</span>
<span class="token comment"># By default min-replicas-to-write is set to 0 (feature disabled) and</span>
<span class="token comment"># min-replicas-max-lag is set to 10.</span>

<span class="token comment"># A Redis master is able to list the address and port of the attached</span>
<span class="token comment"># replicas in different ways. For example the &quot;INFO replication&quot; section</span>
<span class="token comment"># offers this information, which is used, among other tools, by</span>
<span class="token comment"># Redis Sentinel in order to discover replica instances.</span>
<span class="token comment"># Another place where this info is available is in the output of the</span>
<span class="token comment"># &quot;ROLE&quot; command of a master.</span>
<span class="token comment">#</span>
<span class="token comment"># The listed IP and address normally reported by a replica is obtained</span>
<span class="token comment"># in the following way:</span>
<span class="token comment">#</span>
<span class="token comment">#   IP: The address is auto detected by checking the peer address</span>
<span class="token comment">#   of the socket used by the replica to connect with the master.</span>
<span class="token comment">#</span>
<span class="token comment">#   Port: The port is communicated by the replica during the replication</span>
<span class="token comment">#   handshake, and is normally the port that the replica is using to</span>
<span class="token comment">#   listen for connections.</span>
<span class="token comment">#</span>
<span class="token comment"># However when port forwarding or Network Address Translation (NAT) is</span>
<span class="token comment"># used, the replica may be actually reachable via different IP and port</span>
<span class="token comment"># pairs. The following two options can be used by a replica in order to</span>
<span class="token comment"># report to its master a specific set of IP and port, so that both INFO</span>
<span class="token comment"># and ROLE will report those values.</span>
<span class="token comment">#</span>
<span class="token comment"># There is no need to use both the options if you need to override just</span>
<span class="token comment"># the port or the IP address.</span>
<span class="token comment">#</span>
<span class="token comment"># replica-announce-ip 5.5.5.5</span>
<span class="token comment"># replica-announce-port 1234</span>

<span class="token comment">################################## SECURITY ###################################</span>

<span class="token comment"># Require clients to issue AUTH &lt;PASSWORD&gt; before processing any other</span>
<span class="token comment"># commands.  This might be useful in environments in which you do not trust</span>
<span class="token comment"># others with access to the host running redis-server.</span>
<span class="token comment">#</span>
<span class="token comment"># This should stay commented out for backward compatibility and because most</span>
<span class="token comment"># people do not need auth (e.g. they run their own servers).</span>
<span class="token comment">#</span>
<span class="token comment"># Warning: since Redis is pretty fast an outside user can try up to</span>
<span class="token comment"># 150k passwords per second against a good box. This means that you should</span>
<span class="token comment"># use a very strong password otherwise it will be very easy to break.</span>
<span class="token comment">#</span>
<span class="token comment"># requirepass foobared</span>

<span class="token comment"># Command renaming.</span>
<span class="token comment">#</span>
<span class="token comment"># It is possible to change the name of dangerous commands in a shared</span>
<span class="token comment"># environment. For instance the CONFIG command may be renamed into something</span>
<span class="token comment"># hard to guess so that it will still be available for internal-use tools</span>
<span class="token comment"># but not available for general clients.</span>
<span class="token comment">#</span>
<span class="token comment"># Example:</span>
<span class="token comment">#</span>
<span class="token comment"># rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52</span>
<span class="token comment">#</span>
<span class="token comment"># It is also possible to completely kill a command by renaming it into</span>
<span class="token comment"># an empty string:</span>
<span class="token comment">#</span>
<span class="token comment"># rename-command CONFIG &quot;&quot;</span>
<span class="token comment">#</span>
<span class="token comment"># Please note that changing the name of commands that are logged into the</span>
<span class="token comment"># AOF file or transmitted to replicas may cause problems.</span>

<span class="token comment">################################### CLIENTS ####################################</span>

<span class="token comment"># Set the max number of connected clients at the same time. By default</span>
<span class="token comment"># this limit is set to 10000 clients, however if the Redis server is not</span>
<span class="token comment"># able to configure the process file limit to allow for the specified limit</span>
<span class="token comment"># the max number of allowed clients is set to the current file limit</span>
<span class="token comment"># minus 32 (as Redis reserves a few file descriptors for internal uses).</span>
<span class="token comment">#</span>
<span class="token comment"># Once the limit is reached Redis will close all the new connections sending</span>
<span class="token comment"># an error 'max number of clients reached'.</span>
<span class="token comment">#</span>
<span class="token comment"># maxclients 10000</span>

<span class="token comment">############################## MEMORY MANAGEMENT ################################</span>

<span class="token comment"># Set a memory usage limit to the specified amount of bytes.</span>
<span class="token comment"># When the memory limit is reached Redis will try to remove keys</span>
<span class="token comment"># according to the eviction policy selected (see maxmemory-policy).</span>
<span class="token comment">#</span>
<span class="token comment"># If Redis can't remove keys according to the policy, or if the policy is</span>
<span class="token comment"># set to 'noeviction', Redis will start to reply with errors to commands</span>
<span class="token comment"># that would use more memory, like SET, LPUSH, and so on, and will continue</span>
<span class="token comment"># to reply to read-only commands like GET.</span>
<span class="token comment">#</span>
<span class="token comment"># This option is usually useful when using Redis as an LRU or LFU cache, or to</span>
<span class="token comment"># set a hard memory limit for an instance (using the 'noeviction' policy).</span>
<span class="token comment">#</span>
<span class="token comment"># WARNING: If you have replicas attached to an instance with maxmemory on,</span>
<span class="token comment"># the size of the output buffers needed to feed the replicas are subtracted</span>
<span class="token comment"># from the used memory count, so that network problems / resyncs will</span>
<span class="token comment"># not trigger a loop where keys are evicted, and in turn the output</span>
<span class="token comment"># buffer of replicas is full with DELs of keys evicted triggering the deletion</span>
<span class="token comment"># of more keys, and so forth until the database is completely emptied.</span>
<span class="token comment">#</span>
<span class="token comment"># In short... if you have replicas attached it is suggested that you set a lower</span>
<span class="token comment"># limit for maxmemory so that there is some free RAM on the system for replica</span>
<span class="token comment"># output buffers (but this is not needed if the policy is 'noeviction').</span>
<span class="token comment">#</span>
<span class="token comment"># maxmemory &lt;bytes&gt;</span>

<span class="token comment"># MAXMEMORY POLICY: how Redis will select what to remove when maxmemory</span>
<span class="token comment"># is reached. You can select among five behaviors:</span>
<span class="token comment">#</span>
<span class="token comment"># volatile-lru -&gt; Evict using approximated LRU among the keys with an expire set.</span>
<span class="token comment"># allkeys-lru -&gt; Evict any key using approximated LRU.</span>
<span class="token comment"># volatile-lfu -&gt; Evict using approximated LFU among the keys with an expire set.</span>
<span class="token comment"># allkeys-lfu -&gt; Evict any key using approximated LFU.</span>
<span class="token comment"># volatile-random -&gt; Remove a random key among the ones with an expire set.</span>
<span class="token comment"># allkeys-random -&gt; Remove a random key, any key.</span>
<span class="token comment"># volatile-ttl -&gt; Remove the key with the nearest expire time (minor TTL)</span>
<span class="token comment"># noeviction -&gt; Don't evict anything, just return an error on write operations.</span>
<span class="token comment">#</span>
<span class="token comment"># LRU means Least Recently Used</span>
<span class="token comment"># LFU means Least Frequently Used</span>
<span class="token comment">#</span>
<span class="token comment"># Both LRU, LFU and volatile-ttl are implemented using approximated</span>
<span class="token comment"># randomized algorithms.</span>
<span class="token comment">#</span>
<span class="token comment"># Note: with any of the above policies, Redis will return an error on write</span>
<span class="token comment">#       operations, when there are no suitable keys for eviction.</span>
<span class="token comment">#</span>
<span class="token comment">#       At the date of writing these commands are: set setnx setex append</span>
<span class="token comment">#       incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd</span>
<span class="token comment">#       sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby</span>
<span class="token comment">#       zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby</span>
<span class="token comment">#       getset mset msetnx exec sort</span>
<span class="token comment">#</span>
<span class="token comment"># The default is:</span>
<span class="token comment">#</span>
<span class="token comment"># maxmemory-policy noeviction</span>

<span class="token comment"># LRU, LFU and minimal TTL algorithms are not precise algorithms but approximated</span>
<span class="token comment"># algorithms (in order to save memory), so you can tune it for speed or</span>
<span class="token comment"># accuracy. For default Redis will check five keys and pick the one that was</span>
<span class="token comment"># used less recently, you can change the sample size using the following</span>
<span class="token comment"># configuration directive.</span>
<span class="token comment">#</span>
<span class="token comment"># The default of 5 produces good enough results. 10 Approximates very closely</span>
<span class="token comment"># true LRU but costs more CPU. 3 is faster but not very accurate.</span>
<span class="token comment">#</span>
<span class="token comment"># maxmemory-samples 5</span>

<span class="token comment"># Starting from Redis 5, by default a replica will ignore its maxmemory setting</span>
<span class="token comment"># (unless it is promoted to master after a failover or manually). It means</span>
<span class="token comment"># that the eviction of keys will be just handled by the master, sending the</span>
<span class="token comment"># DEL commands to the replica as keys evict in the master side.</span>
<span class="token comment">#</span>
<span class="token comment"># This behavior ensures that masters and replicas stay consistent, and is usually</span>
<span class="token comment"># what you want, however if your replica is writable, or you want the replica to have</span>
<span class="token comment"># a different memory setting, and you are sure all the writes performed to the</span>
<span class="token comment"># replica are idempotent, then you may change this default (but be sure to understand</span>
<span class="token comment"># what you are doing).</span>
<span class="token comment">#</span>
<span class="token comment"># Note that since the replica by default does not evict, it may end using more</span>
<span class="token comment"># memory than the one set via maxmemory (there are certain buffers that may</span>
<span class="token comment"># be larger on the replica, or data structures may sometimes take more memory and so</span>
<span class="token comment"># forth). So make sure you monitor your replicas and make sure they have enough</span>
<span class="token comment"># memory to never hit a real out-of-memory condition before the master hits</span>
<span class="token comment"># the configured maxmemory setting.</span>
<span class="token comment">#</span>
<span class="token comment"># replica-ignore-maxmemory yes</span>

<span class="token comment">############################# LAZY FREEING ####################################</span>

<span class="token comment"># Redis has two primitives to delete keys. One is called DEL and is a blocking</span>
<span class="token comment"># deletion of the object. It means that the server stops processing new commands</span>
<span class="token comment"># in order to reclaim all the memory associated with an object in a synchronous</span>
<span class="token comment"># way. If the key deleted is associated with a small object, the time needed</span>
<span class="token comment"># in order to execute the DEL command is very small and comparable to most other</span>
<span class="token comment"># O(1) or O(log_N) commands in Redis. However if the key is associated with an</span>
<span class="token comment"># aggregated value containing millions of elements, the server can block for</span>
<span class="token comment"># a long time (even seconds) in order to complete the operation.</span>
<span class="token comment">#</span>
<span class="token comment"># For the above reasons Redis also offers non blocking deletion primitives</span>
<span class="token comment"># such as UNLINK (non blocking DEL) and the ASYNC option of FLUSHALL and</span>
<span class="token comment"># FLUSHDB commands, in order to reclaim memory in background. Those commands</span>
<span class="token comment"># are executed in constant time. Another thread will incrementally free the</span>
<span class="token comment"># object in the background as fast as possible.</span>
<span class="token comment">#</span>
<span class="token comment"># DEL, UNLINK and ASYNC option of FLUSHALL and FLUSHDB are user-controlled.</span>
<span class="token comment"># It's up to the design of the application to understand when it is a good</span>
<span class="token comment"># idea to use one or the other. However the Redis server sometimes has to</span>
<span class="token comment"># delete keys or flush the whole database as a side effect of other operations.</span>
<span class="token comment"># Specifically Redis deletes objects independently of a user call in the</span>
<span class="token comment"># following scenarios:</span>
<span class="token comment">#</span>
<span class="token comment"># 1) On eviction, because of the maxmemory and maxmemory policy configurations,</span>
<span class="token comment">#    in order to make room for new data, without going over the specified</span>
<span class="token comment">#    memory limit.</span>
<span class="token comment"># 2) Because of expire: when a key with an associated time to live (see the</span>
<span class="token comment">#    EXPIRE command) must be deleted from memory.</span>
<span class="token comment"># 3) Because of a side effect of a command that stores data on a key that may</span>
<span class="token comment">#    already exist. For example the RENAME command may delete the old key</span>
<span class="token comment">#    content when it is replaced with another one. Similarly SUNIONSTORE</span>
<span class="token comment">#    or SORT with STORE option may delete existing keys. The SET command</span>
<span class="token comment">#    itself removes any old content of the specified key in order to replace</span>
<span class="token comment">#    it with the specified string.</span>
<span class="token comment"># 4) During replication, when a replica performs a full resynchronization with</span>
<span class="token comment">#    its master, the content of the whole database is removed in order to</span>
<span class="token comment">#    load the RDB file just transferred.</span>
<span class="token comment">#</span>
<span class="token comment"># In all the above cases the default is to delete objects in a blocking way,</span>
<span class="token comment"># like if DEL was called. However you can configure each case specifically</span>
<span class="token comment"># in order to instead release memory in a non-blocking way like if UNLINK</span>
<span class="token comment"># was called, using the following configuration directives:</span>

lazyfree-lazy-eviction no
lazyfree-lazy-expire no
lazyfree-lazy-server-del no
replica-lazy-flush no

<span class="token comment">############################## APPEND ONLY MODE ###############################</span>

<span class="token comment"># By default Redis asynchronously dumps the dataset on disk. This mode is</span>
<span class="token comment"># good enough in many applications, but an issue with the Redis process or</span>
<span class="token comment"># a power outage may result into a few minutes of writes lost (depending on</span>
<span class="token comment"># the configured save points).</span>
<span class="token comment">#</span>
<span class="token comment"># The Append Only File is an alternative persistence mode that provides</span>
<span class="token comment"># much better durability. For instance using the default data fsync policy</span>
<span class="token comment"># (see later in the config file) Redis can lose just one second of writes in a</span>
<span class="token comment"># dramatic event like a server power outage, or a single write if something</span>
<span class="token comment"># wrong with the Redis process itself happens, but the operating system is</span>
<span class="token comment"># still running correctly.</span>
<span class="token comment">#</span>
<span class="token comment"># AOF and RDB persistence can be enabled at the same time without problems.</span>
<span class="token comment"># If the AOF is enabled on startup Redis will load the AOF, that is the file</span>
<span class="token comment"># with the better durability guarantees.</span>
<span class="token comment">#</span>
<span class="token comment"># Please check http://redis.io/topics/persistence for more information.</span>

appendonly no

<span class="token comment"># The name of the append only file (default: &quot;appendonly.aof&quot;)</span>

appendfilename <span class="token string">&quot;appendonly.aof&quot;</span>

<span class="token comment"># The fsync() call tells the Operating System to actually write data on disk</span>
<span class="token comment"># instead of waiting for more data in the output buffer. Some OS will really flush</span>
<span class="token comment"># data on disk, some other OS will just try to do it ASAP.</span>
<span class="token comment">#</span>
<span class="token comment"># Redis supports three different modes:</span>
<span class="token comment">#</span>
<span class="token comment"># no: don't fsync, just let the OS flush the data when it wants. Faster.</span>
<span class="token comment"># always: fsync after every write to the append only log. Slow, Safest.</span>
<span class="token comment"># everysec: fsync only one time every second. Compromise.</span>
<span class="token comment">#</span>
<span class="token comment"># The default is &quot;everysec&quot;, as that's usually the right compromise between</span>
<span class="token comment"># speed and data safety. It's up to you to understand if you can relax this to</span>
<span class="token comment"># &quot;no&quot; that will let the operating system flush the output buffer when</span>
<span class="token comment"># it wants, for better performances (but if you can live with the idea of</span>
<span class="token comment"># some data loss consider the default persistence mode that's snapshotting),</span>
<span class="token comment"># or on the contrary, use &quot;always&quot; that's very slow but a bit safer than</span>
<span class="token comment"># everysec.</span>
<span class="token comment">#</span>
<span class="token comment"># More details please check the following article:</span>
<span class="token comment"># http://antirez.com/post/redis-persistence-demystified.html</span>
<span class="token comment">#</span>
<span class="token comment"># If unsure, use &quot;everysec&quot;.</span>

<span class="token comment"># appendfsync always</span>
appendfsync everysec
<span class="token comment"># appendfsync no</span>

<span class="token comment"># When the AOF fsync policy is set to always or everysec, and a background</span>
<span class="token comment"># saving process (a background save or AOF log background rewriting) is</span>
<span class="token comment"># performing a lot of I/O against the disk, in some Linux configurations</span>
<span class="token comment"># Redis may block too long on the fsync() call. Note that there is no fix for</span>
<span class="token comment"># this currently, as even performing fsync in a different thread will block</span>
<span class="token comment"># our synchronous write(2) call.</span>
<span class="token comment">#</span>
<span class="token comment"># In order to mitigate this problem it's possible to use the following option</span>
<span class="token comment"># that will prevent fsync() from being called in the main process while a</span>
<span class="token comment"># BGSAVE or BGREWRITEAOF is in progress.</span>
<span class="token comment">#</span>
<span class="token comment"># This means that while another child is saving, the durability of Redis is</span>
<span class="token comment"># the same as &quot;appendfsync none&quot;. In practical terms, this means that it is</span>
<span class="token comment"># possible to lose up to 30 seconds of log in the worst scenario (with the</span>
<span class="token comment"># default Linux settings).</span>
<span class="token comment">#</span>
<span class="token comment"># If you have latency problems turn this to &quot;yes&quot;. Otherwise leave it as</span>
<span class="token comment"># &quot;no&quot; that is the safest pick from the point of view of durability.</span>

no-appendfsync-on-rewrite no

<span class="token comment"># Automatic rewrite of the append only file.</span>
<span class="token comment"># Redis is able to automatically rewrite the log file implicitly calling</span>
<span class="token comment"># BGREWRITEAOF when the AOF log size grows by the specified percentage.</span>
<span class="token comment">#</span>
<span class="token comment"># This is how it works: Redis remembers the size of the AOF file after the</span>
<span class="token comment"># latest rewrite (if no rewrite has happened since the restart, the size of</span>
<span class="token comment"># the AOF at startup is used).</span>
<span class="token comment">#</span>
<span class="token comment"># This base size is compared to the current size. If the current size is</span>
<span class="token comment"># bigger than the specified percentage, the rewrite is triggered. Also</span>
<span class="token comment"># you need to specify a minimal size for the AOF file to be rewritten, this</span>
<span class="token comment"># is useful to avoid rewriting the AOF file even if the percentage increase</span>
<span class="token comment"># is reached but it is still pretty small.</span>
<span class="token comment">#</span>
<span class="token comment"># Specify a percentage of zero in order to disable the automatic AOF</span>
<span class="token comment"># rewrite feature.</span>

auto-aof-rewrite-percentage <span class="token number">100</span>
auto-aof-rewrite-min-size 64mb

<span class="token comment"># An AOF file may be found to be truncated at the end during the Redis</span>
<span class="token comment"># startup process, when the AOF data gets loaded back into memory.</span>
<span class="token comment"># This may happen when the system where Redis is running</span>
<span class="token comment"># crashes, especially when an ext4 filesystem is mounted without the</span>
<span class="token comment"># data=ordered option (however this can't happen when Redis itself</span>
<span class="token comment"># crashes or aborts but the operating system still works correctly).</span>
<span class="token comment">#</span>
<span class="token comment"># Redis can either exit with an error when this happens, or load as much</span>
<span class="token comment"># data as possible (the default now) and start if the AOF file is found</span>
<span class="token comment"># to be truncated at the end. The following option controls this behavior.</span>
<span class="token comment">#</span>
<span class="token comment"># If aof-load-truncated is set to yes, a truncated AOF file is loaded and</span>
<span class="token comment"># the Redis server starts emitting a log to inform the user of the event.</span>
<span class="token comment"># Otherwise if the option is set to no, the server aborts with an error</span>
<span class="token comment"># and refuses to start. When the option is set to no, the user requires</span>
<span class="token comment"># to fix the AOF file using the &quot;redis-check-aof&quot; utility before to restart</span>
<span class="token comment"># the server.</span>
<span class="token comment">#</span>
<span class="token comment"># Note that if the AOF file will be found to be corrupted in the middle</span>
<span class="token comment"># the server will still exit with an error. This option only applies when</span>
<span class="token comment"># Redis will try to read more data from the AOF file but not enough bytes</span>
<span class="token comment"># will be found.</span>
aof-load-truncated <span class="token function">yes</span>

<span class="token comment"># When rewriting the AOF file, Redis is able to use an RDB preamble in the</span>
<span class="token comment"># AOF file for faster rewrites and recoveries. When this option is turned</span>
<span class="token comment"># on the rewritten AOF file is composed of two different stanzas:</span>
<span class="token comment">#</span>
<span class="token comment">#   [RDB file][AOF tail]</span>
<span class="token comment">#</span>
<span class="token comment"># When loading Redis recognizes that the AOF file starts with the &quot;REDIS&quot;</span>
<span class="token comment"># string and loads the prefixed RDB file, and continues loading the AOF</span>
<span class="token comment"># tail.</span>
aof-use-rdb-preamble <span class="token function">yes</span>

<span class="token comment">################################ LUA SCRIPTING  ###############################</span>

<span class="token comment"># Max execution time of a Lua script in milliseconds.</span>
<span class="token comment">#</span>
<span class="token comment"># If the maximum execution time is reached Redis will log that a script is</span>
<span class="token comment"># still in execution after the maximum allowed time and will start to</span>
<span class="token comment"># reply to queries with an error.</span>
<span class="token comment">#</span>
<span class="token comment"># When a long running script exceeds the maximum execution time only the</span>
<span class="token comment"># SCRIPT KILL and SHUTDOWN NOSAVE commands are available. The first can be</span>
<span class="token comment"># used to stop a script that did not yet called write commands. The second</span>
<span class="token comment"># is the only way to shut down the server in the case a write command was</span>
<span class="token comment"># already issued by the script but the user doesn't want to wait for the natural</span>
<span class="token comment"># termination of the script.</span>
<span class="token comment">#</span>
<span class="token comment"># Set it to 0 or a negative value for unlimited execution without warnings.</span>
lua-time-limit <span class="token number">5000</span>

<span class="token comment">################################ REDIS CLUSTER  ###############################</span>
<span class="token comment">#</span>
<span class="token comment"># ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>
<span class="token comment"># WARNING EXPERIMENTAL: Redis Cluster is considered to be stable code, however</span>
<span class="token comment"># in order to mark it as &quot;mature&quot; we need to wait for a non trivial percentage</span>
<span class="token comment"># of users to deploy it in production.</span>
<span class="token comment"># ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>
<span class="token comment">#</span>
<span class="token comment"># Normal Redis instances can't be part of a Redis Cluster; only nodes that are</span>
<span class="token comment"># started as cluster nodes can. In order to start a Redis instance as a</span>
<span class="token comment"># cluster node enable the cluster support uncommenting the following:</span>
<span class="token comment">#</span>
<span class="token comment"># cluster-enabled yes</span>

<span class="token comment"># Every cluster node has a cluster configuration file. This file is not</span>
<span class="token comment"># intended to be edited by hand. It is created and updated by Redis nodes.</span>
<span class="token comment"># Every Redis Cluster node requires a different cluster configuration file.</span>
<span class="token comment"># Make sure that instances running in the same system do not have</span>
<span class="token comment"># overlapping cluster configuration file names.</span>
<span class="token comment">#</span>
<span class="token comment"># cluster-config-file nodes-6379.conf</span>

<span class="token comment"># Cluster node timeout is the amount of milliseconds a node must be unreachable</span>
<span class="token comment"># for it to be considered in failure state.</span>
<span class="token comment"># Most other internal time limits are multiple of the node timeout.</span>
<span class="token comment">#</span>
<span class="token comment"># cluster-node-timeout 15000</span>

<span class="token comment"># A replica of a failing master will avoid to start a failover if its data</span>
<span class="token comment"># looks too old.</span>
<span class="token comment">#</span>
<span class="token comment"># There is no simple way for a replica to actually have an exact measure of</span>
<span class="token comment"># its &quot;data age&quot;, so the following two checks are performed:</span>
<span class="token comment">#</span>
<span class="token comment"># 1) If there are multiple replicas able to failover, they exchange messages</span>
<span class="token comment">#    in order to try to give an advantage to the replica with the best</span>
<span class="token comment">#    replication offset (more data from the master processed).</span>
<span class="token comment">#    Replicas will try to get their rank by offset, and apply to the start</span>
<span class="token comment">#    of the failover a delay proportional to their rank.</span>
<span class="token comment">#</span>
<span class="token comment"># 2) Every single replica computes the time of the last interaction with</span>
<span class="token comment">#    its master. This can be the last ping or command received (if the master</span>
<span class="token comment">#    is still in the &quot;connected&quot; state), or the time that elapsed since the</span>
<span class="token comment">#    disconnection with the master (if the replication link is currently down).</span>
<span class="token comment">#    If the last interaction is too old, the replica will not try to failover</span>
<span class="token comment">#    at all.</span>
<span class="token comment">#</span>
<span class="token comment"># The point &quot;2&quot; can be tuned by user. Specifically a replica will not perform</span>
<span class="token comment"># the failover if, since the last interaction with the master, the time</span>
<span class="token comment"># elapsed is greater than:</span>
<span class="token comment">#</span>
<span class="token comment">#   (node-timeout * replica-validity-factor) + repl-ping-replica-period</span>
<span class="token comment">#</span>
<span class="token comment"># So for example if node-timeout is 30 seconds, and the replica-validity-factor</span>
<span class="token comment"># is 10, and assuming a default repl-ping-replica-period of 10 seconds, the</span>
<span class="token comment"># replica will not try to failover if it was not able to talk with the master</span>
<span class="token comment"># for longer than 310 seconds.</span>
<span class="token comment">#</span>
<span class="token comment"># A large replica-validity-factor may allow replicas with too old data to failover</span>
<span class="token comment"># a master, while a too small value may prevent the cluster from being able to</span>
<span class="token comment"># elect a replica at all.</span>
<span class="token comment">#</span>
<span class="token comment"># For maximum availability, it is possible to set the replica-validity-factor</span>
<span class="token comment"># to a value of 0, which means, that replicas will always try to failover the</span>
<span class="token comment"># master regardless of the last time they interacted with the master.</span>
<span class="token comment"># (However they'll always try to apply a delay proportional to their</span>
<span class="token comment"># offset rank).</span>
<span class="token comment">#</span>
<span class="token comment"># Zero is the only value able to guarantee that when all the partitions heal</span>
<span class="token comment"># the cluster will always be able to continue.</span>
<span class="token comment">#</span>
<span class="token comment"># cluster-replica-validity-factor 10</span>

<span class="token comment"># Cluster replicas are able to migrate to orphaned masters, that are masters</span>
<span class="token comment"># that are left without working replicas. This improves the cluster ability</span>
<span class="token comment"># to resist to failures as otherwise an orphaned master can't be failed over</span>
<span class="token comment"># in case of failure if it has no working replicas.</span>
<span class="token comment">#</span>
<span class="token comment"># Replicas migrate to orphaned masters only if there are still at least a</span>
<span class="token comment"># given number of other working replicas for their old master. This number</span>
<span class="token comment"># is the &quot;migration barrier&quot;. A migration barrier of 1 means that a replica</span>
<span class="token comment"># will migrate only if there is at least 1 other working replica for its master</span>
<span class="token comment"># and so forth. It usually reflects the number of replicas you want for every</span>
<span class="token comment"># master in your cluster.</span>
<span class="token comment">#</span>
<span class="token comment"># Default is 1 (replicas migrate only if their masters remain with at least</span>
<span class="token comment"># one replica). To disable migration just set it to a very large value.</span>
<span class="token comment"># A value of 0 can be set but is useful only for debugging and dangerous</span>
<span class="token comment"># in production.</span>
<span class="token comment">#</span>
<span class="token comment"># cluster-migration-barrier 1</span>

<span class="token comment"># By default Redis Cluster nodes stop accepting queries if they detect there</span>
<span class="token comment"># is at least an hash slot uncovered (no available node is serving it).</span>
<span class="token comment"># This way if the cluster is partially down (for example a range of hash slots</span>
<span class="token comment"># are no longer covered) all the cluster becomes, eventually, unavailable.</span>
<span class="token comment"># It automatically returns available as soon as all the slots are covered again.</span>
<span class="token comment">#</span>
<span class="token comment"># However sometimes you want the subset of the cluster which is working,</span>
<span class="token comment"># to continue to accept queries for the part of the key space that is still</span>
<span class="token comment"># covered. In order to do so, just set the cluster-require-full-coverage</span>
<span class="token comment"># option to no.</span>
<span class="token comment">#</span>
<span class="token comment"># cluster-require-full-coverage yes</span>

<span class="token comment"># This option, when set to yes, prevents replicas from trying to failover its</span>
<span class="token comment"># master during master failures. However the master can still perform a</span>
<span class="token comment"># manual failover, if forced to do so.</span>
<span class="token comment">#</span>
<span class="token comment"># This is useful in different scenarios, especially in the case of multiple</span>
<span class="token comment"># data center operations, where we want one side to never be promoted if not</span>
<span class="token comment"># in the case of a total DC failure.</span>
<span class="token comment">#</span>
<span class="token comment"># cluster-replica-no-failover no</span>

<span class="token comment"># In order to setup your cluster make sure to read the documentation</span>
<span class="token comment"># available at http://redis.io web site.</span>

<span class="token comment">########################## CLUSTER DOCKER/NAT support  ########################</span>

<span class="token comment"># In certain deployments, Redis Cluster nodes address discovery fails, because</span>
<span class="token comment"># addresses are NAT-ted or because ports are forwarded (the typical case is</span>
<span class="token comment"># Docker and other containers).</span>
<span class="token comment">#</span>
<span class="token comment"># In order to make Redis Cluster working in such environments, a static</span>
<span class="token comment"># configuration where each node knows its public address is needed. The</span>
<span class="token comment"># following two options are used for this scope, and are:</span>
<span class="token comment">#</span>
<span class="token comment"># * cluster-announce-ip</span>
<span class="token comment"># * cluster-announce-port</span>
<span class="token comment"># * cluster-announce-bus-port</span>
<span class="token comment">#</span>
<span class="token comment"># Each instruct the node about its address, client port, and cluster message</span>
<span class="token comment"># bus port. The information is then published in the header of the bus packets</span>
<span class="token comment"># so that other nodes will be able to correctly map the address of the node</span>
<span class="token comment"># publishing the information.</span>
<span class="token comment">#</span>
<span class="token comment"># If the above options are not used, the normal Redis Cluster auto-detection</span>
<span class="token comment"># will be used instead.</span>
<span class="token comment">#</span>
<span class="token comment"># Note that when remapped, the bus port may not be at the fixed offset of</span>
<span class="token comment"># clients port + 10000, so you can specify any port and bus-port depending</span>
<span class="token comment"># on how they get remapped. If the bus-port is not set, a fixed offset of</span>
<span class="token comment"># 10000 will be used as usually.</span>
<span class="token comment">#</span>
<span class="token comment"># Example:</span>
<span class="token comment">#</span>
<span class="token comment"># cluster-announce-ip 10.1.1.5</span>
<span class="token comment"># cluster-announce-port 6379</span>
<span class="token comment"># cluster-announce-bus-port 6380</span>

<span class="token comment">################################## SLOW LOG ###################################</span>

<span class="token comment"># The Redis Slow Log is a system to log queries that exceeded a specified</span>
<span class="token comment"># execution time. The execution time does not include the I/O operations</span>
<span class="token comment"># like talking with the client, sending the reply and so forth,</span>
<span class="token comment"># but just the time needed to actually execute the command (this is the only</span>
<span class="token comment"># stage of command execution where the thread is blocked and can not serve</span>
<span class="token comment"># other requests in the meantime).</span>
<span class="token comment">#</span>
<span class="token comment"># You can configure the slow log with two parameters: one tells Redis</span>
<span class="token comment"># what is the execution time, in microseconds, to exceed in order for the</span>
<span class="token comment"># command to get logged, and the other parameter is the length of the</span>
<span class="token comment"># slow log. When a new command is logged the oldest one is removed from the</span>
<span class="token comment"># queue of logged commands.</span>

<span class="token comment"># The following time is expressed in microseconds, so 1000000 is equivalent</span>
<span class="token comment"># to one second. Note that a negative number disables the slow log, while</span>
<span class="token comment"># a value of zero forces the logging of every command.</span>
slowlog-log-slower-than <span class="token number">10000</span>

<span class="token comment"># There is no limit to this length. Just be aware that it will consume memory.</span>
<span class="token comment"># You can reclaim memory used by the slow log with SLOWLOG RESET.</span>
slowlog-max-len <span class="token number">128</span>

<span class="token comment">################################ LATENCY MONITOR ##############################</span>

<span class="token comment"># The Redis latency monitoring subsystem samples different operations</span>
<span class="token comment"># at runtime in order to collect data related to possible sources of</span>
<span class="token comment"># latency of a Redis instance.</span>
<span class="token comment">#</span>
<span class="token comment"># Via the LATENCY command this information is available to the user that can</span>
<span class="token comment"># print graphs and obtain reports.</span>
<span class="token comment">#</span>
<span class="token comment"># The system only logs operations that were performed in a time equal or</span>
<span class="token comment"># greater than the amount of milliseconds specified via the</span>
<span class="token comment"># latency-monitor-threshold configuration directive. When its value is set</span>
<span class="token comment"># to zero, the latency monitor is turned off.</span>
<span class="token comment">#</span>
<span class="token comment"># By default latency monitoring is disabled since it is mostly not needed</span>
<span class="token comment"># if you don't have latency issues, and collecting data has a performance</span>
<span class="token comment"># impact, that while very small, can be measured under big load. Latency</span>
<span class="token comment"># monitoring can easily be enabled at runtime using the command</span>
<span class="token comment"># &quot;CONFIG SET latency-monitor-threshold &lt;milliseconds&gt;&quot; if needed.</span>
latency-monitor-threshold <span class="token number">0</span>

<span class="token comment">############################# EVENT NOTIFICATION ##############################</span>

<span class="token comment"># Redis can notify Pub/Sub clients about events happening in the key space.</span>
<span class="token comment"># This feature is documented at http://redis.io/topics/notifications</span>
<span class="token comment">#</span>
<span class="token comment"># For instance if keyspace events notification is enabled, and a client</span>
<span class="token comment"># performs a DEL operation on key &quot;foo&quot; stored in the Database 0, two</span>
<span class="token comment"># messages will be published via Pub/Sub:</span>
<span class="token comment">#</span>
<span class="token comment"># PUBLISH __keyspace@0__:foo del</span>
<span class="token comment"># PUBLISH __keyevent@0__:del foo</span>
<span class="token comment">#</span>
<span class="token comment"># It is possible to select the events that Redis will notify among a set</span>
<span class="token comment"># of classes. Every class is identified by a single character:</span>
<span class="token comment">#</span>
<span class="token comment">#  K     Keyspace events, published with __keyspace@&lt;db&gt;__ prefix.</span>
<span class="token comment">#  E     Keyevent events, published with __keyevent@&lt;db&gt;__ prefix.</span>
<span class="token comment">#  g     Generic commands (non-type specific) like DEL, EXPIRE, RENAME, ...</span>
<span class="token comment">#  $     String commands</span>
<span class="token comment">#  l     List commands</span>
<span class="token comment">#  s     Set commands</span>
<span class="token comment">#  h     Hash commands</span>
<span class="token comment">#  z     Sorted set commands</span>
<span class="token comment">#  x     Expired events (events generated every time a key expires)</span>
<span class="token comment">#  e     Evicted events (events generated when a key is evicted for maxmemory)</span>
<span class="token comment">#  A     Alias for g$lshzxe, so that the &quot;AKE&quot; string means all the events.</span>
<span class="token comment">#</span>
<span class="token comment">#  The &quot;notify-keyspace-events&quot; takes as argument a string that is composed</span>
<span class="token comment">#  of zero or multiple characters. The empty string means that notifications</span>
<span class="token comment">#  are disabled.</span>
<span class="token comment">#</span>
<span class="token comment">#  Example: to enable list and generic events, from the point of view of the</span>
<span class="token comment">#           event name, use:</span>
<span class="token comment">#</span>
<span class="token comment">#  notify-keyspace-events Elg</span>
<span class="token comment">#</span>
<span class="token comment">#  Example 2: to get the stream of the expired keys subscribing to channel</span>
<span class="token comment">#             name __keyevent@0__:expired use:</span>
<span class="token comment">#</span>
<span class="token comment">#  notify-keyspace-events Ex</span>
<span class="token comment">#</span>
<span class="token comment">#  By default all notifications are disabled because most users don't need</span>
<span class="token comment">#  this feature and the feature has some overhead. Note that if you don't</span>
<span class="token comment">#  specify at least one of K or E, no events will be delivered.</span>
notify-keyspace-events <span class="token string">&quot;&quot;</span>

<span class="token comment">############################### ADVANCED CONFIG ###############################</span>

<span class="token comment"># Hashes are encoded using a memory efficient data structure when they have a</span>
<span class="token comment"># small number of entries, and the biggest entry does not exceed a given</span>
<span class="token comment"># threshold. These thresholds can be configured using the following directives.</span>
hash-max-ziplist-entries <span class="token number">512</span>
hash-max-ziplist-value <span class="token number">64</span>

<span class="token comment"># Lists are also encoded in a special way to save a lot of space.</span>
<span class="token comment"># The number of entries allowed per internal list node can be specified</span>
<span class="token comment"># as a fixed maximum size or a maximum number of elements.</span>
<span class="token comment"># For a fixed maximum size, use -5 through -1, meaning:</span>
<span class="token comment"># -5: max size: 64 Kb  &lt;-- not recommended for normal workloads</span>
<span class="token comment"># -4: max size: 32 Kb  &lt;-- not recommended</span>
<span class="token comment"># -3: max size: 16 Kb  &lt;-- probably not recommended</span>
<span class="token comment"># -2: max size: 8 Kb   &lt;-- good</span>
<span class="token comment"># -1: max size: 4 Kb   &lt;-- good</span>
<span class="token comment"># Positive numbers mean store up to _exactly_ that number of elements</span>
<span class="token comment"># per list node.</span>
<span class="token comment"># The highest performing option is usually -2 (8 Kb size) or -1 (4 Kb size),</span>
<span class="token comment"># but if your use case is unique, adjust the settings as necessary.</span>
list-max-ziplist-size -2

<span class="token comment"># Lists may also be compressed.</span>
<span class="token comment"># Compress depth is the number of quicklist ziplist nodes from *each* side of</span>
<span class="token comment"># the list to *exclude* from compression.  The head and tail of the list</span>
<span class="token comment"># are always uncompressed for fast push/pop operations.  Settings are:</span>
<span class="token comment"># 0: disable all list compression</span>
<span class="token comment"># 1: depth 1 means &quot;don't start compressing until after 1 node into the list,</span>
<span class="token comment">#    going from either the head or tail&quot;</span>
<span class="token comment">#    So: [head]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[tail]</span>
<span class="token comment">#    [head], [tail] will always be uncompressed; inner nodes will compress.</span>
<span class="token comment"># 2: [head]-&gt;[next]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[prev]-&gt;[tail]</span>
<span class="token comment">#    2 here means: don't compress head or head-&gt;next or tail-&gt;prev or tail,</span>
<span class="token comment">#    but compress all nodes between them.</span>
<span class="token comment"># 3: [head]-&gt;[next]-&gt;[next]-&gt;node-&gt;node-&gt;...-&gt;node-&gt;[prev]-&gt;[prev]-&gt;[tail]</span>
<span class="token comment"># etc.</span>
list-compress-depth <span class="token number">0</span>

<span class="token comment"># Sets have a special encoding in just one case: when a set is composed</span>
<span class="token comment"># of just strings that happen to be integers in radix 10 in the range</span>
<span class="token comment"># of 64 bit signed integers.</span>
<span class="token comment"># The following configuration setting sets the limit in the size of the</span>
<span class="token comment"># set in order to use this special memory saving encoding.</span>
set-max-intset-entries <span class="token number">512</span>

<span class="token comment"># Similarly to hashes and lists, sorted sets are also specially encoded in</span>
<span class="token comment"># order to save a lot of space. This encoding is only used when the length and</span>
<span class="token comment"># elements of a sorted set are below the following limits:</span>
zset-max-ziplist-entries <span class="token number">128</span>
zset-max-ziplist-value <span class="token number">64</span>

<span class="token comment"># HyperLogLog sparse representation bytes limit. The limit includes the</span>
<span class="token comment"># 16 bytes header. When an HyperLogLog using the sparse representation crosses</span>
<span class="token comment"># this limit, it is converted into the dense representation.</span>
<span class="token comment">#</span>
<span class="token comment"># A value greater than 16000 is totally useless, since at that point the</span>
<span class="token comment"># dense representation is more memory efficient.</span>
<span class="token comment">#</span>
<span class="token comment"># The suggested value is ~ 3000 in order to have the benefits of</span>
<span class="token comment"># the space efficient encoding without slowing down too much PFADD,</span>
<span class="token comment"># which is O(N) with the sparse encoding. The value can be raised to</span>
<span class="token comment"># ~ 10000 when CPU is not a concern, but space is, and the data set is</span>
<span class="token comment"># composed of many HyperLogLogs with cardinality in the 0 - 15000 range.</span>
hll-sparse-max-bytes <span class="token number">3000</span>

<span class="token comment"># Streams macro node max size / items. The stream data structure is a radix</span>
<span class="token comment"># tree of big nodes that encode multiple items inside. Using this configuration</span>
<span class="token comment"># it is possible to configure how big a single node can be in bytes, and the</span>
<span class="token comment"># maximum number of items it may contain before switching to a new node when</span>
<span class="token comment"># appending new stream entries. If any of the following settings are set to</span>
<span class="token comment"># zero, the limit is ignored, so for instance it is possible to set just a</span>
<span class="token comment"># max entires limit by setting max-bytes to 0 and max-entries to the desired</span>
<span class="token comment"># value.</span>
stream-node-max-bytes <span class="token number">4096</span>
stream-node-max-entries <span class="token number">100</span>

<span class="token comment"># Active rehashing uses 1 millisecond every 100 milliseconds of CPU time in</span>
<span class="token comment"># order to help rehashing the main Redis hash table (the one mapping top-level</span>
<span class="token comment"># keys to values). The hash table implementation Redis uses (see dict.c)</span>
<span class="token comment"># performs a lazy rehashing: the more operation you run into a hash table</span>
<span class="token comment"># that is rehashing, the more rehashing &quot;steps&quot; are performed, so if the</span>
<span class="token comment"># server is idle the rehashing is never complete and some more memory is used</span>
<span class="token comment"># by the hash table.</span>
<span class="token comment">#</span>
<span class="token comment"># The default is to use this millisecond 10 times every second in order to</span>
<span class="token comment"># actively rehash the main dictionaries, freeing memory when possible.</span>
<span class="token comment">#</span>
<span class="token comment"># If unsure:</span>
<span class="token comment"># use &quot;activerehashing no&quot; if you have hard latency requirements and it is</span>
<span class="token comment"># not a good thing in your environment that Redis can reply from time to time</span>
<span class="token comment"># to queries with 2 milliseconds delay.</span>
<span class="token comment">#</span>
<span class="token comment"># use &quot;activerehashing yes&quot; if you don't have such hard requirements but</span>
<span class="token comment"># want to free memory asap when possible.</span>
activerehashing <span class="token function">yes</span>

<span class="token comment"># The client output buffer limits can be used to force disconnection of clients</span>
<span class="token comment"># that are not reading data from the server fast enough for some reason (a</span>
<span class="token comment"># common reason is that a Pub/Sub client can't consume messages as fast as the</span>
<span class="token comment"># publisher can produce them).</span>
<span class="token comment">#</span>
<span class="token comment"># The limit can be set differently for the three different classes of clients:</span>
<span class="token comment">#</span>
<span class="token comment"># normal -&gt; normal clients including MONITOR clients</span>
<span class="token comment"># replica  -&gt; replica clients</span>
<span class="token comment"># pubsub -&gt; clients subscribed to at least one pubsub channel or pattern</span>
<span class="token comment">#</span>
<span class="token comment"># The syntax of every client-output-buffer-limit directive is the following:</span>
<span class="token comment">#</span>
<span class="token comment"># client-output-buffer-limit &lt;class&gt; &lt;hard limit&gt; &lt;soft limit&gt; &lt;soft seconds&gt;</span>
<span class="token comment">#</span>
<span class="token comment"># A client is immediately disconnected once the hard limit is reached, or if</span>
<span class="token comment"># the soft limit is reached and remains reached for the specified number of</span>
<span class="token comment"># seconds (continuously).</span>
<span class="token comment"># So for instance if the hard limit is 32 megabytes and the soft limit is</span>
<span class="token comment"># 16 megabytes / 10 seconds, the client will get disconnected immediately</span>
<span class="token comment"># if the size of the output buffers reach 32 megabytes, but will also get</span>
<span class="token comment"># disconnected if the client reaches 16 megabytes and continuously overcomes</span>
<span class="token comment"># the limit for 10 seconds.</span>
<span class="token comment">#</span>
<span class="token comment"># By default normal clients are not limited because they don't receive data</span>
<span class="token comment"># without asking (in a push way), but just after a request, so only</span>
<span class="token comment"># asynchronous clients may create a scenario where data is requested faster</span>
<span class="token comment"># than it can read.</span>
<span class="token comment">#</span>
<span class="token comment"># Instead there is a default limit for pubsub and replica clients, since</span>
<span class="token comment"># subscribers and replicas receive data in a push fashion.</span>
<span class="token comment">#</span>
<span class="token comment"># Both the hard or the soft limit can be disabled by setting them to zero.</span>
client-output-buffer-limit normal <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span>
client-output-buffer-limit replica 256mb 64mb <span class="token number">60</span>
client-output-buffer-limit pubsub 32mb 8mb <span class="token number">60</span>

<span class="token comment"># Client query buffers accumulate new commands. They are limited to a fixed</span>
<span class="token comment"># amount by default in order to avoid that a protocol desynchronization (for</span>
<span class="token comment"># instance due to a bug in the client) will lead to unbound memory usage in</span>
<span class="token comment"># the query buffer. However you can configure it here if you have very special</span>
<span class="token comment"># needs, such us huge multi/exec requests or alike.</span>
<span class="token comment">#</span>
<span class="token comment"># client-query-buffer-limit 1gb</span>

<span class="token comment"># In the Redis protocol, bulk requests, that are, elements representing single</span>
<span class="token comment"># strings, are normally limited ot 512 mb. However you can change this limit</span>
<span class="token comment"># here.</span>
<span class="token comment">#</span>
<span class="token comment"># proto-max-bulk-len 512mb</span>

<span class="token comment"># Redis calls an internal function to perform many background tasks, like</span>
<span class="token comment"># closing connections of clients in timeout, purging expired keys that are</span>
<span class="token comment"># never requested, and so forth.</span>
<span class="token comment">#</span>
<span class="token comment"># Not all tasks are performed with the same frequency, but Redis checks for</span>
<span class="token comment"># tasks to perform according to the specified &quot;hz&quot; value.</span>
<span class="token comment">#</span>
<span class="token comment"># By default &quot;hz&quot; is set to 10. Raising the value will use more CPU when</span>
<span class="token comment"># Redis is idle, but at the same time will make Redis more responsive when</span>
<span class="token comment"># there are many keys expiring at the same time, and timeouts may be</span>
<span class="token comment"># handled with more precision.</span>
<span class="token comment">#</span>
<span class="token comment"># The range is between 1 and 500, however a value over 100 is usually not</span>
<span class="token comment"># a good idea. Most users should use the default of 10 and raise this up to</span>
<span class="token comment"># 100 only in environments where very low latency is required.</span>
hz <span class="token number">10</span>

<span class="token comment"># Normally it is useful to have an HZ value which is proportional to the</span>
<span class="token comment"># number of clients connected. This is useful in order, for instance, to</span>
<span class="token comment"># avoid too many clients are processed for each background task invocation</span>
<span class="token comment"># in order to avoid latency spikes.</span>
<span class="token comment">#</span>
<span class="token comment"># Since the default HZ value by default is conservatively set to 10, Redis</span>
<span class="token comment"># offers, and enables by default, the ability to use an adaptive HZ value</span>
<span class="token comment"># which will temporary raise when there are many connected clients.</span>
<span class="token comment">#</span>
<span class="token comment"># When dynamic HZ is enabled, the actual configured HZ will be used as</span>
<span class="token comment"># as a baseline, but multiples of the configured HZ value will be actually</span>
<span class="token comment"># used as needed once more clients are connected. In this way an idle</span>
<span class="token comment"># instance will use very little CPU time while a busy instance will be</span>
<span class="token comment"># more responsive.</span>
dynamic-hz <span class="token function">yes</span>

<span class="token comment"># When a child rewrites the AOF file, if the following option is enabled</span>
<span class="token comment"># the file will be fsync-ed every 32 MB of data generated. This is useful</span>
<span class="token comment"># in order to commit the file to the disk more incrementally and avoid</span>
<span class="token comment"># big latency spikes.</span>
aof-rewrite-incremental-fsync <span class="token function">yes</span>

<span class="token comment"># When redis saves RDB file, if the following option is enabled</span>
<span class="token comment"># the file will be fsync-ed every 32 MB of data generated. This is useful</span>
<span class="token comment"># in order to commit the file to the disk more incrementally and avoid</span>
<span class="token comment"># big latency spikes.</span>
rdb-save-incremental-fsync <span class="token function">yes</span>

<span class="token comment"># Redis LFU eviction (see maxmemory setting) can be tuned. However it is a good</span>
<span class="token comment"># idea to start with the default settings and only change them after investigating</span>
<span class="token comment"># how to improve the performances and how the keys LFU change over time, which</span>
<span class="token comment"># is possible to inspect via the OBJECT FREQ command.</span>
<span class="token comment">#</span>
<span class="token comment"># There are two tunable parameters in the Redis LFU implementation: the</span>
<span class="token comment"># counter logarithm factor and the counter decay time. It is important to</span>
<span class="token comment"># understand what the two parameters mean before changing them.</span>
<span class="token comment">#</span>
<span class="token comment"># The LFU counter is just 8 bits per key, it's maximum value is 255, so Redis</span>
<span class="token comment"># uses a probabilistic increment with logarithmic behavior. Given the value</span>
<span class="token comment"># of the old counter, when a key is accessed, the counter is incremented in</span>
<span class="token comment"># this way:</span>
<span class="token comment">#</span>
<span class="token comment"># 1. A random number R between 0 and 1 is extracted.</span>
<span class="token comment"># 2. A probability P is calculated as 1/(old_value*lfu_log_factor+1).</span>
<span class="token comment"># 3. The counter is incremented only if R &lt; P.</span>
<span class="token comment">#</span>
<span class="token comment"># The default lfu-log-factor is 10. This is a table of how the frequency</span>
<span class="token comment"># counter changes with a different number of accesses with different</span>
<span class="token comment"># logarithmic factors:</span>
<span class="token comment">#</span>
<span class="token comment"># +--------+------------+------------+------------+------------+------------+</span>
<span class="token comment"># | factor | 100 hits   | 1000 hits  | 100K hits  | 1M hits    | 10M hits   |</span>
<span class="token comment"># +--------+------------+------------+------------+------------+------------+</span>
<span class="token comment"># | 0      | 104        | 255        | 255        | 255        | 255        |</span>
<span class="token comment"># +--------+------------+------------+------------+------------+------------+</span>
<span class="token comment"># | 1      | 18         | 49         | 255        | 255        | 255        |</span>
<span class="token comment"># +--------+------------+------------+------------+------------+------------+</span>
<span class="token comment"># | 10     | 10         | 18         | 142        | 255        | 255        |</span>
<span class="token comment"># +--------+------------+------------+------------+------------+------------+</span>
<span class="token comment"># | 100    | 8          | 11         | 49         | 143        | 255        |</span>
<span class="token comment"># +--------+------------+------------+------------+------------+------------+</span>
<span class="token comment">#</span>
<span class="token comment"># NOTE: The above table was obtained by running the following commands:</span>
<span class="token comment">#</span>
<span class="token comment">#   redis-benchmark -n 1000000 incr foo</span>
<span class="token comment">#   redis-cli object freq foo</span>
<span class="token comment">#</span>
<span class="token comment"># NOTE 2: The counter initial value is 5 in order to give new objects a chance</span>
<span class="token comment"># to accumulate hits.</span>
<span class="token comment">#</span>
<span class="token comment"># The counter decay time is the time, in minutes, that must elapse in order</span>
<span class="token comment"># for the key counter to be divided by two (or decremented if it has a value</span>
<span class="token comment"># less &lt;= 10).</span>
<span class="token comment">#</span>
<span class="token comment"># The default value for the lfu-decay-time is 1. A Special value of 0 means to</span>
<span class="token comment"># decay the counter every time it happens to be scanned.</span>
<span class="token comment">#</span>
<span class="token comment"># lfu-log-factor 10</span>
<span class="token comment"># lfu-decay-time 1</span>

<span class="token comment">########################### ACTIVE DEFRAGMENTATION #######################</span>
<span class="token comment">#</span>
<span class="token comment"># WARNING THIS FEATURE IS EXPERIMENTAL. However it was stress tested</span>
<span class="token comment"># even in production and manually tested by multiple engineers for some</span>
<span class="token comment"># time.</span>
<span class="token comment">#</span>
<span class="token comment"># What is active defragmentation?</span>
<span class="token comment"># -------------------------------</span>
<span class="token comment">#</span>
<span class="token comment"># Active (online) defragmentation allows a Redis server to compact the</span>
<span class="token comment"># spaces left between small allocations and deallocations of data in memory,</span>
<span class="token comment"># thus allowing to reclaim back memory.</span>
<span class="token comment">#</span>
<span class="token comment"># Fragmentation is a natural process that happens with every allocator (but</span>
<span class="token comment"># less so with Jemalloc, fortunately) and certain workloads. Normally a server</span>
<span class="token comment"># restart is needed in order to lower the fragmentation, or at least to flush</span>
<span class="token comment"># away all the data and create it again. However thanks to this feature</span>
<span class="token comment"># implemented by Oran Agra for Redis 4.0 this process can happen at runtime</span>
<span class="token comment"># in an &quot;hot&quot; way, while the server is running.</span>
<span class="token comment">#</span>
<span class="token comment"># Basically when the fragmentation is over a certain level (see the</span>
<span class="token comment"># configuration options below) Redis will start to create new copies of the</span>
<span class="token comment"># values in contiguous memory regions by exploiting certain specific Jemalloc</span>
<span class="token comment"># features (in order to understand if an allocation is causing fragmentation</span>
<span class="token comment"># and to allocate it in a better place), and at the same time, will release the</span>
<span class="token comment"># old copies of the data. This process, repeated incrementally for all the keys</span>
<span class="token comment"># will cause the fragmentation to drop back to normal values.</span>
<span class="token comment">#</span>
<span class="token comment"># Important things to understand:</span>
<span class="token comment">#</span>
<span class="token comment"># 1. This feature is disabled by default, and only works if you compiled Redis</span>
<span class="token comment">#    to use the copy of Jemalloc we ship with the source code of Redis.</span>
<span class="token comment">#    This is the default with Linux builds.</span>
<span class="token comment">#</span>
<span class="token comment"># 2. You never need to enable this feature if you don't have fragmentation</span>
<span class="token comment">#    issues.</span>
<span class="token comment">#</span>
<span class="token comment"># 3. Once you experience fragmentation, you can enable this feature when</span>
<span class="token comment">#    needed with the command &quot;CONFIG SET activedefrag yes&quot;.</span>
<span class="token comment">#</span>
<span class="token comment"># The configuration parameters are able to fine tune the behavior of the</span>
<span class="token comment"># defragmentation process. If you are not sure about what they mean it is</span>
<span class="token comment"># a good idea to leave the defaults untouched.</span>

<span class="token comment"># Enabled active defragmentation</span>
<span class="token comment"># activedefrag yes</span>

<span class="token comment"># Minimum amount of fragmentation waste to start active defrag</span>
<span class="token comment"># active-defrag-ignore-bytes 100mb</span>

<span class="token comment"># Minimum percentage of fragmentation to start active defrag</span>
<span class="token comment"># active-defrag-threshold-lower 10</span>

<span class="token comment"># Maximum percentage of fragmentation at which we use maximum effort</span>
<span class="token comment"># active-defrag-threshold-upper 100</span>

<span class="token comment"># Minimal effort for defrag in CPU percentage</span>
<span class="token comment"># active-defrag-cycle-min 5</span>

<span class="token comment"># Maximal effort for defrag in CPU percentage</span>
<span class="token comment"># active-defrag-cycle-max 75</span>

<span class="token comment"># Maximum number of set/hash/zset/list fields that will be processed from</span>
<span class="token comment"># the main dictionary scan</span>
<span class="token comment"># active-defrag-max-scan-fields 1000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br><span class="line-number">304</span><br><span class="line-number">305</span><br><span class="line-number">306</span><br><span class="line-number">307</span><br><span class="line-number">308</span><br><span class="line-number">309</span><br><span class="line-number">310</span><br><span class="line-number">311</span><br><span class="line-number">312</span><br><span class="line-number">313</span><br><span class="line-number">314</span><br><span class="line-number">315</span><br><span class="line-number">316</span><br><span class="line-number">317</span><br><span class="line-number">318</span><br><span class="line-number">319</span><br><span class="line-number">320</span><br><span class="line-number">321</span><br><span class="line-number">322</span><br><span class="line-number">323</span><br><span class="line-number">324</span><br><span class="line-number">325</span><br><span class="line-number">326</span><br><span class="line-number">327</span><br><span class="line-number">328</span><br><span class="line-number">329</span><br><span class="line-number">330</span><br><span class="line-number">331</span><br><span class="line-number">332</span><br><span class="line-number">333</span><br><span class="line-number">334</span><br><span class="line-number">335</span><br><span class="line-number">336</span><br><span class="line-number">337</span><br><span class="line-number">338</span><br><span class="line-number">339</span><br><span class="line-number">340</span><br><span class="line-number">341</span><br><span class="line-number">342</span><br><span class="line-number">343</span><br><span class="line-number">344</span><br><span class="line-number">345</span><br><span class="line-number">346</span><br><span class="line-number">347</span><br><span class="line-number">348</span><br><span class="line-number">349</span><br><span class="line-number">350</span><br><span class="line-number">351</span><br><span class="line-number">352</span><br><span class="line-number">353</span><br><span class="line-number">354</span><br><span class="line-number">355</span><br><span class="line-number">356</span><br><span class="line-number">357</span><br><span class="line-number">358</span><br><span class="line-number">359</span><br><span class="line-number">360</span><br><span class="line-number">361</span><br><span class="line-number">362</span><br><span class="line-number">363</span><br><span class="line-number">364</span><br><span class="line-number">365</span><br><span class="line-number">366</span><br><span class="line-number">367</span><br><span class="line-number">368</span><br><span class="line-number">369</span><br><span class="line-number">370</span><br><span class="line-number">371</span><br><span class="line-number">372</span><br><span class="line-number">373</span><br><span class="line-number">374</span><br><span class="line-number">375</span><br><span class="line-number">376</span><br><span class="line-number">377</span><br><span class="line-number">378</span><br><span class="line-number">379</span><br><span class="line-number">380</span><br><span class="line-number">381</span><br><span class="line-number">382</span><br><span class="line-number">383</span><br><span class="line-number">384</span><br><span class="line-number">385</span><br><span class="line-number">386</span><br><span class="line-number">387</span><br><span class="line-number">388</span><br><span class="line-number">389</span><br><span class="line-number">390</span><br><span class="line-number">391</span><br><span class="line-number">392</span><br><span class="line-number">393</span><br><span class="line-number">394</span><br><span class="line-number">395</span><br><span class="line-number">396</span><br><span class="line-number">397</span><br><span class="line-number">398</span><br><span class="line-number">399</span><br><span class="line-number">400</span><br><span class="line-number">401</span><br><span class="line-number">402</span><br><span class="line-number">403</span><br><span class="line-number">404</span><br><span class="line-number">405</span><br><span class="line-number">406</span><br><span class="line-number">407</span><br><span class="line-number">408</span><br><span class="line-number">409</span><br><span class="line-number">410</span><br><span class="line-number">411</span><br><span class="line-number">412</span><br><span class="line-number">413</span><br><span class="line-number">414</span><br><span class="line-number">415</span><br><span class="line-number">416</span><br><span class="line-number">417</span><br><span class="line-number">418</span><br><span class="line-number">419</span><br><span class="line-number">420</span><br><span class="line-number">421</span><br><span class="line-number">422</span><br><span class="line-number">423</span><br><span class="line-number">424</span><br><span class="line-number">425</span><br><span class="line-number">426</span><br><span class="line-number">427</span><br><span class="line-number">428</span><br><span class="line-number">429</span><br><span class="line-number">430</span><br><span class="line-number">431</span><br><span class="line-number">432</span><br><span class="line-number">433</span><br><span class="line-number">434</span><br><span class="line-number">435</span><br><span class="line-number">436</span><br><span class="line-number">437</span><br><span class="line-number">438</span><br><span class="line-number">439</span><br><span class="line-number">440</span><br><span class="line-number">441</span><br><span class="line-number">442</span><br><span class="line-number">443</span><br><span class="line-number">444</span><br><span class="line-number">445</span><br><span class="line-number">446</span><br><span class="line-number">447</span><br><span class="line-number">448</span><br><span class="line-number">449</span><br><span class="line-number">450</span><br><span class="line-number">451</span><br><span class="line-number">452</span><br><span class="line-number">453</span><br><span class="line-number">454</span><br><span class="line-number">455</span><br><span class="line-number">456</span><br><span class="line-number">457</span><br><span class="line-number">458</span><br><span class="line-number">459</span><br><span class="line-number">460</span><br><span class="line-number">461</span><br><span class="line-number">462</span><br><span class="line-number">463</span><br><span class="line-number">464</span><br><span class="line-number">465</span><br><span class="line-number">466</span><br><span class="line-number">467</span><br><span class="line-number">468</span><br><span class="line-number">469</span><br><span class="line-number">470</span><br><span class="line-number">471</span><br><span class="line-number">472</span><br><span class="line-number">473</span><br><span class="line-number">474</span><br><span class="line-number">475</span><br><span class="line-number">476</span><br><span class="line-number">477</span><br><span class="line-number">478</span><br><span class="line-number">479</span><br><span class="line-number">480</span><br><span class="line-number">481</span><br><span class="line-number">482</span><br><span class="line-number">483</span><br><span class="line-number">484</span><br><span class="line-number">485</span><br><span class="line-number">486</span><br><span class="line-number">487</span><br><span class="line-number">488</span><br><span class="line-number">489</span><br><span class="line-number">490</span><br><span class="line-number">491</span><br><span class="line-number">492</span><br><span class="line-number">493</span><br><span class="line-number">494</span><br><span class="line-number">495</span><br><span class="line-number">496</span><br><span class="line-number">497</span><br><span class="line-number">498</span><br><span class="line-number">499</span><br><span class="line-number">500</span><br><span class="line-number">501</span><br><span class="line-number">502</span><br><span class="line-number">503</span><br><span class="line-number">504</span><br><span class="line-number">505</span><br><span class="line-number">506</span><br><span class="line-number">507</span><br><span class="line-number">508</span><br><span class="line-number">509</span><br><span class="line-number">510</span><br><span class="line-number">511</span><br><span class="line-number">512</span><br><span class="line-number">513</span><br><span class="line-number">514</span><br><span class="line-number">515</span><br><span class="line-number">516</span><br><span class="line-number">517</span><br><span class="line-number">518</span><br><span class="line-number">519</span><br><span class="line-number">520</span><br><span class="line-number">521</span><br><span class="line-number">522</span><br><span class="line-number">523</span><br><span class="line-number">524</span><br><span class="line-number">525</span><br><span class="line-number">526</span><br><span class="line-number">527</span><br><span class="line-number">528</span><br><span class="line-number">529</span><br><span class="line-number">530</span><br><span class="line-number">531</span><br><span class="line-number">532</span><br><span class="line-number">533</span><br><span class="line-number">534</span><br><span class="line-number">535</span><br><span class="line-number">536</span><br><span class="line-number">537</span><br><span class="line-number">538</span><br><span class="line-number">539</span><br><span class="line-number">540</span><br><span class="line-number">541</span><br><span class="line-number">542</span><br><span class="line-number">543</span><br><span class="line-number">544</span><br><span class="line-number">545</span><br><span class="line-number">546</span><br><span class="line-number">547</span><br><span class="line-number">548</span><br><span class="line-number">549</span><br><span class="line-number">550</span><br><span class="line-number">551</span><br><span class="line-number">552</span><br><span class="line-number">553</span><br><span class="line-number">554</span><br><span class="line-number">555</span><br><span class="line-number">556</span><br><span class="line-number">557</span><br><span class="line-number">558</span><br><span class="line-number">559</span><br><span class="line-number">560</span><br><span class="line-number">561</span><br><span class="line-number">562</span><br><span class="line-number">563</span><br><span class="line-number">564</span><br><span class="line-number">565</span><br><span class="line-number">566</span><br><span class="line-number">567</span><br><span class="line-number">568</span><br><span class="line-number">569</span><br><span class="line-number">570</span><br><span class="line-number">571</span><br><span class="line-number">572</span><br><span class="line-number">573</span><br><span class="line-number">574</span><br><span class="line-number">575</span><br><span class="line-number">576</span><br><span class="line-number">577</span><br><span class="line-number">578</span><br><span class="line-number">579</span><br><span class="line-number">580</span><br><span class="line-number">581</span><br><span class="line-number">582</span><br><span class="line-number">583</span><br><span class="line-number">584</span><br><span class="line-number">585</span><br><span class="line-number">586</span><br><span class="line-number">587</span><br><span class="line-number">588</span><br><span class="line-number">589</span><br><span class="line-number">590</span><br><span class="line-number">591</span><br><span class="line-number">592</span><br><span class="line-number">593</span><br><span class="line-number">594</span><br><span class="line-number">595</span><br><span class="line-number">596</span><br><span class="line-number">597</span><br><span class="line-number">598</span><br><span class="line-number">599</span><br><span class="line-number">600</span><br><span class="line-number">601</span><br><span class="line-number">602</span><br><span class="line-number">603</span><br><span class="line-number">604</span><br><span class="line-number">605</span><br><span class="line-number">606</span><br><span class="line-number">607</span><br><span class="line-number">608</span><br><span class="line-number">609</span><br><span class="line-number">610</span><br><span class="line-number">611</span><br><span class="line-number">612</span><br><span class="line-number">613</span><br><span class="line-number">614</span><br><span class="line-number">615</span><br><span class="line-number">616</span><br><span class="line-number">617</span><br><span class="line-number">618</span><br><span class="line-number">619</span><br><span class="line-number">620</span><br><span class="line-number">621</span><br><span class="line-number">622</span><br><span class="line-number">623</span><br><span class="line-number">624</span><br><span class="line-number">625</span><br><span class="line-number">626</span><br><span class="line-number">627</span><br><span class="line-number">628</span><br><span class="line-number">629</span><br><span class="line-number">630</span><br><span class="line-number">631</span><br><span class="line-number">632</span><br><span class="line-number">633</span><br><span class="line-number">634</span><br><span class="line-number">635</span><br><span class="line-number">636</span><br><span class="line-number">637</span><br><span class="line-number">638</span><br><span class="line-number">639</span><br><span class="line-number">640</span><br><span class="line-number">641</span><br><span class="line-number">642</span><br><span class="line-number">643</span><br><span class="line-number">644</span><br><span class="line-number">645</span><br><span class="line-number">646</span><br><span class="line-number">647</span><br><span class="line-number">648</span><br><span class="line-number">649</span><br><span class="line-number">650</span><br><span class="line-number">651</span><br><span class="line-number">652</span><br><span class="line-number">653</span><br><span class="line-number">654</span><br><span class="line-number">655</span><br><span class="line-number">656</span><br><span class="line-number">657</span><br><span class="line-number">658</span><br><span class="line-number">659</span><br><span class="line-number">660</span><br><span class="line-number">661</span><br><span class="line-number">662</span><br><span class="line-number">663</span><br><span class="line-number">664</span><br><span class="line-number">665</span><br><span class="line-number">666</span><br><span class="line-number">667</span><br><span class="line-number">668</span><br><span class="line-number">669</span><br><span class="line-number">670</span><br><span class="line-number">671</span><br><span class="line-number">672</span><br><span class="line-number">673</span><br><span class="line-number">674</span><br><span class="line-number">675</span><br><span class="line-number">676</span><br><span class="line-number">677</span><br><span class="line-number">678</span><br><span class="line-number">679</span><br><span class="line-number">680</span><br><span class="line-number">681</span><br><span class="line-number">682</span><br><span class="line-number">683</span><br><span class="line-number">684</span><br><span class="line-number">685</span><br><span class="line-number">686</span><br><span class="line-number">687</span><br><span class="line-number">688</span><br><span class="line-number">689</span><br><span class="line-number">690</span><br><span class="line-number">691</span><br><span class="line-number">692</span><br><span class="line-number">693</span><br><span class="line-number">694</span><br><span class="line-number">695</span><br><span class="line-number">696</span><br><span class="line-number">697</span><br><span class="line-number">698</span><br><span class="line-number">699</span><br><span class="line-number">700</span><br><span class="line-number">701</span><br><span class="line-number">702</span><br><span class="line-number">703</span><br><span class="line-number">704</span><br><span class="line-number">705</span><br><span class="line-number">706</span><br><span class="line-number">707</span><br><span class="line-number">708</span><br><span class="line-number">709</span><br><span class="line-number">710</span><br><span class="line-number">711</span><br><span class="line-number">712</span><br><span class="line-number">713</span><br><span class="line-number">714</span><br><span class="line-number">715</span><br><span class="line-number">716</span><br><span class="line-number">717</span><br><span class="line-number">718</span><br><span class="line-number">719</span><br><span class="line-number">720</span><br><span class="line-number">721</span><br><span class="line-number">722</span><br><span class="line-number">723</span><br><span class="line-number">724</span><br><span class="line-number">725</span><br><span class="line-number">726</span><br><span class="line-number">727</span><br><span class="line-number">728</span><br><span class="line-number">729</span><br><span class="line-number">730</span><br><span class="line-number">731</span><br><span class="line-number">732</span><br><span class="line-number">733</span><br><span class="line-number">734</span><br><span class="line-number">735</span><br><span class="line-number">736</span><br><span class="line-number">737</span><br><span class="line-number">738</span><br><span class="line-number">739</span><br><span class="line-number">740</span><br><span class="line-number">741</span><br><span class="line-number">742</span><br><span class="line-number">743</span><br><span class="line-number">744</span><br><span class="line-number">745</span><br><span class="line-number">746</span><br><span class="line-number">747</span><br><span class="line-number">748</span><br><span class="line-number">749</span><br><span class="line-number">750</span><br><span class="line-number">751</span><br><span class="line-number">752</span><br><span class="line-number">753</span><br><span class="line-number">754</span><br><span class="line-number">755</span><br><span class="line-number">756</span><br><span class="line-number">757</span><br><span class="line-number">758</span><br><span class="line-number">759</span><br><span class="line-number">760</span><br><span class="line-number">761</span><br><span class="line-number">762</span><br><span class="line-number">763</span><br><span class="line-number">764</span><br><span class="line-number">765</span><br><span class="line-number">766</span><br><span class="line-number">767</span><br><span class="line-number">768</span><br><span class="line-number">769</span><br><span class="line-number">770</span><br><span class="line-number">771</span><br><span class="line-number">772</span><br><span class="line-number">773</span><br><span class="line-number">774</span><br><span class="line-number">775</span><br><span class="line-number">776</span><br><span class="line-number">777</span><br><span class="line-number">778</span><br><span class="line-number">779</span><br><span class="line-number">780</span><br><span class="line-number">781</span><br><span class="line-number">782</span><br><span class="line-number">783</span><br><span class="line-number">784</span><br><span class="line-number">785</span><br><span class="line-number">786</span><br><span class="line-number">787</span><br><span class="line-number">788</span><br><span class="line-number">789</span><br><span class="line-number">790</span><br><span class="line-number">791</span><br><span class="line-number">792</span><br><span class="line-number">793</span><br><span class="line-number">794</span><br><span class="line-number">795</span><br><span class="line-number">796</span><br><span class="line-number">797</span><br><span class="line-number">798</span><br><span class="line-number">799</span><br><span class="line-number">800</span><br><span class="line-number">801</span><br><span class="line-number">802</span><br><span class="line-number">803</span><br><span class="line-number">804</span><br><span class="line-number">805</span><br><span class="line-number">806</span><br><span class="line-number">807</span><br><span class="line-number">808</span><br><span class="line-number">809</span><br><span class="line-number">810</span><br><span class="line-number">811</span><br><span class="line-number">812</span><br><span class="line-number">813</span><br><span class="line-number">814</span><br><span class="line-number">815</span><br><span class="line-number">816</span><br><span class="line-number">817</span><br><span class="line-number">818</span><br><span class="line-number">819</span><br><span class="line-number">820</span><br><span class="line-number">821</span><br><span class="line-number">822</span><br><span class="line-number">823</span><br><span class="line-number">824</span><br><span class="line-number">825</span><br><span class="line-number">826</span><br><span class="line-number">827</span><br><span class="line-number">828</span><br><span class="line-number">829</span><br><span class="line-number">830</span><br><span class="line-number">831</span><br><span class="line-number">832</span><br><span class="line-number">833</span><br><span class="line-number">834</span><br><span class="line-number">835</span><br><span class="line-number">836</span><br><span class="line-number">837</span><br><span class="line-number">838</span><br><span class="line-number">839</span><br><span class="line-number">840</span><br><span class="line-number">841</span><br><span class="line-number">842</span><br><span class="line-number">843</span><br><span class="line-number">844</span><br><span class="line-number">845</span><br><span class="line-number">846</span><br><span class="line-number">847</span><br><span class="line-number">848</span><br><span class="line-number">849</span><br><span class="line-number">850</span><br><span class="line-number">851</span><br><span class="line-number">852</span><br><span class="line-number">853</span><br><span class="line-number">854</span><br><span class="line-number">855</span><br><span class="line-number">856</span><br><span class="line-number">857</span><br><span class="line-number">858</span><br><span class="line-number">859</span><br><span class="line-number">860</span><br><span class="line-number">861</span><br><span class="line-number">862</span><br><span class="line-number">863</span><br><span class="line-number">864</span><br><span class="line-number">865</span><br><span class="line-number">866</span><br><span class="line-number">867</span><br><span class="line-number">868</span><br><span class="line-number">869</span><br><span class="line-number">870</span><br><span class="line-number">871</span><br><span class="line-number">872</span><br><span class="line-number">873</span><br><span class="line-number">874</span><br><span class="line-number">875</span><br><span class="line-number">876</span><br><span class="line-number">877</span><br><span class="line-number">878</span><br><span class="line-number">879</span><br><span class="line-number">880</span><br><span class="line-number">881</span><br><span class="line-number">882</span><br><span class="line-number">883</span><br><span class="line-number">884</span><br><span class="line-number">885</span><br><span class="line-number">886</span><br><span class="line-number">887</span><br><span class="line-number">888</span><br><span class="line-number">889</span><br><span class="line-number">890</span><br><span class="line-number">891</span><br><span class="line-number">892</span><br><span class="line-number">893</span><br><span class="line-number">894</span><br><span class="line-number">895</span><br><span class="line-number">896</span><br><span class="line-number">897</span><br><span class="line-number">898</span><br><span class="line-number">899</span><br><span class="line-number">900</span><br><span class="line-number">901</span><br><span class="line-number">902</span><br><span class="line-number">903</span><br><span class="line-number">904</span><br><span class="line-number">905</span><br><span class="line-number">906</span><br><span class="line-number">907</span><br><span class="line-number">908</span><br><span class="line-number">909</span><br><span class="line-number">910</span><br><span class="line-number">911</span><br><span class="line-number">912</span><br><span class="line-number">913</span><br><span class="line-number">914</span><br><span class="line-number">915</span><br><span class="line-number">916</span><br><span class="line-number">917</span><br><span class="line-number">918</span><br><span class="line-number">919</span><br><span class="line-number">920</span><br><span class="line-number">921</span><br><span class="line-number">922</span><br><span class="line-number">923</span><br><span class="line-number">924</span><br><span class="line-number">925</span><br><span class="line-number">926</span><br><span class="line-number">927</span><br><span class="line-number">928</span><br><span class="line-number">929</span><br><span class="line-number">930</span><br><span class="line-number">931</span><br><span class="line-number">932</span><br><span class="line-number">933</span><br><span class="line-number">934</span><br><span class="line-number">935</span><br><span class="line-number">936</span><br><span class="line-number">937</span><br><span class="line-number">938</span><br><span class="line-number">939</span><br><span class="line-number">940</span><br><span class="line-number">941</span><br><span class="line-number">942</span><br><span class="line-number">943</span><br><span class="line-number">944</span><br><span class="line-number">945</span><br><span class="line-number">946</span><br><span class="line-number">947</span><br><span class="line-number">948</span><br><span class="line-number">949</span><br><span class="line-number">950</span><br><span class="line-number">951</span><br><span class="line-number">952</span><br><span class="line-number">953</span><br><span class="line-number">954</span><br><span class="line-number">955</span><br><span class="line-number">956</span><br><span class="line-number">957</span><br><span class="line-number">958</span><br><span class="line-number">959</span><br><span class="line-number">960</span><br><span class="line-number">961</span><br><span class="line-number">962</span><br><span class="line-number">963</span><br><span class="line-number">964</span><br><span class="line-number">965</span><br><span class="line-number">966</span><br><span class="line-number">967</span><br><span class="line-number">968</span><br><span class="line-number">969</span><br><span class="line-number">970</span><br><span class="line-number">971</span><br><span class="line-number">972</span><br><span class="line-number">973</span><br><span class="line-number">974</span><br><span class="line-number">975</span><br><span class="line-number">976</span><br><span class="line-number">977</span><br><span class="line-number">978</span><br><span class="line-number">979</span><br><span class="line-number">980</span><br><span class="line-number">981</span><br><span class="line-number">982</span><br><span class="line-number">983</span><br><span class="line-number">984</span><br><span class="line-number">985</span><br><span class="line-number">986</span><br><span class="line-number">987</span><br><span class="line-number">988</span><br><span class="line-number">989</span><br><span class="line-number">990</span><br><span class="line-number">991</span><br><span class="line-number">992</span><br><span class="line-number">993</span><br><span class="line-number">994</span><br><span class="line-number">995</span><br><span class="line-number">996</span><br><span class="line-number">997</span><br><span class="line-number">998</span><br><span class="line-number">999</span><br><span class="line-number">1000</span><br><span class="line-number">1001</span><br><span class="line-number">1002</span><br><span class="line-number">1003</span><br><span class="line-number">1004</span><br><span class="line-number">1005</span><br><span class="line-number">1006</span><br><span class="line-number">1007</span><br><span class="line-number">1008</span><br><span class="line-number">1009</span><br><span class="line-number">1010</span><br><span class="line-number">1011</span><br><span class="line-number">1012</span><br><span class="line-number">1013</span><br><span class="line-number">1014</span><br><span class="line-number">1015</span><br><span class="line-number">1016</span><br><span class="line-number">1017</span><br><span class="line-number">1018</span><br><span class="line-number">1019</span><br><span class="line-number">1020</span><br><span class="line-number">1021</span><br><span class="line-number">1022</span><br><span class="line-number">1023</span><br><span class="line-number">1024</span><br><span class="line-number">1025</span><br><span class="line-number">1026</span><br><span class="line-number">1027</span><br><span class="line-number">1028</span><br><span class="line-number">1029</span><br><span class="line-number">1030</span><br><span class="line-number">1031</span><br><span class="line-number">1032</span><br><span class="line-number">1033</span><br><span class="line-number">1034</span><br><span class="line-number">1035</span><br><span class="line-number">1036</span><br><span class="line-number">1037</span><br><span class="line-number">1038</span><br><span class="line-number">1039</span><br><span class="line-number">1040</span><br><span class="line-number">1041</span><br><span class="line-number">1042</span><br><span class="line-number">1043</span><br><span class="line-number">1044</span><br><span class="line-number">1045</span><br><span class="line-number">1046</span><br><span class="line-number">1047</span><br><span class="line-number">1048</span><br><span class="line-number">1049</span><br><span class="line-number">1050</span><br><span class="line-number">1051</span><br><span class="line-number">1052</span><br><span class="line-number">1053</span><br><span class="line-number">1054</span><br><span class="line-number">1055</span><br><span class="line-number">1056</span><br><span class="line-number">1057</span><br><span class="line-number">1058</span><br><span class="line-number">1059</span><br><span class="line-number">1060</span><br><span class="line-number">1061</span><br><span class="line-number">1062</span><br><span class="line-number">1063</span><br><span class="line-number">1064</span><br><span class="line-number">1065</span><br><span class="line-number">1066</span><br><span class="line-number">1067</span><br><span class="line-number">1068</span><br><span class="line-number">1069</span><br><span class="line-number">1070</span><br><span class="line-number">1071</span><br><span class="line-number">1072</span><br><span class="line-number">1073</span><br><span class="line-number">1074</span><br><span class="line-number">1075</span><br><span class="line-number">1076</span><br><span class="line-number">1077</span><br><span class="line-number">1078</span><br><span class="line-number">1079</span><br><span class="line-number">1080</span><br><span class="line-number">1081</span><br><span class="line-number">1082</span><br><span class="line-number">1083</span><br><span class="line-number">1084</span><br><span class="line-number">1085</span><br><span class="line-number">1086</span><br><span class="line-number">1087</span><br><span class="line-number">1088</span><br><span class="line-number">1089</span><br><span class="line-number">1090</span><br><span class="line-number">1091</span><br><span class="line-number">1092</span><br><span class="line-number">1093</span><br><span class="line-number">1094</span><br><span class="line-number">1095</span><br><span class="line-number">1096</span><br><span class="line-number">1097</span><br><span class="line-number">1098</span><br><span class="line-number">1099</span><br><span class="line-number">1100</span><br><span class="line-number">1101</span><br><span class="line-number">1102</span><br><span class="line-number">1103</span><br><span class="line-number">1104</span><br><span class="line-number">1105</span><br><span class="line-number">1106</span><br><span class="line-number">1107</span><br><span class="line-number">1108</span><br><span class="line-number">1109</span><br><span class="line-number">1110</span><br><span class="line-number">1111</span><br><span class="line-number">1112</span><br><span class="line-number">1113</span><br><span class="line-number">1114</span><br><span class="line-number">1115</span><br><span class="line-number">1116</span><br><span class="line-number">1117</span><br><span class="line-number">1118</span><br><span class="line-number">1119</span><br><span class="line-number">1120</span><br><span class="line-number">1121</span><br><span class="line-number">1122</span><br><span class="line-number">1123</span><br><span class="line-number">1124</span><br><span class="line-number">1125</span><br><span class="line-number">1126</span><br><span class="line-number">1127</span><br><span class="line-number">1128</span><br><span class="line-number">1129</span><br><span class="line-number">1130</span><br><span class="line-number">1131</span><br><span class="line-number">1132</span><br><span class="line-number">1133</span><br><span class="line-number">1134</span><br><span class="line-number">1135</span><br><span class="line-number">1136</span><br><span class="line-number">1137</span><br><span class="line-number">1138</span><br><span class="line-number">1139</span><br><span class="line-number">1140</span><br><span class="line-number">1141</span><br><span class="line-number">1142</span><br><span class="line-number">1143</span><br><span class="line-number">1144</span><br><span class="line-number">1145</span><br><span class="line-number">1146</span><br><span class="line-number">1147</span><br><span class="line-number">1148</span><br><span class="line-number">1149</span><br><span class="line-number">1150</span><br><span class="line-number">1151</span><br><span class="line-number">1152</span><br><span class="line-number">1153</span><br><span class="line-number">1154</span><br><span class="line-number">1155</span><br><span class="line-number">1156</span><br><span class="line-number">1157</span><br><span class="line-number">1158</span><br><span class="line-number">1159</span><br><span class="line-number">1160</span><br><span class="line-number">1161</span><br><span class="line-number">1162</span><br><span class="line-number">1163</span><br><span class="line-number">1164</span><br><span class="line-number">1165</span><br><span class="line-number">1166</span><br><span class="line-number">1167</span><br><span class="line-number">1168</span><br><span class="line-number">1169</span><br><span class="line-number">1170</span><br><span class="line-number">1171</span><br><span class="line-number">1172</span><br><span class="line-number">1173</span><br><span class="line-number">1174</span><br><span class="line-number">1175</span><br><span class="line-number">1176</span><br><span class="line-number">1177</span><br><span class="line-number">1178</span><br><span class="line-number">1179</span><br><span class="line-number">1180</span><br><span class="line-number">1181</span><br><span class="line-number">1182</span><br><span class="line-number">1183</span><br><span class="line-number">1184</span><br><span class="line-number">1185</span><br><span class="line-number">1186</span><br><span class="line-number">1187</span><br><span class="line-number">1188</span><br><span class="line-number">1189</span><br><span class="line-number">1190</span><br><span class="line-number">1191</span><br><span class="line-number">1192</span><br><span class="line-number">1193</span><br><span class="line-number">1194</span><br><span class="line-number">1195</span><br><span class="line-number">1196</span><br><span class="line-number">1197</span><br><span class="line-number">1198</span><br><span class="line-number">1199</span><br><span class="line-number">1200</span><br><span class="line-number">1201</span><br><span class="line-number">1202</span><br><span class="line-number">1203</span><br><span class="line-number">1204</span><br><span class="line-number">1205</span><br><span class="line-number">1206</span><br><span class="line-number">1207</span><br><span class="line-number">1208</span><br><span class="line-number">1209</span><br><span class="line-number">1210</span><br><span class="line-number">1211</span><br><span class="line-number">1212</span><br><span class="line-number">1213</span><br><span class="line-number">1214</span><br><span class="line-number">1215</span><br><span class="line-number">1216</span><br><span class="line-number">1217</span><br><span class="line-number">1218</span><br><span class="line-number">1219</span><br><span class="line-number">1220</span><br><span class="line-number">1221</span><br><span class="line-number">1222</span><br><span class="line-number">1223</span><br><span class="line-number">1224</span><br><span class="line-number">1225</span><br><span class="line-number">1226</span><br><span class="line-number">1227</span><br><span class="line-number">1228</span><br><span class="line-number">1229</span><br><span class="line-number">1230</span><br><span class="line-number">1231</span><br><span class="line-number">1232</span><br><span class="line-number">1233</span><br><span class="line-number">1234</span><br><span class="line-number">1235</span><br><span class="line-number">1236</span><br><span class="line-number">1237</span><br><span class="line-number">1238</span><br><span class="line-number">1239</span><br><span class="line-number">1240</span><br><span class="line-number">1241</span><br><span class="line-number">1242</span><br><span class="line-number">1243</span><br><span class="line-number">1244</span><br><span class="line-number">1245</span><br><span class="line-number">1246</span><br><span class="line-number">1247</span><br><span class="line-number">1248</span><br><span class="line-number">1249</span><br><span class="line-number">1250</span><br><span class="line-number">1251</span><br><span class="line-number">1252</span><br><span class="line-number">1253</span><br><span class="line-number">1254</span><br><span class="line-number">1255</span><br><span class="line-number">1256</span><br><span class="line-number">1257</span><br><span class="line-number">1258</span><br><span class="line-number">1259</span><br><span class="line-number">1260</span><br><span class="line-number">1261</span><br><span class="line-number">1262</span><br><span class="line-number">1263</span><br><span class="line-number">1264</span><br><span class="line-number">1265</span><br><span class="line-number">1266</span><br><span class="line-number">1267</span><br><span class="line-number">1268</span><br><span class="line-number">1269</span><br><span class="line-number">1270</span><br><span class="line-number">1271</span><br><span class="line-number">1272</span><br><span class="line-number">1273</span><br><span class="line-number">1274</span><br><span class="line-number">1275</span><br><span class="line-number">1276</span><br><span class="line-number">1277</span><br><span class="line-number">1278</span><br><span class="line-number">1279</span><br><span class="line-number">1280</span><br><span class="line-number">1281</span><br><span class="line-number">1282</span><br><span class="line-number">1283</span><br><span class="line-number">1284</span><br><span class="line-number">1285</span><br><span class="line-number">1286</span><br><span class="line-number">1287</span><br><span class="line-number">1288</span><br><span class="line-number">1289</span><br><span class="line-number">1290</span><br><span class="line-number">1291</span><br><span class="line-number">1292</span><br><span class="line-number">1293</span><br><span class="line-number">1294</span><br><span class="line-number">1295</span><br><span class="line-number">1296</span><br><span class="line-number">1297</span><br><span class="line-number">1298</span><br><span class="line-number">1299</span><br><span class="line-number">1300</span><br><span class="line-number">1301</span><br><span class="line-number">1302</span><br><span class="line-number">1303</span><br><span class="line-number">1304</span><br><span class="line-number">1305</span><br><span class="line-number">1306</span><br><span class="line-number">1307</span><br><span class="line-number">1308</span><br><span class="line-number">1309</span><br><span class="line-number">1310</span><br><span class="line-number">1311</span><br><span class="line-number">1312</span><br><span class="line-number">1313</span><br><span class="line-number">1314</span><br><span class="line-number">1315</span><br><span class="line-number">1316</span><br><span class="line-number">1317</span><br><span class="line-number">1318</span><br><span class="line-number">1319</span><br><span class="line-number">1320</span><br><span class="line-number">1321</span><br><span class="line-number">1322</span><br><span class="line-number">1323</span><br><span class="line-number">1324</span><br><span class="line-number">1325</span><br><span class="line-number">1326</span><br><span class="line-number">1327</span><br><span class="line-number">1328</span><br><span class="line-number">1329</span><br><span class="line-number">1330</span><br><span class="line-number">1331</span><br><span class="line-number">1332</span><br><span class="line-number">1333</span><br><span class="line-number">1334</span><br><span class="line-number">1335</span><br><span class="line-number">1336</span><br><span class="line-number">1337</span><br><span class="line-number">1338</span><br><span class="line-number">1339</span><br><span class="line-number">1340</span><br><span class="line-number">1341</span><br><span class="line-number">1342</span><br><span class="line-number">1343</span><br><span class="line-number">1344</span><br><span class="line-number">1345</span><br><span class="line-number">1346</span><br><span class="line-number">1347</span><br><span class="line-number">1348</span><br><span class="line-number">1349</span><br><span class="line-number">1350</span><br><span class="line-number">1351</span><br><span class="line-number">1352</span><br><span class="line-number">1353</span><br><span class="line-number">1354</span><br><span class="line-number">1355</span><br><span class="line-number">1356</span><br><span class="line-number">1357</span><br><span class="line-number">1358</span><br><span class="line-number">1359</span><br><span class="line-number">1360</span><br><span class="line-number">1361</span><br><span class="line-number">1362</span><br><span class="line-number">1363</span><br><span class="line-number">1364</span><br><span class="line-number">1365</span><br><span class="line-number">1366</span><br><span class="line-number">1367</span><br><span class="line-number">1368</span><br><span class="line-number">1369</span><br><span class="line-number">1370</span><br><span class="line-number">1371</span><br><span class="line-number">1372</span><br><span class="line-number">1373</span><br><span class="line-number">1374</span><br><span class="line-number">1375</span><br><span class="line-number">1376</span><br><span class="line-number">1377</span><br></div></div></details> <h3 id="ç¿»è¯‘"><a href="#ç¿»è¯‘" class="header-anchor">#</a> ç¿»è¯‘</h3> <details class="custom-block details"><summary>redis.conf</summary> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#redis.conf</span>
<span class="token comment"># Redis configuration file example.</span>
<span class="token comment"># ./redis-server /path/to/redis.conf</span>

<span class="token comment">################################## INCLUDES ###################################</span>
<span class="token comment">#è¿™åœ¨ä½ æœ‰æ ‡å‡†é…ç½®æ¨¡æ¿ä½†æ˜¯æ¯ä¸ªredisæœåŠ¡å™¨åˆéœ€è¦ä¸ªæ€§è®¾ç½®çš„æ—¶å€™å¾ˆæœ‰ç”¨ã€‚</span>
<span class="token comment"># include /path/to/local.conf</span>
<span class="token comment"># include /path/to/other.conf</span>

<span class="token comment">################################ GENERAL #####################################</span>

<span class="token comment">#æ˜¯å¦åœ¨åå°æ‰§è¡Œï¼Œyesï¼šåå°è¿è¡Œï¼›noï¼šä¸æ˜¯åå°è¿è¡Œï¼ˆè€ç‰ˆæœ¬é»˜è®¤ï¼‰</span>
daemonize <span class="token function">yes</span>

  <span class="token comment">#3.2é‡Œçš„å‚æ•°ï¼Œæ˜¯å¦å¼€å¯ä¿æŠ¤æ¨¡å¼ï¼Œé»˜è®¤å¼€å¯ã€‚è¦æ˜¯é…ç½®é‡Œæ²¡æœ‰æŒ‡å®šbindå’Œå¯†ç ã€‚å¼€å¯è¯¥å‚æ•°åï¼Œredisåªä¼šæœ¬åœ°è¿›è¡Œè®¿é—®ï¼Œæ‹’ç»å¤–éƒ¨è®¿é—®ã€‚è¦æ˜¯å¼€å¯äº†å¯†ç å’Œbindï¼Œå¯ä»¥å¼€å¯ã€‚å¦   åˆ™æœ€å¥½å…³é—­ï¼Œè®¾ç½®ä¸ºnoã€‚</span>
  protected-mode <span class="token function">yes</span>
<span class="token comment">#redisçš„è¿›ç¨‹æ–‡ä»¶</span>
pidfile /var/run/redis/redis-server.pid

<span class="token comment">#redisç›‘å¬çš„ç«¯å£å·ã€‚</span>
port <span class="token number">6379</span>

<span class="token comment">#æ­¤å‚æ•°ç¡®å®šäº†TCPè¿æ¥ä¸­å·²å®Œæˆé˜Ÿåˆ—(å®Œæˆä¸‰æ¬¡æ¡æ‰‹ä¹‹å)çš„é•¿åº¦ï¼Œ å½“ç„¶æ­¤å€¼å¿…é¡»ä¸å¤§äºLinuxç³»ç»Ÿå®šä¹‰çš„/proc/sys/net/core/somaxconnå€¼ï¼Œé»˜è®¤æ˜¯511ï¼Œè€ŒLinuxçš„é»˜è®¤å‚æ•°å€¼æ˜¯128ã€‚å½“ç³»ç»Ÿå¹¶å‘é‡å¤§å¹¶ä¸”å®¢æˆ·ç«¯é€Ÿåº¦ç¼“æ…¢çš„æ—¶å€™ï¼Œå¯ä»¥å°†è¿™äºŒä¸ªå‚æ•°ä¸€èµ·å‚è€ƒè®¾å®šã€‚è¯¥å†…æ ¸å‚æ•°é»˜è®¤å€¼ä¸€èˆ¬æ˜¯128ï¼Œå¯¹äºè´Ÿè½½å¾ˆå¤§çš„æœåŠ¡ç¨‹åºæ¥è¯´å¤§å¤§çš„ä¸å¤Ÿã€‚ä¸€èˆ¬ä¼šå°†å®ƒä¿®æ”¹ä¸º2048æˆ–è€…æ›´å¤§ã€‚åœ¨/etc/sysctl.confä¸­æ·»åŠ :net.core.somaxconn = 2048ï¼Œç„¶ååœ¨ç»ˆç«¯ä¸­æ‰§è¡Œsysctl -pã€‚</span>
tcp-backlog <span class="token number">511</span>

<span class="token comment">#æŒ‡å®š redis åªæ¥æ”¶æ¥è‡ªäºè¯¥ IP åœ°å€çš„è¯·æ±‚ï¼Œå¦‚æœä¸è¿›è¡Œè®¾ç½®ï¼Œé‚£ä¹ˆå°†å¤„ç†æ‰€æœ‰è¯·æ±‚</span>
<span class="token builtin class-name">bind</span> <span class="token number">127.0</span>.0.1

<span class="token comment">#é…ç½®unix socketæ¥è®©redisæ”¯æŒç›‘å¬æœ¬åœ°è¿æ¥ã€‚</span>
<span class="token comment"># unixsocket /var/run/redis/redis.sock</span>
<span class="token comment">#é…ç½®unix socketä½¿ç”¨æ–‡ä»¶çš„æƒé™</span>
<span class="token comment"># unixsocketperm 700</span>

<span class="token comment"># æ­¤å‚æ•°ä¸ºè®¾ç½®å®¢æˆ·ç«¯ç©ºé—²è¶…è¿‡timeoutï¼ŒæœåŠ¡ç«¯ä¼šæ–­å¼€è¿æ¥ï¼Œä¸º0åˆ™æœåŠ¡ç«¯ä¸ä¼šä¸»åŠ¨æ–­å¼€è¿æ¥ï¼Œä¸èƒ½å°äº0ã€‚</span>
<span class="token function">timeout</span> <span class="token number">0</span>

<span class="token comment">#tcp keepaliveå‚æ•°ã€‚å¦‚æœè®¾ç½®ä¸ä¸º0ï¼Œå°±ä½¿ç”¨é…ç½®tcpçš„SO_KEEPALIVEå€¼ï¼Œä½¿ç”¨keepaliveæœ‰ä¸¤ä¸ªå¥½å¤„:æ£€æµ‹æŒ‚æ‰çš„å¯¹ç«¯ã€‚é™ä½ä¸­é—´è®¾å¤‡å‡ºé—®é¢˜è€Œå¯¼è‡´ç½‘ç»œçœ‹ä¼¼è¿æ¥å´å·²ç»ä¸å¯¹ç«¯ç«¯å£çš„é—®é¢˜ã€‚åœ¨Linuxå†…æ ¸ä¸­ï¼Œè®¾ç½®äº†keepaliveï¼Œredisä¼šå®šæ—¶ç»™å¯¹ç«¯å‘é€ackã€‚æ£€æµ‹åˆ°å¯¹ç«¯å…³é—­éœ€è¦ä¸¤å€çš„è®¾ç½®å€¼ã€‚</span>
tcp-keepalive <span class="token number">0</span>

<span class="token comment">#æŒ‡å®šäº†æœåŠ¡ç«¯æ—¥å¿—çš„çº§åˆ«ã€‚çº§åˆ«åŒ…æ‹¬ï¼šdebugï¼ˆå¾ˆå¤šä¿¡æ¯ï¼Œæ–¹ä¾¿å¼€å‘ã€æµ‹è¯•ï¼‰ï¼Œverboseï¼ˆè®¸å¤šæœ‰ç”¨çš„ä¿¡æ¯ï¼Œä½†æ˜¯æ²¡æœ‰debugçº§åˆ«ä¿¡æ¯å¤šï¼‰ï¼Œnoticeï¼ˆé€‚å½“çš„æ—¥å¿—çº§åˆ«ï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒï¼‰ï¼Œwarnï¼ˆåªæœ‰éå¸¸é‡è¦çš„ä¿¡æ¯ï¼‰</span>
loglevel notice

<span class="token comment">#æŒ‡å®šäº†è®°å½•æ—¥å¿—çš„æ–‡ä»¶ã€‚ç©ºå­—ç¬¦ä¸²çš„è¯ï¼Œæ—¥å¿—ä¼šæ‰“å°åˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ã€‚åå°è¿è¡Œçš„redisæ ‡å‡†è¾“å‡ºæ˜¯/dev/nullã€‚</span>
logfile /var/log/redis/redis-server.log

<span class="token comment">#æ˜¯å¦æ‰“å¼€è®°å½•syslogåŠŸèƒ½</span>
<span class="token comment"># syslog-enabled no</span>

<span class="token comment">#syslogçš„æ ‡è¯†ç¬¦ã€‚</span>
<span class="token comment"># syslog-ident redis</span>

<span class="token comment">#æ—¥å¿—çš„æ¥æºã€è®¾å¤‡</span>
<span class="token comment"># syslog-facility local0</span>

<span class="token comment">#æ•°æ®åº“çš„æ•°é‡ï¼Œé»˜è®¤ä½¿ç”¨çš„æ•°æ®åº“æ˜¯DB 0ã€‚å¯ä»¥é€šè¿‡â€SELECT â€œå‘½ä»¤é€‰æ‹©ä¸€ä¸ªdb</span>
databases <span class="token number">16</span>

<span class="token comment">################################ SNAPSHOTTING ################################</span>
<span class="token comment"># å¿«ç…§é…ç½®</span>
<span class="token comment"># æ³¨é‡Šæ‰â€œsaveâ€è¿™ä¸€è¡Œé…ç½®é¡¹å°±å¯ä»¥è®©ä¿å­˜æ•°æ®åº“åŠŸèƒ½å¤±æ•ˆ</span>
<span class="token comment"># è®¾ç½®sedisè¿›è¡Œæ•°æ®åº“é•œåƒçš„é¢‘ç‡ã€‚</span>
<span class="token comment"># 900ç§’ï¼ˆ15åˆ†é’Ÿï¼‰å†…è‡³å°‘1ä¸ªkeyå€¼æ”¹å˜ï¼ˆåˆ™è¿›è¡Œæ•°æ®åº“ä¿å­˜--æŒä¹…åŒ–ï¼‰ </span>
<span class="token comment"># 300ç§’ï¼ˆ5åˆ†é’Ÿï¼‰å†…è‡³å°‘10ä¸ªkeyå€¼æ”¹å˜ï¼ˆåˆ™è¿›è¡Œæ•°æ®åº“ä¿å­˜--æŒä¹…åŒ–ï¼‰ </span>
<span class="token comment"># 60ç§’ï¼ˆ1åˆ†é’Ÿï¼‰å†…è‡³å°‘10000ä¸ªkeyå€¼æ”¹å˜ï¼ˆåˆ™è¿›è¡Œæ•°æ®åº“ä¿å­˜--æŒä¹…åŒ–ï¼‰</span>
save <span class="token number">900</span> <span class="token number">1</span>
save <span class="token number">300</span> <span class="token number">10</span>
save <span class="token number">60</span> <span class="token number">10000</span>

<span class="token comment">#å½“RDBæŒä¹…åŒ–å‡ºç°é”™è¯¯åï¼Œæ˜¯å¦ä¾ç„¶è¿›è¡Œç»§ç»­è¿›è¡Œå·¥ä½œï¼Œyesï¼šä¸èƒ½è¿›è¡Œå·¥ä½œï¼Œnoï¼šå¯ä»¥ç»§ç»­è¿›è¡Œå·¥ä½œï¼Œå¯ä»¥é€šè¿‡infoä¸­çš„rdb_last_bgsave_statusäº†è§£RDBæŒä¹…åŒ–æ˜¯å¦æœ‰é”™è¯¯</span>
stop-writes-on-bgsave-error <span class="token function">yes</span>

<span class="token comment">#ä½¿ç”¨å‹ç¼©rdbæ–‡ä»¶ï¼Œrdbæ–‡ä»¶å‹ç¼©ä½¿ç”¨LZFå‹ç¼©ç®—æ³•ï¼Œyesï¼šå‹ç¼©ï¼Œä½†æ˜¯éœ€è¦ä¸€äº›cpuçš„æ¶ˆè€—ã€‚noï¼šä¸å‹ç¼©ï¼Œéœ€è¦æ›´å¤šçš„ç£ç›˜ç©ºé—´</span>
rdbcompression <span class="token function">yes</span>

<span class="token comment">#æ˜¯å¦æ ¡éªŒrdbæ–‡ä»¶ã€‚ä»rdbæ ¼å¼çš„ç¬¬äº”ä¸ªç‰ˆæœ¬å¼€å§‹ï¼Œåœ¨rdbæ–‡ä»¶çš„æœ«å°¾ä¼šå¸¦ä¸ŠCRC64çš„æ ¡éªŒå’Œã€‚è¿™è·Ÿæœ‰åˆ©äºæ–‡ä»¶çš„å®¹é”™æ€§ï¼Œä½†æ˜¯åœ¨ä¿å­˜rdbæ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šæœ‰å¤§æ¦‚10%çš„æ€§èƒ½æŸè€—ï¼Œæ‰€ä»¥å¦‚æœä½ è¿½æ±‚é«˜æ€§èƒ½ï¼Œå¯ä»¥å…³é—­è¯¥é…ç½®ã€‚</span>
rdbchecksum <span class="token function">yes</span>

<span class="token comment">#rdbæ–‡ä»¶çš„åç§°</span>
dbfilename dump.rdb

<span class="token comment">#æ•°æ®ç›®å½•ï¼Œæ•°æ®åº“çš„å†™å…¥ä¼šåœ¨è¿™ä¸ªç›®å½•ã€‚rdbã€aofæ–‡ä»¶ä¹Ÿä¼šå†™åœ¨è¿™ä¸ªç›®å½•</span>
<span class="token function">dir</span> /var/lib/redis

<span class="token comment">################################# REPLICATION #################################</span>
<span class="token comment">#å¤åˆ¶é€‰é¡¹ï¼Œslaveå¤åˆ¶å¯¹åº”çš„masterã€‚</span>
<span class="token comment"># slaveof &lt;masterip&gt; &lt;masterport&gt;</span>

<span class="token comment">#å¦‚æœmasterè®¾ç½®äº†requirepassï¼Œé‚£ä¹ˆslaveè¦è¿ä¸Šmasterï¼Œéœ€è¦æœ‰masterçš„å¯†ç æ‰è¡Œã€‚masterauthå°±æ˜¯ç”¨æ¥é…ç½®masterçš„å¯†ç ï¼Œè¿™æ ·å¯ä»¥åœ¨è¿ä¸Šmasteråè¿›è¡Œè®¤è¯ã€‚</span>
<span class="token comment"># masterauth &lt;master-password&gt;</span>

<span class="token comment">#å½“ä»åº“åŒä¸»æœºå¤±å»è¿æ¥æˆ–è€…å¤åˆ¶æ­£åœ¨è¿›è¡Œï¼Œä»æœºåº“æœ‰ä¸¤ç§è¿è¡Œæ–¹å¼ï¼š1) å¦‚æœslave-serve-stale-dataè®¾ç½®ä¸ºyes(é»˜è®¤è®¾ç½®)ï¼Œä»åº“ä¼šç»§ç»­å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚2) å¦‚æœslave-serve-stale-dataè®¾ç½®ä¸ºnoï¼Œé™¤å»INFOå’ŒSLAVOFå‘½ä»¤ä¹‹å¤–çš„ä»»ä½•è¯·æ±‚éƒ½ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯â€SYNC with master in progressâ€ã€‚</span>
slave-serve-stale-data <span class="token function">yes</span>

<span class="token comment">#ä½œä¸ºä»æœåŠ¡å™¨ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯åªè¯»çš„ï¼ˆyesï¼‰ï¼Œå¯ä»¥ä¿®æ”¹æˆNOï¼Œç”¨äºå†™ï¼ˆä¸å»ºè®®ï¼‰ã€‚</span>
slave-read-only <span class="token function">yes</span>

<span class="token comment">#æ˜¯å¦ä½¿ç”¨socketæ–¹å¼å¤åˆ¶æ•°æ®ã€‚ç›®å‰rediså¤åˆ¶æä¾›ä¸¤ç§æ–¹å¼ï¼Œdiskå’Œsocketã€‚å¦‚æœæ–°çš„slaveè¿ä¸Šæ¥æˆ–è€…é‡è¿çš„slaveæ— æ³•éƒ¨åˆ†åŒæ­¥ï¼Œå°±ä¼šæ‰§è¡Œå…¨é‡åŒæ­¥ï¼Œmasterä¼šç”Ÿæˆrdbæ–‡ä»¶ã€‚æœ‰2ç§æ–¹å¼ï¼šdiskæ–¹å¼æ˜¯masteråˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹æŠŠrdbæ–‡ä»¶ä¿å­˜åˆ°ç£ç›˜ï¼Œå†æŠŠç£ç›˜ä¸Šçš„rdbæ–‡ä»¶ä¼ é€’ç»™slaveã€‚socketæ˜¯masteråˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œç›´æ¥æŠŠrdbæ–‡ä»¶ä»¥socketçš„æ–¹å¼å‘ç»™slaveã€‚diskæ–¹å¼çš„æ—¶å€™ï¼Œå½“ä¸€ä¸ªrdbä¿å­˜çš„è¿‡ç¨‹ä¸­ï¼Œå¤šä¸ªslaveéƒ½èƒ½å…±äº«è¿™ä¸ªrdbæ–‡ä»¶ã€‚socketçš„æ–¹å¼å°±çš„ä¸€ä¸ªä¸ªslaveé¡ºåºå¤åˆ¶ã€‚åœ¨ç£ç›˜é€Ÿåº¦ç¼“æ…¢ï¼Œç½‘é€Ÿå¿«çš„æƒ…å†µä¸‹æ¨èç”¨socketæ–¹å¼ã€‚</span>
repl-diskless-sync no

<span class="token comment">#disklesså¤åˆ¶çš„å»¶è¿Ÿæ—¶é—´ï¼Œé˜²æ­¢è®¾ç½®ä¸º0ã€‚ä¸€æ—¦å¤åˆ¶å¼€å§‹ï¼ŒèŠ‚ç‚¹ä¸ä¼šå†æ¥æ”¶æ–°slaveçš„å¤åˆ¶è¯·æ±‚ç›´åˆ°ä¸‹ä¸€ä¸ªrdbä¼ è¾“ã€‚æ‰€ä»¥æœ€å¥½ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œç­‰æ›´å¤šçš„slaveè¿ä¸Šæ¥ã€‚</span>
repl-diskless-sync-delay <span class="token number">5</span>

<span class="token comment">#slaveæ ¹æ®æŒ‡å®šçš„æ—¶é—´é—´éš”å‘æœåŠ¡å™¨å‘é€pingè¯·æ±‚ã€‚æ—¶é—´é—´éš”å¯ä»¥é€šè¿‡ repl_ping_slave_period æ¥è®¾ç½®ï¼Œé»˜è®¤10ç§’ã€‚</span>
<span class="token comment"># repl-ping-slave-period 10</span>

<span class="token comment">#å¤åˆ¶è¿æ¥è¶…æ—¶æ—¶é—´ã€‚masterå’Œslaveéƒ½æœ‰è¶…æ—¶æ—¶é—´çš„è®¾ç½®ã€‚masteræ£€æµ‹åˆ°slaveä¸Šæ¬¡å‘é€çš„æ—¶é—´è¶…è¿‡repl-timeoutï¼Œå³è®¤ä¸ºslaveç¦»çº¿ï¼Œæ¸…é™¤è¯¥slaveä¿¡æ¯ã€‚slaveæ£€æµ‹åˆ°ä¸Šæ¬¡å’Œmasteräº¤äº’çš„æ—¶é—´è¶…è¿‡repl-timeoutï¼Œåˆ™è®¤ä¸ºmasterç¦»çº¿ã€‚éœ€è¦æ³¨æ„çš„æ˜¯repl-timeoutéœ€è¦è®¾ç½®ä¸€ä¸ªæ¯”repl-ping-slave-periodæ›´å¤§çš„å€¼ï¼Œä¸ç„¶ä¼šç»å¸¸æ£€æµ‹åˆ°è¶…æ—¶ã€‚</span>
<span class="token comment"># repl-timeout 60</span>

<span class="token comment">#æ˜¯å¦ç¦æ­¢å¤åˆ¶tcpé“¾æ¥çš„tcp nodelayå‚æ•°ï¼Œå¯ä¼ é€’yesæˆ–è€…noã€‚é»˜è®¤æ˜¯noï¼Œå³ä½¿ç”¨tcp nodelayã€‚å¦‚æœmasterè®¾ç½®äº†yesæ¥ç¦æ­¢tcp nodelayè®¾ç½®ï¼Œåœ¨æŠŠæ•°æ®å¤åˆ¶ç»™slaveçš„æ—¶å€™ï¼Œä¼šå‡å°‘åŒ…çš„æ•°é‡å’Œæ›´å°çš„ç½‘ç»œå¸¦å®½ã€‚ä½†æ˜¯è¿™ä¹Ÿå¯èƒ½å¸¦æ¥æ•°æ®çš„å»¶è¿Ÿã€‚é»˜è®¤æˆ‘ä»¬æ¨èæ›´å°çš„å»¶è¿Ÿï¼Œä½†æ˜¯åœ¨æ•°æ®é‡ä¼ è¾“å¾ˆå¤§çš„åœºæ™¯ä¸‹ï¼Œå»ºè®®é€‰æ‹©yesã€‚</span>
repl-disable-tcp-nodelay no

<span class="token comment">#å¤åˆ¶ç¼“å†²åŒºå¤§å°ï¼Œè¿™æ˜¯ä¸€ä¸ªç¯å½¢å¤åˆ¶ç¼“å†²åŒºï¼Œç”¨æ¥ä¿å­˜æœ€æ–°å¤åˆ¶çš„å‘½ä»¤ã€‚è¿™æ ·åœ¨slaveç¦»çº¿çš„æ—¶å€™ï¼Œä¸éœ€è¦å®Œå…¨å¤åˆ¶masterçš„æ•°æ®ï¼Œå¦‚æœå¯ä»¥æ‰§è¡Œéƒ¨åˆ†åŒæ­¥ï¼Œåªéœ€è¦æŠŠç¼“å†²åŒºçš„éƒ¨åˆ†æ•°æ®å¤åˆ¶ç»™slaveï¼Œå°±èƒ½æ¢å¤æ­£å¸¸å¤åˆ¶çŠ¶æ€ã€‚ç¼“å†²åŒºçš„å¤§å°è¶Šå¤§ï¼Œslaveç¦»çº¿çš„æ—¶é—´å¯ä»¥æ›´é•¿ï¼Œå¤åˆ¶ç¼“å†²åŒºåªæœ‰åœ¨æœ‰slaveè¿æ¥çš„æ—¶å€™æ‰åˆ†é…å†…å­˜ã€‚æ²¡æœ‰slaveçš„ä¸€æ®µæ—¶é—´ï¼Œå†…å­˜ä¼šè¢«é‡Šæ”¾å‡ºæ¥ï¼Œé»˜è®¤1mã€‚</span>
<span class="token comment"># repl-backlog-size 5mb</span>

<span class="token comment">#masteræ²¡æœ‰slaveä¸€æ®µæ—¶é—´ä¼šé‡Šæ”¾å¤åˆ¶ç¼“å†²åŒºçš„å†…å­˜ï¼Œrepl-backlog-ttlç”¨æ¥è®¾ç½®è¯¥æ—¶é—´é•¿åº¦ã€‚å•ä½ä¸ºç§’ã€‚</span>
<span class="token comment"># repl-backlog-ttl 3600</span>

<span class="token comment">#å½“masterä¸å¯ç”¨ï¼ŒSentinelä¼šæ ¹æ®slaveçš„ä¼˜å…ˆçº§é€‰ä¸¾ä¸€ä¸ªmasterã€‚æœ€ä½çš„ä¼˜å…ˆçº§çš„slaveï¼Œå½“é€‰masterã€‚è€Œé…ç½®æˆ0ï¼Œæ°¸è¿œä¸ä¼šè¢«é€‰ä¸¾ã€‚</span>
slave-priority <span class="token number">100</span>

<span class="token comment">#redisæä¾›äº†å¯ä»¥è®©masteråœæ­¢å†™å…¥çš„æ–¹å¼ï¼Œå¦‚æœé…ç½®äº†min-slaves-to-writeï¼Œå¥åº·çš„slaveçš„ä¸ªæ•°å°äºNï¼Œmaterå°±ç¦æ­¢å†™å…¥ã€‚masteræœ€å°‘å¾—æœ‰å¤šå°‘ä¸ªå¥åº·çš„slaveå­˜æ´»æ‰èƒ½æ‰§è¡Œå†™å‘½ä»¤ã€‚è¿™ä¸ªé…ç½®è™½ç„¶ä¸èƒ½ä¿è¯Nä¸ªslaveéƒ½ä¸€å®šèƒ½æ¥æ”¶åˆ°masterçš„å†™æ“ä½œï¼Œä½†æ˜¯èƒ½é¿å…æ²¡æœ‰è¶³å¤Ÿå¥åº·çš„slaveçš„æ—¶å€™ï¼Œmasterä¸èƒ½å†™å…¥æ¥é¿å…æ•°æ®ä¸¢å¤±ã€‚è®¾ç½®ä¸º0æ˜¯å…³é—­è¯¥åŠŸèƒ½ã€‚</span>
<span class="token comment"># min-slaves-to-write 3</span>

<span class="token comment">#å»¶è¿Ÿå°äºmin-slaves-max-lagç§’çš„slaveæ‰è®¤ä¸ºæ˜¯å¥åº·çš„slaveã€‚</span>
<span class="token comment"># min-slaves-max-lag 10</span>

<span class="token comment"># è®¾ç½®1æˆ–å¦ä¸€ä¸ªè®¾ç½®ä¸º0ç¦ç”¨è¿™ä¸ªç‰¹æ€§ã€‚</span>
<span class="token comment"># Setting one or the other to 0 disables the feature.</span>
<span class="token comment"># By default min-slaves-to-write is set to 0 (feature disabled) and</span>
<span class="token comment"># min-slaves-max-lag is set to 10.</span>

<span class="token comment">################################## SECURITY ###################################</span>
<span class="token comment">#requirepassé…ç½®å¯ä»¥è®©ç”¨æˆ·ä½¿ç”¨AUTHå‘½ä»¤æ¥è®¤è¯å¯†ç ï¼Œæ‰èƒ½ä½¿ç”¨å…¶ä»–å‘½ä»¤ã€‚è¿™è®©rediså¯ä»¥ä½¿ç”¨åœ¨ä¸å—ä¿¡ä»»çš„ç½‘ç»œä¸­ã€‚ä¸ºäº†ä¿æŒå‘åçš„å…¼å®¹æ€§ï¼Œå¯ä»¥æ³¨é‡Šè¯¥å‘½ä»¤ï¼Œå› ä¸ºå¤§éƒ¨åˆ†ç”¨æˆ·ä¹Ÿä¸éœ€è¦è®¤è¯ã€‚ä½¿ç”¨requirepassçš„æ—¶å€™éœ€è¦æ³¨æ„ï¼Œå› ä¸ºrediså¤ªå¿«äº†ï¼Œæ¯ç§’å¯ä»¥è®¤è¯15wæ¬¡å¯†ç ï¼Œç®€å•çš„å¯†ç å¾ˆå®¹æ˜“è¢«æ”»ç ´ï¼Œæ‰€ä»¥æœ€å¥½ä½¿ç”¨ä¸€ä¸ªæ›´å¤æ‚çš„å¯†ç ã€‚</span>
<span class="token comment"># requirepass foobared</span>

<span class="token comment">#æŠŠå±é™©çš„å‘½ä»¤ç»™ä¿®æ”¹æˆå…¶ä»–åç§°ã€‚æ¯”å¦‚CONFIGå‘½ä»¤å¯ä»¥é‡å‘½åä¸ºä¸€ä¸ªå¾ˆéš¾è¢«çŒœåˆ°çš„å‘½ä»¤ï¼Œè¿™æ ·ç”¨æˆ·ä¸èƒ½ä½¿ç”¨ï¼Œè€Œå†…éƒ¨å·¥å…·è¿˜èƒ½æ¥ç€ä½¿ç”¨ã€‚</span>
<span class="token comment"># rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52</span>

<span class="token comment">#è®¾ç½®æˆä¸€ä¸ªç©ºçš„å€¼ï¼Œå¯ä»¥ç¦æ­¢ä¸€ä¸ªå‘½ä»¤</span>
<span class="token comment"># rename-command CONFIG &quot;&quot;</span>
<span class="token comment">################################### LIMITS ####################################</span>

<span class="token comment"># è®¾ç½®èƒ½è¿ä¸Šredisçš„æœ€å¤§å®¢æˆ·ç«¯è¿æ¥æ•°é‡ã€‚é»˜è®¤æ˜¯10000ä¸ªå®¢æˆ·ç«¯è¿æ¥ã€‚ç”±äºredisä¸åŒºåˆ†è¿æ¥æ˜¯å®¢æˆ·ç«¯è¿æ¥è¿˜æ˜¯å†…éƒ¨æ‰“å¼€æ–‡ä»¶æˆ–è€…å’Œslaveè¿æ¥ç­‰ï¼Œæ‰€ä»¥maxclientsæœ€å°å»ºè®®è®¾ç½®åˆ°32ã€‚å¦‚æœè¶…è¿‡äº†maxclientsï¼Œredisä¼šç»™æ–°çš„è¿æ¥å‘é€â€™max number of clients reachedâ€™ï¼Œå¹¶å…³é—­è¿æ¥ã€‚</span>
<span class="token comment"># maxclients 10000</span>

<span class="token comment">#redisé…ç½®çš„æœ€å¤§å†…å­˜å®¹é‡ã€‚å½“å†…å­˜æ»¡äº†ï¼Œéœ€è¦é…åˆmaxmemory-policyç­–ç•¥è¿›è¡Œå¤„ç†ã€‚æ³¨æ„slaveçš„è¾“å‡ºç¼“å†²åŒºæ˜¯ä¸è®¡ç®—åœ¨maxmemoryå†…çš„ã€‚æ‰€ä»¥ä¸ºäº†é˜²æ­¢ä¸»æœºå†…å­˜ä½¿ç”¨å®Œï¼Œå»ºè®®è®¾ç½®çš„maxmemoryéœ€è¦æ›´å°ä¸€äº›ã€‚</span>
<span class="token comment"># maxmemory &lt;bytes&gt;</span>

<span class="token comment">#å†…å­˜å®¹é‡è¶…è¿‡maxmemoryåçš„å¤„ç†ç­–ç•¥ã€‚</span>
<span class="token comment">#volatile-lruï¼šåˆ©ç”¨LRUç®—æ³•ç§»é™¤è®¾ç½®è¿‡è¿‡æœŸæ—¶é—´çš„keyã€‚</span>
<span class="token comment">#volatile-randomï¼šéšæœºç§»é™¤è®¾ç½®è¿‡è¿‡æœŸæ—¶é—´çš„keyã€‚</span>
<span class="token comment">#volatile-ttlï¼šç§»é™¤å³å°†è¿‡æœŸçš„keyï¼Œæ ¹æ®æœ€è¿‘è¿‡æœŸæ—¶é—´æ¥åˆ é™¤ï¼ˆè¾…ä»¥TTLï¼‰</span>
<span class="token comment">#allkeys-lruï¼šåˆ©ç”¨LRUç®—æ³•ç§»é™¤ä»»ä½•keyã€‚</span>
<span class="token comment">#allkeys-randomï¼šéšæœºç§»é™¤ä»»ä½•keyã€‚</span>
<span class="token comment">#noevictionï¼šä¸ç§»é™¤ä»»ä½•keyï¼Œåªæ˜¯è¿”å›ä¸€ä¸ªå†™é”™è¯¯ã€‚</span>
<span class="token comment">#ä¸Šé¢çš„è¿™äº›é©±é€ç­–ç•¥ï¼Œå¦‚æœredisæ²¡æœ‰åˆé€‚çš„keyé©±é€ï¼Œå¯¹äºå†™å‘½ä»¤ï¼Œè¿˜æ˜¯ä¼šè¿”å›é”™è¯¯ã€‚rediså°†ä¸å†æ¥æ”¶å†™è¯·æ±‚ï¼Œåªæ¥æ”¶getè¯·æ±‚ã€‚å†™å‘½ä»¤åŒ…æ‹¬ï¼šset setnx setex append incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby getset mset msetnx exec sortã€‚</span>
<span class="token comment"># maxmemory-policy noeviction</span>

<span class="token comment">#lruæ£€æµ‹çš„æ ·æœ¬æ•°ã€‚ä½¿ç”¨lruæˆ–è€…ttlæ·˜æ±°ç®—æ³•ï¼Œä»éœ€è¦æ·˜æ±°çš„åˆ—è¡¨ä¸­éšæœºé€‰æ‹©sampleä¸ªkeyï¼Œé€‰å‡ºé—²ç½®æ—¶é—´æœ€é•¿çš„keyç§»é™¤ã€‚</span>
<span class="token comment"># maxmemory-samples 5</span>

<span class="token comment">############################## APPEND ONLY MODE ###############################</span>
<span class="token comment">#é»˜è®¤redisä½¿ç”¨çš„æ˜¯rdbæ–¹å¼æŒä¹…åŒ–ï¼Œè¿™ç§æ–¹å¼åœ¨è®¸å¤šåº”ç”¨ä¸­å·²ç»è¶³å¤Ÿç”¨äº†ã€‚ä½†æ˜¯rediså¦‚æœä¸­é€”å®•æœºï¼Œä¼šå¯¼è‡´å¯èƒ½æœ‰å‡ åˆ†é’Ÿçš„æ•°æ®ä¸¢å¤±ï¼Œæ ¹æ®saveæ¥ç­–ç•¥è¿›è¡ŒæŒä¹…åŒ–ï¼ŒAppend Only Fileæ˜¯å¦ä¸€ç§æŒä¹…åŒ–æ–¹å¼ï¼Œå¯ä»¥æä¾›æ›´å¥½çš„æŒä¹…åŒ–ç‰¹æ€§ã€‚Redisä¼šæŠŠæ¯æ¬¡å†™å…¥çš„æ•°æ®åœ¨æ¥æ”¶åéƒ½å†™å…¥ appendonly.aof æ–‡ä»¶ï¼Œæ¯æ¬¡å¯åŠ¨æ—¶Rediséƒ½ä¼šå…ˆæŠŠè¿™ä¸ªæ–‡ä»¶çš„æ•°æ®è¯»å…¥å†…å­˜é‡Œï¼Œå…ˆå¿½ç•¥RDBæ–‡ä»¶ã€‚</span>
appendonly no

<span class="token comment">#aofæ–‡ä»¶å</span>
appendfilename <span class="token string">&quot;appendonly.aof&quot;</span>

<span class="token comment">#aofæŒä¹…åŒ–ç­–ç•¥çš„é…ç½®</span>
<span class="token comment">#noè¡¨ç¤ºä¸æ‰§è¡Œfsyncï¼Œç”±æ“ä½œç³»ç»Ÿä¿è¯æ•°æ®åŒæ­¥åˆ°ç£ç›˜ï¼Œé€Ÿåº¦æœ€å¿«ã€‚</span>
<span class="token comment">#alwaysè¡¨ç¤ºæ¯æ¬¡å†™å…¥éƒ½æ‰§è¡Œfsyncï¼Œä»¥ä¿è¯æ•°æ®åŒæ­¥åˆ°ç£ç›˜ã€‚</span>
<span class="token comment">#everysecè¡¨ç¤ºæ¯ç§’æ‰§è¡Œä¸€æ¬¡fsyncï¼Œå¯èƒ½ä¼šå¯¼è‡´ä¸¢å¤±è¿™1sæ•°æ®ã€‚</span>
appendfsync everysec

<span class="token comment"># åœ¨aofé‡å†™æˆ–è€…å†™å…¥rdbæ–‡ä»¶çš„æ—¶å€™ï¼Œä¼šæ‰§è¡Œå¤§é‡IOï¼Œæ­¤æ—¶å¯¹äºeverysecå’Œalwaysçš„aofæ¨¡å¼æ¥è¯´ï¼Œæ‰§è¡Œfsyncä¼šé€ æˆé˜»å¡è¿‡é•¿æ—¶é—´ï¼Œno-appendfsync-on-rewriteå­—æ®µè®¾ç½®ä¸ºé»˜è®¤è®¾ç½®ä¸ºnoã€‚å¦‚æœå¯¹å»¶è¿Ÿè¦æ±‚å¾ˆé«˜çš„åº”ç”¨ï¼Œè¿™ä¸ªå­—æ®µå¯ä»¥è®¾ç½®ä¸ºyesï¼Œå¦åˆ™è¿˜æ˜¯è®¾ç½®ä¸ºnoï¼Œè¿™æ ·å¯¹æŒä¹…åŒ–ç‰¹æ€§æ¥è¯´è¿™æ˜¯æ›´å®‰å…¨çš„é€‰æ‹©ã€‚è®¾ç½®ä¸ºyesè¡¨ç¤ºrewriteæœŸé—´å¯¹æ–°å†™æ“ä½œä¸fsync,æš‚æ—¶å­˜åœ¨å†…å­˜ä¸­,ç­‰rewriteå®Œæˆåå†å†™å…¥ï¼Œé»˜è®¤ä¸ºnoï¼Œå»ºè®®yesã€‚Linuxçš„é»˜è®¤fsyncç­–ç•¥æ˜¯30ç§’ã€‚å¯èƒ½ä¸¢å¤±30ç§’æ•°æ®ã€‚</span>
no-appendfsync-on-rewrite no

<span class="token comment">#aofè‡ªåŠ¨é‡å†™é…ç½®ã€‚å½“ç›®å‰aofæ–‡ä»¶å¤§å°è¶…è¿‡ä¸Šä¸€æ¬¡é‡å†™çš„aofæ–‡ä»¶å¤§å°çš„ç™¾åˆ†ä¹‹å¤šå°‘è¿›è¡Œé‡å†™ï¼Œå³å½“aofæ–‡ä»¶å¢é•¿åˆ°ä¸€å®šå¤§å°çš„æ—¶å€™Redisèƒ½å¤Ÿè°ƒç”¨bgrewriteaofå¯¹æ—¥å¿—æ–‡ä»¶è¿›è¡Œé‡å†™ã€‚å½“å‰AOFæ–‡ä»¶å¤§å°æ˜¯ä¸Šæ¬¡æ—¥å¿—é‡å†™å¾—åˆ°AOFæ–‡ä»¶å¤§å°çš„äºŒå€ï¼ˆè®¾ç½®ä¸º100ï¼‰æ—¶ï¼Œè‡ªåŠ¨å¯åŠ¨æ–°çš„æ—¥å¿—é‡å†™è¿‡ç¨‹ã€‚</span>
auto-aof-rewrite-percentage <span class="token number">100</span>
<span class="token comment">#è®¾ç½®å…è®¸é‡å†™çš„æœ€å°aofæ–‡ä»¶å¤§å°ï¼Œé¿å…äº†è¾¾åˆ°çº¦å®šç™¾åˆ†æ¯”ä½†å°ºå¯¸ä»ç„¶å¾ˆå°çš„æƒ…å†µè¿˜è¦é‡å†™</span>
auto-aof-rewrite-min-size 64mb

<span class="token comment">#aofæ–‡ä»¶å¯èƒ½åœ¨å°¾éƒ¨æ˜¯ä¸å®Œæ•´çš„ï¼Œå½“rediså¯åŠ¨çš„æ—¶å€™ï¼Œaofæ–‡ä»¶çš„æ•°æ®è¢«è½½å…¥å†…å­˜ã€‚é‡å¯å¯èƒ½å‘ç”Ÿåœ¨redisæ‰€åœ¨çš„ä¸»æœºæ“ä½œç³»ç»Ÿå®•æœºåï¼Œå°¤å…¶åœ¨ext4æ–‡ä»¶ç³»ç»Ÿæ²¡æœ‰åŠ ä¸Šdata=orderedé€‰é¡¹ï¼ˆrediså®•æœºæˆ–è€…å¼‚å¸¸ç»ˆæ­¢ä¸ä¼šé€ æˆå°¾éƒ¨ä¸å®Œæ•´ç°è±¡ã€‚ï¼‰å‡ºç°è¿™ç§ç°è±¡ï¼Œå¯ä»¥é€‰æ‹©è®©redisé€€å‡ºï¼Œæˆ–è€…å¯¼å…¥å°½å¯èƒ½å¤šçš„æ•°æ®ã€‚å¦‚æœé€‰æ‹©çš„æ˜¯yesï¼Œå½“æˆªæ–­çš„aofæ–‡ä»¶è¢«å¯¼å…¥çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨å‘å¸ƒä¸€ä¸ªlogç»™å®¢æˆ·ç«¯ç„¶åloadã€‚å¦‚æœæ˜¯noï¼Œç”¨æˆ·å¿…é¡»æ‰‹åŠ¨redis-check-aofä¿®å¤AOFæ–‡ä»¶æ‰å¯ä»¥ã€‚</span>
aof-load-truncated <span class="token function">yes</span>

<span class="token comment">################################ LUA SCRIPTING ###############################</span>
<span class="token comment"># å¦‚æœè¾¾åˆ°æœ€å¤§æ—¶é—´é™åˆ¶ï¼ˆæ¯«ç§’ï¼‰ï¼Œredisä¼šè®°ä¸ªlogï¼Œç„¶åè¿”å›errorã€‚å½“ä¸€ä¸ªè„šæœ¬è¶…è¿‡äº†æœ€å¤§æ—¶é™ã€‚åªæœ‰SCRIPT KILLå’ŒSHUTDOWN NOSAVEå¯ä»¥ç”¨ã€‚ç¬¬ä¸€ä¸ªå¯ä»¥æ€æ²¡æœ‰è°ƒwriteå‘½ä»¤çš„ä¸œè¥¿ã€‚è¦æ˜¯å·²ç»è°ƒç”¨äº†writeï¼Œåªèƒ½ç”¨ç¬¬äºŒä¸ªå‘½ä»¤æ€ã€‚</span>
lua-time-limit <span class="token number">5000</span>

<span class="token comment">################################ REDIS CLUSTER ###############################</span>
<span class="token comment">#é›†ç¾¤å¼€å…³ï¼Œé»˜è®¤æ˜¯ä¸å¼€å¯é›†ç¾¤æ¨¡å¼ã€‚</span>
<span class="token comment"># cluster-enabled yes</span>

<span class="token comment">#é›†ç¾¤é…ç½®æ–‡ä»¶çš„åç§°ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªé›†ç¾¤ç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼ŒæŒä¹…åŒ–ä¿å­˜é›†ç¾¤çš„ä¿¡æ¯ã€‚è¿™ä¸ªæ–‡ä»¶å¹¶ä¸éœ€è¦æ‰‹åŠ¨é…ç½®ï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶æœ‰Redisç”Ÿæˆå¹¶æ›´æ–°ï¼Œæ¯ä¸ªRedisé›†ç¾¤èŠ‚ç‚¹éœ€è¦ä¸€ä¸ªå•ç‹¬çš„é…ç½®æ–‡ä»¶ï¼Œè¯·ç¡®ä¿ä¸å®ä¾‹è¿è¡Œçš„ç³»ç»Ÿä¸­é…ç½®æ–‡ä»¶åç§°ä¸å†²çª</span>
<span class="token comment"># cluster-config-file nodes-6379.conf</span>

<span class="token comment">#èŠ‚ç‚¹äº’è¿è¶…æ—¶çš„é˜€å€¼ã€‚é›†ç¾¤èŠ‚ç‚¹è¶…æ—¶æ¯«ç§’æ•°</span>
<span class="token comment"># cluster-node-timeout 15000</span>

<span class="token comment">#åœ¨è¿›è¡Œæ•…éšœè½¬ç§»çš„æ—¶å€™ï¼Œå…¨éƒ¨slaveéƒ½ä¼šè¯·æ±‚ç”³è¯·ä¸ºmasterï¼Œä½†æ˜¯æœ‰äº›slaveå¯èƒ½ä¸masteræ–­å¼€è¿æ¥ä¸€æ®µæ—¶é—´äº†ï¼Œå¯¼è‡´æ•°æ®è¿‡äºé™ˆæ—§ï¼Œè¿™æ ·çš„slaveä¸åº”è¯¥è¢«æå‡ä¸ºmasterã€‚è¯¥å‚æ•°å°±æ˜¯ç”¨æ¥åˆ¤æ–­slaveèŠ‚ç‚¹ä¸masteræ–­çº¿çš„æ—¶é—´æ˜¯å¦è¿‡é•¿ã€‚åˆ¤æ–­æ–¹æ³•æ˜¯ï¼š</span>
<span class="token comment">#æ¯”è¾ƒslaveæ–­å¼€è¿æ¥çš„æ—¶é—´å’Œ(node-timeout * slave-validity-factor) + repl-ping-slave-period</span>
<span class="token comment">#å¦‚æœèŠ‚ç‚¹è¶…æ—¶æ—¶é—´ä¸ºä¸‰åç§’, å¹¶ä¸”slave-validity-factorä¸º10,å‡è®¾é»˜è®¤çš„repl-ping-slave-periodæ˜¯10ç§’ï¼Œå³å¦‚æœè¶…è¿‡310ç§’slaveå°†ä¸ä¼šå°è¯•è¿›è¡Œæ•…éšœè½¬ç§» </span>
<span class="token comment"># cluster-slave-validity-factor 10</span>

<span class="token comment">#masterçš„slaveæ•°é‡å¤§äºè¯¥å€¼ï¼Œslaveæ‰èƒ½è¿ç§»åˆ°å…¶ä»–å­¤ç«‹masterä¸Šï¼Œå¦‚è¿™ä¸ªå‚æ•°è‹¥è¢«è®¾ä¸º2ï¼Œé‚£ä¹ˆåªæœ‰å½“ä¸€ä¸ªä¸»èŠ‚ç‚¹æ‹¥æœ‰2 ä¸ªå¯å·¥ä½œçš„ä»èŠ‚ç‚¹æ—¶ï¼Œå®ƒçš„ä¸€ä¸ªä»èŠ‚ç‚¹ä¼šå°è¯•è¿ç§»ã€‚</span>
<span class="token comment"># cluster-migration-barrier 1</span>

<span class="token comment">#é»˜è®¤æƒ…å†µä¸‹ï¼Œé›†ç¾¤å…¨éƒ¨çš„slotæœ‰èŠ‚ç‚¹è´Ÿè´£ï¼Œé›†ç¾¤çŠ¶æ€æ‰ä¸ºokï¼Œæ‰èƒ½æä¾›æœåŠ¡ã€‚è®¾ç½®ä¸ºnoï¼Œå¯ä»¥åœ¨slotæ²¡æœ‰å…¨éƒ¨åˆ†é…çš„æ—¶å€™æä¾›æœåŠ¡ã€‚ä¸å»ºè®®æ‰“å¼€è¯¥é…ç½®ï¼Œè¿™æ ·ä¼šé€ æˆåˆ†åŒºçš„æ—¶å€™ï¼Œå°åˆ†åŒºçš„masterä¸€ç›´åœ¨æ¥å—å†™è¯·æ±‚ï¼Œè€Œé€ æˆå¾ˆé•¿æ—¶é—´æ•°æ®ä¸ä¸€è‡´ã€‚</span>
<span class="token comment"># cluster-require-full-coverage yes</span>

<span class="token comment">################################## SLOW LOG ###################################</span>
<span class="token comment">###slog logæ˜¯ç”¨æ¥è®°å½•redisè¿è¡Œä¸­æ‰§è¡Œæ¯”è¾ƒæ…¢çš„å‘½ä»¤è€—æ—¶ã€‚å½“å‘½ä»¤çš„æ‰§è¡Œè¶…è¿‡äº†æŒ‡å®šæ—¶é—´ï¼Œå°±è®°å½•åœ¨slow logä¸­ï¼Œslog logä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œæ‰€ä»¥æ²¡æœ‰IOæ“ä½œã€‚</span>
<span class="token comment">#æ‰§è¡Œæ—¶é—´æ¯”slowlog-log-slower-thanå¤§çš„è¯·æ±‚è®°å½•åˆ°slowlogé‡Œé¢ï¼Œå•ä½æ˜¯å¾®ç§’ï¼Œæ‰€ä»¥1000000å°±æ˜¯1ç§’ã€‚æ³¨æ„ï¼Œè´Ÿæ•°æ—¶é—´ä¼šç¦ç”¨æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œè€Œ0åˆ™ä¼šå¼ºåˆ¶è®°å½•æ‰€æœ‰å‘½ä»¤ã€‚</span>
slowlog-log-slower-than <span class="token number">10000</span>

<span class="token comment">#æ…¢æŸ¥è¯¢æ—¥å¿—é•¿åº¦ã€‚å½“ä¸€ä¸ªæ–°çš„å‘½ä»¤è¢«å†™è¿›æ—¥å¿—çš„æ—¶å€™ï¼Œæœ€è€çš„é‚£ä¸ªè®°å½•ä¼šè¢«åˆ æ‰ã€‚è¿™ä¸ªé•¿åº¦æ²¡æœ‰é™åˆ¶ã€‚åªè¦æœ‰è¶³å¤Ÿçš„å†…å­˜å°±è¡Œã€‚ä½ å¯ä»¥é€šè¿‡ SLOWLOG RESET æ¥é‡Šæ”¾å†…å­˜ã€‚</span>
slowlog-max-len <span class="token number">128</span>

<span class="token comment">################################ LATENCY MONITOR ##############################</span>
<span class="token comment">#å»¶è¿Ÿç›‘æ§åŠŸèƒ½æ˜¯ç”¨æ¥ç›‘æ§redisä¸­æ‰§è¡Œæ¯”è¾ƒç¼“æ…¢çš„ä¸€äº›æ“ä½œï¼Œç”¨LATENCYæ‰“å°rediså®ä¾‹åœ¨è·‘å‘½ä»¤æ—¶çš„è€—æ—¶å›¾è¡¨ã€‚åªè®°å½•å¤§äºç­‰äºä¸‹è¾¹è®¾ç½®çš„å€¼çš„æ“ä½œã€‚0çš„è¯ï¼Œå°±æ˜¯å…³é—­ç›‘è§†ã€‚é»˜è®¤å»¶è¿Ÿç›‘æ§åŠŸèƒ½æ˜¯å…³é—­çš„ï¼Œå¦‚æœä½ éœ€è¦æ‰“å¼€ï¼Œä¹Ÿå¯ä»¥é€šè¿‡CONFIG SETå‘½ä»¤åŠ¨æ€è®¾ç½®ã€‚</span>
latency-monitor-threshold <span class="token number">0</span>

<span class="token comment">############################# EVENT NOTIFICATION ##############################</span>
<span class="token comment">#é”®ç©ºé—´é€šçŸ¥ä½¿å¾—å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡è®¢é˜…é¢‘é“æˆ–æ¨¡å¼ï¼Œæ¥æ¥æ”¶é‚£äº›ä»¥æŸç§æ–¹å¼æ”¹åŠ¨äº† Redis æ•°æ®é›†çš„äº‹ä»¶ã€‚å› ä¸ºå¼€å¯é”®ç©ºé—´é€šçŸ¥åŠŸèƒ½éœ€è¦æ¶ˆè€—ä¸€äº› CPU ï¼Œæ‰€ä»¥åœ¨é»˜è®¤é…ç½®ä¸‹ï¼Œè¯¥åŠŸèƒ½å¤„äºå…³é—­çŠ¶æ€ã€‚</span>
<span class="token comment">#notify-keyspace-events çš„å‚æ•°å¯ä»¥æ˜¯ä»¥ä¸‹å­—ç¬¦çš„ä»»æ„ç»„åˆï¼Œå®ƒæŒ‡å®šäº†æœåŠ¡å™¨è¯¥å‘é€å“ªäº›ç±»å‹çš„é€šçŸ¥ï¼š</span>
<span class="token comment">##K é”®ç©ºé—´é€šçŸ¥ï¼Œæ‰€æœ‰é€šçŸ¥ä»¥ __keyspace@__ ä¸ºå‰ç¼€</span>
<span class="token comment">##E é”®äº‹ä»¶é€šçŸ¥ï¼Œæ‰€æœ‰é€šçŸ¥ä»¥ __keyevent@__ ä¸ºå‰ç¼€</span>
<span class="token comment">##g DEL ã€ EXPIRE ã€ RENAME ç­‰ç±»å‹æ— å…³çš„é€šç”¨å‘½ä»¤çš„é€šçŸ¥</span>
<span class="token comment">##$ å­—ç¬¦ä¸²å‘½ä»¤çš„é€šçŸ¥</span>
<span class="token comment">##l åˆ—è¡¨å‘½ä»¤çš„é€šçŸ¥</span>
<span class="token comment">##s é›†åˆå‘½ä»¤çš„é€šçŸ¥</span>
<span class="token comment">##h å“ˆå¸Œå‘½ä»¤çš„é€šçŸ¥</span>
<span class="token comment">##z æœ‰åºé›†åˆå‘½ä»¤çš„é€šçŸ¥</span>
<span class="token comment">##x è¿‡æœŸäº‹ä»¶ï¼šæ¯å½“æœ‰è¿‡æœŸé”®è¢«åˆ é™¤æ—¶å‘é€</span>
<span class="token comment">##e é©±é€(evict)äº‹ä»¶ï¼šæ¯å½“æœ‰é”®å› ä¸º maxmemory æ”¿ç­–è€Œè¢«åˆ é™¤æ—¶å‘é€</span>
<span class="token comment">##A å‚æ•° g$lshzxe çš„åˆ«å</span>
<span class="token comment">#è¾“å…¥çš„å‚æ•°ä¸­è‡³å°‘è¦æœ‰ä¸€ä¸ª K æˆ–è€… Eï¼Œå¦åˆ™çš„è¯ï¼Œä¸ç®¡å…¶ä½™çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Œéƒ½ä¸ä¼šæœ‰ä»»ä½• é€šçŸ¥è¢«åˆ†å‘ã€‚è¯¦ç»†ä½¿ç”¨å¯ä»¥å‚è€ƒhttp://redis.io/topics/notifications</span>

notify-keyspace-events <span class="token string">&quot;&quot;</span>

<span class="token comment">############################### ADVANCED CONFIG ###############################</span>
<span class="token comment">#æ•°æ®é‡å°äºç­‰äºhash-max-ziplist-entriesçš„ç”¨ziplistï¼Œå¤§äºhash-max-ziplist-entriesç”¨hash</span>
hash-max-ziplist-entries <span class="token number">512</span>
<span class="token comment">#valueå¤§å°å°äºç­‰äºhash-max-ziplist-valueçš„ç”¨ziplistï¼Œå¤§äºhash-max-ziplist-valueç”¨hashã€‚</span>
hash-max-ziplist-value <span class="token number">64</span>

<span class="token comment">#æ•°æ®é‡å°äºç­‰äºlist-max-ziplist-entriesç”¨ziplistï¼Œå¤§äºlist-max-ziplist-entriesç”¨listã€‚</span>
list-max-ziplist-entries <span class="token number">512</span>
<span class="token comment">#valueå¤§å°å°äºç­‰äºlist-max-ziplist-valueçš„ç”¨ziplistï¼Œå¤§äºlist-max-ziplist-valueç”¨listã€‚</span>
list-max-ziplist-value <span class="token number">64</span>

<span class="token comment">#æ•°æ®é‡å°äºç­‰äºset-max-intset-entriesç”¨inisetï¼Œå¤§äºset-max-intset-entriesç”¨setã€‚</span>
set-max-intset-entries <span class="token number">512</span>

<span class="token comment">#æ•°æ®é‡å°äºç­‰äºzset-max-ziplist-entriesç”¨ziplistï¼Œå¤§äºzset-max-ziplist-entriesç”¨zsetã€‚</span>
zset-max-ziplist-entries <span class="token number">128</span>
<span class="token comment">#valueå¤§å°å°äºç­‰äºzset-max-ziplist-valueç”¨ziplistï¼Œå¤§äºzset-max-ziplist-valueç”¨zsetã€‚</span>
zset-max-ziplist-value <span class="token number">64</span>

<span class="token comment">#valueå¤§å°å°äºç­‰äºhll-sparse-max-bytesä½¿ç”¨ç¨€ç–æ•°æ®ç»“æ„ï¼ˆsparseï¼‰ï¼Œå¤§äºhll-sparse-max-bytesä½¿ç”¨ç¨ å¯†çš„æ•°æ®ç»“æ„ï¼ˆdenseï¼‰ã€‚ä¸€ä¸ªæ¯”16000å¤§çš„valueæ˜¯å‡ ä¹æ²¡ç”¨çš„ï¼Œå»ºè®®çš„valueå¤§æ¦‚ä¸º3000ã€‚å¦‚æœå¯¹CPUè¦æ±‚ä¸é«˜ï¼Œå¯¹ç©ºé—´è¦æ±‚è¾ƒé«˜çš„ï¼Œå»ºè®®è®¾ç½®åˆ°10000å·¦å³ã€‚</span>
hll-sparse-max-bytes <span class="token number">3000</span>

<span class="token comment">#Rediså°†åœ¨æ¯100æ¯«ç§’æ—¶ä½¿ç”¨1æ¯«ç§’çš„CPUæ—¶é—´æ¥å¯¹redisçš„hashè¡¨è¿›è¡Œé‡æ–°hashï¼Œå¯ä»¥é™ä½å†…å­˜çš„ä½¿ç”¨ã€‚å½“ä½ çš„ä½¿ç”¨åœºæ™¯ä¸­ï¼Œæœ‰éå¸¸ä¸¥æ ¼çš„å®æ—¶æ€§éœ€è¦ï¼Œä¸èƒ½å¤Ÿæ¥å—Redisæ—¶ä¸æ—¶çš„å¯¹è¯·æ±‚æœ‰2æ¯«ç§’çš„å»¶è¿Ÿçš„è¯ï¼ŒæŠŠè¿™é¡¹é…ç½®ä¸ºnoã€‚å¦‚æœæ²¡æœ‰è¿™ä¹ˆä¸¥æ ¼çš„å®æ—¶æ€§è¦æ±‚ï¼Œå¯ä»¥è®¾ç½®ä¸ºyesï¼Œä»¥ä¾¿èƒ½å¤Ÿå°½å¯èƒ½å¿«çš„é‡Šæ”¾å†…å­˜ã€‚</span>
activerehashing <span class="token function">yes</span>

<span class="token comment">##å¯¹å®¢æˆ·ç«¯è¾“å‡ºç¼“å†²è¿›è¡Œé™åˆ¶å¯ä»¥å¼ºè¿«é‚£äº›ä¸ä»æœåŠ¡å™¨è¯»å–æ•°æ®çš„å®¢æˆ·ç«¯æ–­å¼€è¿æ¥ï¼Œç”¨æ¥å¼ºåˆ¶å…³é—­ä¼ è¾“ç¼“æ…¢çš„å®¢æˆ·ç«¯ã€‚</span>
<span class="token comment">#å¯¹äºnormal clientï¼Œç¬¬ä¸€ä¸ª0è¡¨ç¤ºå–æ¶ˆhard limitï¼Œç¬¬äºŒä¸ª0å’Œç¬¬ä¸‰ä¸ª0è¡¨ç¤ºå–æ¶ˆsoft limitï¼Œnormal clienté»˜è®¤å–æ¶ˆé™åˆ¶ï¼Œå› ä¸ºå¦‚æœæ²¡æœ‰å¯»é—®ï¼Œä»–ä»¬æ˜¯ä¸ä¼šæ¥æ”¶æ•°æ®çš„ã€‚</span>
client-output-buffer-limit normal <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span>
<span class="token comment">#å¯¹äºslave clientå’ŒMONITER clientï¼Œå¦‚æœclient-output-bufferä¸€æ—¦è¶…è¿‡256mbï¼Œåˆæˆ–è€…è¶…è¿‡64mbæŒç»­60ç§’ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¼šç«‹å³æ–­å¼€å®¢æˆ·ç«¯è¿æ¥ã€‚</span>
client-output-buffer-limit slave 256mb 64mb <span class="token number">60</span>
<span class="token comment">#å¯¹äºpubsub clientï¼Œå¦‚æœclient-output-bufferä¸€æ—¦è¶…è¿‡32mbï¼Œåˆæˆ–è€…è¶…è¿‡8mbæŒç»­60ç§’ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¼šç«‹å³æ–­å¼€å®¢æˆ·ç«¯è¿æ¥ã€‚</span>
client-output-buffer-limit pubsub 32mb 8mb <span class="token number">60</span>

<span class="token comment">#redisæ‰§è¡Œä»»åŠ¡çš„é¢‘ç‡ä¸º1sé™¤ä»¥hzã€‚</span>
hz <span class="token number">10</span>

<span class="token comment">#åœ¨aofé‡å†™çš„æ—¶å€™ï¼Œå¦‚æœæ‰“å¼€äº†aof-rewrite-incremental-fsyncå¼€å…³ï¼Œç³»ç»Ÿä¼šæ¯32MBæ‰§è¡Œä¸€æ¬¡fsyncã€‚è¿™å¯¹äºæŠŠæ–‡ä»¶å†™å…¥ç£ç›˜æ˜¯æœ‰å¸®åŠ©çš„ï¼Œå¯ä»¥é¿å…è¿‡å¤§çš„å»¶è¿Ÿå³°å€¼ã€‚</span>
aof-rewrite-incremental-fsync <span class="token function">yes</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br></div></div></details> <h2 id="æŒä¹…åŒ–"><a href="#æŒä¹…åŒ–" class="header-anchor">#</a> æŒä¹…åŒ–</h2> <p>Redis æ˜¯å†…å­˜å‹æ•°æ®åº“ï¼Œå®ƒæŠŠæ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚ä¸ºäº†é˜²æ­¢å®•æœºå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œredisæä¾›äº†æŒä¹…åŒ–åŠŸèƒ½  RDB å’Œ AOF</p> <h3 id="rdb-é»˜è®¤"><a href="#rdb-é»˜è®¤" class="header-anchor">#</a> RDBï¼ˆé»˜è®¤ï¼‰</h3> <p>Redis DataBaseï¼Œåœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”å†…ï¼Œæ‰§è¡ŒæŒ‡å®šæ¬¡æ•°çš„å†™æ“ä½œï¼Œåˆ™ä¼šå°†å†…å­˜ä¸­çš„æ•°æ®å†™å…¥åˆ°ç£ç›˜ä¸­ã€‚ dump.rdbï¼ˆå¯åœ¨é…ç½®ä¸­æŒ‡å®šï¼‰ã€‚</p> <h3 id="aof"><a href="#aof" class="header-anchor">#</a> AOF</h3> <p>Append Only Fileï¼ŒRedis é»˜è®¤ä¸å¼€å¯ã€‚å®ƒçš„å‡ºç°æ˜¯ä¸ºäº†å¼¥è¡¥RDBçš„ä¸è¶³ï¼ˆæ•°æ®çš„ä¸ä¸€è‡´æ€§ï¼‰ï¼Œæ‰€ä»¥å®ƒé‡‡ç”¨æ—¥å¿—çš„ å½¢å¼æ¥è®°å½•æ¯ä¸ª<strong>å†™æ“ä½œ</strong>ï¼Œå¹¶<strong>è¿½åŠ </strong>åˆ°æ–‡ä»¶ä¸­ã€‚Redis é‡å¯ä¼šæ ¹æ®æ—¥å¿—æ–‡ä»¶çš„å†…å®¹å°†å†™æŒ‡ä»¤ä»å‰åˆ°åæ‰§è¡Œä¸€æ¬¡ä»¥å®Œæˆæ•°æ®çš„æ¢å¤å·¥ä½œã€‚</p></div></div> <div class="page-slot page-slot-bottom"><!-- æ¨ªå‘è‡ªé€‚åº” -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2021/05/04, 23:22:32</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/pages/f9fe0b/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">memcache</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/f9fe0b/">memcache</a>â†’
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:hwj2586@163.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/Jaredhi" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://gitee.com/Jared-h" title="GitHub" target="_blank" class="iconfont icon-gitee"></a><a href="https://t.kugou.com/2npMP0dxWV2" title="å¬éŸ³ä¹" target="_blank" class="iconfont icon-erji"></a></div> 
    Theme by
    <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a>
    Copyright Â© 2020-2021
    <span>Jared H <br> <a href="https://www.beian.miit.gov.cn" target="_blank">ç²¤ICPå¤‡20046800å·</a></span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">è·Ÿéšç³»ç»Ÿ</li><li class="iconfont icon-rijianmoshi">æµ…è‰²æ¨¡å¼</li><li class="iconfont icon-yejianmoshi">æ·±è‰²æ¨¡å¼</li><li class="iconfont icon-yuedu">é˜…è¯»æ¨¡å¼</li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><i class="close-but">Ã—</i> <div><!-- å›ºå®š160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.dce23f32.js" defer></script><script src="/assets/js/2.0a476569.js" defer></script><script src="/assets/js/3.03310ead.js" defer></script><script src="/assets/js/51.a2eae4fb.js" defer></script>
  </body>
</html>